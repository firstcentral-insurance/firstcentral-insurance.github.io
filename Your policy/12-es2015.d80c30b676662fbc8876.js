(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/Rv7":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{transform(e,t,n=null){return 1!==e?n||`${t}s`:t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Qb({name:"singularPlural",type:e,pure:!0}),e})()},"6qA3":function(e,t,n){"use strict";var i=n("OAkW"),o=n("Z5tI"),c=n("poJ0"),a=n("ozli"),s=n("yRPT"),r=n("90cg"),l=n("GMZp"),b=n("VKeD"),d=n("zfKp");t.subscribeTo=function(e){if(e&&"function"==typeof e[d.observable])return a.subscribeToObservable(e);if(s.isArrayLike(e))return i.subscribeToArray(e);if(r.isPromise(e))return o.subscribeToPromise(e);if(e&&"function"==typeof e[b.iterator])return c.subscribeToIterable(e);var t=l.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"90cg":function(e,t,n){"use strict";t.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},"9AGB":function(e,t,n){"use strict";var i=n("yoF8");function o(e){return 0===e.length?i.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},FWf1:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("pshJ"),c=n("GiSu"),a=n("zB/H"),s=n("p//D"),r=n("n3uD"),l=n("MkmW"),b=function(e){function t(n,i,o){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=c.empty;break;case 1:if(!n){a.destination=c.empty;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,i,o)}return a}return i(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,i){var o=new t(e,n,i);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.Subscription);t.Subscriber=b;var d=function(e){function t(t,n,i,a){var s,r=e.call(this)||this;r._parentSubscriber=t;var l=r;return o.isFunction(n)?s=n:n&&(s=n.next,i=n.error,a=n.complete,n!==c.empty&&(l=Object.create(n),o.isFunction(l.unsubscribe)&&r.add(l.unsubscribe.bind(l)),l.unsubscribe=r.unsubscribe.bind(r))),r._context=l,r._next=s,r._error=i,r._complete=a,r}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;r.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=r.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};r.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),r.config.useDeprecatedSynchronousErrorHandling)throw n;l.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!r.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return r.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(l.hostReportError(i),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(b);t.SafeSubscriber=d},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},GiSu:function(e,t,n){"use strict";var i=n("n3uD"),o=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(i.config.useDeprecatedSynchronousErrorHandling)throw e;o.hostReportError(e)},complete:function(){}}},HknS:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL");let o=(()=>{class e{post(e,t,n){const i=document.createElement("form");n&&(i.target="_blank"),i.method="POST",i.action=t,Object.keys(e).forEach(function(t){const n=document.createElement("input");n.type="hidden",n.name=t,n.setAttribute("value",e[t]),i.appendChild(n)}),document.body.appendChild(i),i.submit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},IW2O:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("wjEo");t.takeUntil=function(e){return function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),i=o.innerSubscribe(this.notifier,new o.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return i(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(o.SimpleOuterSubscriber)},LBXl:function(e,t,n){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout(function(){throw e},0)}},OAkW:function(e,t,n){"use strict";t.subscribeToArray=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}}},Q1FS:function(e,t,n){"use strict";var i=n("yx2s"),o=n("Xwq/"),c=n("zfKp"),a=n("9AGB"),s=n("n3uD");function r(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i=this.operator,c=o.toSubscriber(e,t,n);if(c.add(i?i.call(c,this.source):this.source||s.config.useDeprecatedSynchronousErrorHandling&&!c.syncErrorThrowable?this._subscribe(c):this._trySubscribe(c)),s.config.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable&&(c.syncErrorThrowable=!1,c.syncErrorThrown))throw c.syncErrorValue;return c},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=r(t))(function(t,i){var o;o=n.subscribe(function(t){try{e(t)}catch(n){i(n),o&&o.unsubscribe()}},i,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[c.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=r(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}()},VKeD:function(e,t,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}t.getSymbolIterator=i,t.iterator=i(),t.$$iterator=t.iterator},"Xwq/":function(e,t,n){"use strict";var i=n("FWf1"),o=n("p//D"),c=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof i.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new i.Subscriber(e,t,n):new i.Subscriber(c.empty)}},Z5tI:function(e,t,n){"use strict";var i=n("MkmW");t.subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.hostReportError),t}}},d7gL:function(e,t,n){"use strict";n.r(t),n.d(t,"CustomerModule",function(){return ur});var i=n("h7a8"),o=n("iNeq"),c=n("+Cnu"),a=n("K3ix"),s=n("fXoL"),r=n("ofXK");function l(e,t){if(1&e){const e=s.Yb();s.Xb(0,"span",7),s.fc("click",function(t){s.Ec(e);const n=s.ic().$implicit,i=s.ic();return t.preventDefault(),i.removeTab(n)}),s.Lc(1," \u274c"),s.Wb()}}const b=function(e){return["nav-item",e]};function d(e,t){if(1&e){const e=s.Yb();s.Xb(0,"li",3),s.fc("keydown",function(n){s.Ec(e);const i=t.index;return s.ic().keyNavActions(n,i)}),s.Xb(1,"a",4),s.fc("click",function(){return t.$implicit.active=!0}),s.Xb(2,"span",5),s.Lc(3),s.Wb(),s.Jc(4,l,2,0,"span",6),s.Wb(),s.Wb()}if(2&e){const e=t.$implicit;s.Jb("active",e.active)("disabled",e.disabled),s.pc("ngClass",s.uc(15,b,e.customClass||"")),s.Ab(1),s.Jb("active",e.active)("disabled",e.disabled),s.Bb("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),s.Ab(1),s.pc("ngTransclude",e.headingRef),s.Ab(1),s.Mc(e.heading),s.Ab(1),s.pc("ngIf",e.removable)}}const u=["*"];let p=(()=>{class e{constructor(e){this.viewRef=e}set ngTransclude(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}get ngTransclude(){return this._ngTransclude}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(s.P))},e.\u0275dir=s.Mb({type:e,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),e})(),h=(()=>{class e{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s.Nb)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),m=(()=>{class e{constructor(e,t,n){this.renderer=t,this.elementRef=n,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,e)}get vertical(){return this._vertical}set vertical(e){this._vertical=e,this.setClassMap()}get justified(){return this._justified}set justified(e){this._justified=e,this.setClassMap()}get type(){return this._type}set type(e){this._type=e,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(e){this._isKeysAllowed=e}ngOnDestroy(){this.isDestroyed=!0}addTab(e){this.tabs.push(e),e.active=1===this.tabs.length&&void 0===e.active}removeTab(e,t={reselect:!0,emit:!0}){const n=this.tabs.indexOf(e);if(-1!==n&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){const e=this.getClosestTabIndex(n);this.tabs[e].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}keyNavActions(e,t){if(!this.isKeysAllowed)return;const n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13!==e.keyCode&&"Enter"!==e.key&&32!==e.keyCode&&"Space"!==e.key)if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),n[t+1])return void n[(t+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{let i;e.preventDefault();let o=1,c=t;do{c-o<0?(c=n.length-1,i=n[c],o=0):i=n[c-o],o++}while(i.classList.contains("disabled"));i.focus()}else{let t;e.preventDefault();let i=0;do{t=n[i%n.length],i++}while(t.classList.contains("disabled"));t.focus()}else{let e,i=1,o=t;do{o-i<0?(o=n.length-1,e=n[o],i=0):e=n[o-i],i++}while(e.classList.contains("disabled"));e.focus()}else{let e,i=1;do{e=n[(t+i)%n.length],i++}while(e.classList.contains("disabled"));e.focus()}else e.preventDefault(),n[t%n.length].click()}getClosestTabIndex(e){const t=this.tabs.length;if(!t)return-1;for(let n=1;n<=t;n+=1){const t=e-n,i=e+n;if(this.tabs[t]&&!this.tabs[t].disabled)return t;if(this.tabs[i]&&!this.tabs[i].disabled)return i}return-1}hasAvailableTabs(e){const t=this.tabs.length;if(!t)return!1;for(let n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(h),s.Rb(s.E),s.Rb(s.l))},e.\u0275cmp=s.Lb({type:e,selectors:[["tabset"]],hostVars:2,hostBindings:function(e,t){2&e&&s.Jb("tab-container",t.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:u,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(e,t){1&e&&(s.oc(),s.Xb(0,"ul",0),s.fc("click",function(e){return e.preventDefault()}),s.Jc(1,d,5,17,"li",1),s.Wb(),s.Xb(2,"div",2),s.nc(3),s.Wb()),2&e&&(s.pc("ngClass",t.classMap),s.Bb("aria-label",t.ariaLabel),s.Ab(1),s.pc("ngForOf",t.tabs))},directives:[r.n,r.o,p,r.p],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),e})(),g=(()=>{class e{constructor(e,t,n){this.elementRef=t,this.renderer=n,this.selectTab=new s.n,this.deselect=new s.n,this.removed=new s.n,this.addClass=!0,this.role="tabpanel",this.tabset=e,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(e){this.customClass&&this.customClass.split(" ").forEach(e=>{this.renderer.removeClass(this.elementRef.nativeElement,e)}),this._customClass=e?e.trim():null,this.customClass&&this.customClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}get active(){return this._active}set active(e){this._active!==e&&(this.disabled&&e||!e?this._active&&!e&&(this.deselect.emit(this),this._active=e):(this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(e=>{e!==this&&(e.active=!1)})))}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(m),s.Rb(s.l),s.Rb(s.E))},e.\u0275dir=s.Mb({type:e,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(e,t){2&e&&(s.Bb("role",t.role)("aria-labelledby",t.ariaLabelledby)("id",t.id),s.Jb("tab-pane",t.addClass)("active",t.active))},inputs:{customClass:"customClass",active:"active",removable:"removable",heading:"heading",id:"id",disabled:"disabled"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),e})(),f=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({imports:[[r.c]]}),e})();var v=n("MeWU"),y=n("PCNd"),w=n("tyNb"),C=n("jhN1"),W=n("SxV6"),X=n("w1tV"),S=n("nYR2"),L=n("cp0P"),k=n("rZBt"),P=n("fHT1"),M=function(e){return e[e.Default=0]="Default",e[e.UnsignedCreditAgreement=1]="UnsignedCreditAgreement",e[e.ManualRenewal=2]="ManualRenewal",e[e.Renewal=3]="Renewal",e[e.OutstandingPayment=4]="OutstandingPayment",e[e.ChangesUnavailable=5]="ChangesUnavailable",e[e.UnpaidPrevalidatedMTA=6]="UnpaidPrevalidatedMTA",e[e.MissingDrivingLicenceNumber=7]="MissingDrivingLicenceNumber",e[e.CustomerCantMakeChangesAfterCFSLock=8]="CustomerCantMakeChangesAfterCFSLock",e[e.DocumentRequestInProgress=9]="DocumentRequestInProgress",e[e.BackInToAutoRenewal=10]="BackInToAutoRenewal",e[e.DocumentRequestSubmitted=11]="DocumentRequestSubmitted",e}({}),A=n("XNiG");let O=(()=>{class e{constructor(){this._subjectSource=new A.a,this.subject$=this._subjectSource.asObservable()}setOptInOutValue(e){this._subjectSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Nb({token:e,factory:e.\u0275fac}),e})();var I=n("g6Pp"),x=n("WlVc"),R=n("ZF+8"),D=n("um90"),_=n("x845"),T=n("fczk"),q=n("mrSG"),E=n("mkZv"),N=n("k5Aa"),F=n("YH6z"),j=n("nfRA"),J=n("YbVh");function U(e,t){if(1&e){const e=s.Yb();s.Xb(0,"app-alert",3),s.fc("clickedAction",function(t){return s.Ec(e),s.ic().onActionClick(t)}),s.Wb()}2&e&&s.pc("content",t.$implicit)}let B=(()=>{class e{constructor(e,t,n,i,o,c){this.dashboardService=e,this.route=t,this.router=n,this.arrearsLoginService=i,this.policyService=o,this.loadingOverlay=c}ngOnInit(){this.setAccountMessages()}onActionClick(e){e&&e.apply(this)}ngOnChanges(e){this.messages&&this.setAccountMessages()}displayCreditAgreement(){window.open(`${E.a.settings.client.apiUrl}document/document?id=${this.agreementDocId}`)}setAccountMessages(){this.accountMessages=this.messages.map(e=>this.mapToAlertContent(e)).filter(e=>e)}mapToAlertContent(e){switch(e.type){case M.Default:return this.getDefaultAlertContent(e);case M.UnsignedCreditAgreement:return this.getUnsignedCreditAlertContent(e);case M.CustomerCantMakeChangesAfterCFSLock:return this.getCustomerCantMakeChangesAfterCFSLockContent(e);case M.ManualRenewal:return this.getManualRenewalAlertComponent(e);case M.BackInToAutoRenewal:return this.getBackInAutoRenewalComponent(e);case M.OutstandingPayment:return this.getOutstandingPaymentAlertContent(e);case M.ChangesUnavailable:return this.getChangesUnavailableAlertContent(e);case M.UnpaidPrevalidatedMTA:return this.getUnpaidPrevalidatedMTAAlertContent(e);case M.MissingDrivingLicenceNumber:return this.getMissingDrivingLicenceNumberAlertComponent(e);case M.DocumentRequestInProgress:return this.getDocumentRequestInProgressContent(e);case M.DocumentRequestSubmitted:return this.getDocumentRequestSubmittedAlertContent(e);default:return}}getDocumentRequestSubmittedAlertContent(e){return{type:"success",icon:"icon-tick",heading:e.title,description:e.message}}getDefaultAlertContent(e){return{type:"warning",heading:e.title,description:e.message}}getChangesUnavailableAlertContent(e){return{type:"danger",heading:e.title,description:e.message}}getUnpaidPrevalidatedMTAAlertContent(e){return this.router.url.includes("/customer/quote")?{type:"warning",heading:e.title,description:e.message}:{type:"warning",heading:e.title,description:e.message,primaryAction:{label:"Complete change",action:this.navigateToQuote}}}getDocumentRequestInProgressContent(e){return{type:"warning",heading:e.title,description:e.message,primaryAction:{label:"Provide now",action:null,openTabUrl:"/customer/documents",adobeLaunchId:"Provide Now Link"}}}navigateToQuote(){this.router.navigate(["/customer/quote"])}navigateToDocuments(){this.router.navigate(["/customer/documents"])}getUnsignedCreditAlertContent(e){const t=e;this.agreementId=t.agreementID,this.policyKey=t.policyKey,this.policyId=t.policyId;const n={type:"warning",heading:e.title,description:`You're unable to make changes to your policy at the moment as your credit agreement is unsigned.\n     Please tick this box to confirm you agree to the terms of our credit agreement for policy ${t.policyKey}.<br /><br />${t.agreementDoc?"":"Your credit agreement document is currently unavailable"}`};return t.agreementDoc&&(this.agreementDocId=t.agreementDoc.link,n.checkboxAction={label:"Accept",action:this.onCreditAgreementAccept},n.secondaryActions=[{label:"Credit agreement",action:this.displayCreditAgreement}]),n}onCreditAgreementAccept(){this.loadingOverlay.show(),this.dashboardService.signAgreement$(this.agreementId,this.policyKey,null).subscribe(()=>{location.reload()})}getOutstandingPaymentAlertContent(e){return this.arrearsDeeplink=e.arrearsDeeplink,{type:"warning",heading:e.title,description:e.message,primaryAction:{label:"Make Payment",action:this.onPayNow}}}onPayNow(){this.loadingOverlay.show(),this.arrearsLoginService.payArrears(this.route.snapshot.queryParams.policyId).subscribe({next:e=>Object(q.a)(this,void 0,void 0,function*(){if(e.isSuccess){const e=window.location.pathname;yield this.router.navigate(["/consumer/payment/hosted/beginpayment"],{queryParams:{actionPath:e}})}}),complete:()=>this.loadingOverlay.close()})}getManualRenewalAlertComponent(e){const t=e;return{type:"warning",heading:e.title,description:`Your policy is due to end on ${t.endDate}. ${t.affordabilityPassed?"You can view the details and renew online here.":"Unfortunately, we're unable to automatically renew your policy. You can view the details and still renew online here."} ${t.isMulticar?"<br>Great news, we've included your <b>\xa350 Multicar discount</b> to your quote!":""}`,primaryAction:{label:"View Details and Renew",action:()=>this.goToRenewal(t)}}}goToRenewal(e){E.a.settings.client.renewalQuoteJourneyInYourAccount?this.router.navigate(["/renewal/home"],{queryParams:{policyId:e.policyId}}):window.location.href=e.manualRenewalLink}getBackInAutoRenewalComponent(e){let t=e;return{type:"warning",heading:"Your renewal settings",dismissable:!0,description:`Your policy isn't set to automatically renew on your renewal date. To ensure you are always covered, you can easily do this on <a href="${this.router.createUrlTree(["/customer/account/makecontactdetailschanges"],{queryParams:{policyId:decodeURIComponent(t.policyId)},fragment:"auto-renewal-settings",queryParamsHandling:"merge"}).toString()}">here</a>.`,dismissedAction:{label:"Close",action:()=>this.onDismissBackInRenewal(t.type)}}}onDismissBackInRenewal(e){this.loadingOverlay.show(),this.policyService.dismissMessage$(this.route.snapshot.queryParams.policyId,e,3).subscribe({complete:()=>this.loadingOverlay.close()})}getMissingDrivingLicenceNumberAlertComponent(e){return{type:"warning",heading:e.title,description:e.message,primaryAction:{label:"Update here",action:()=>this.router.navigate(["adjustment/home/adjustmentchanges"],{queryParams:{policyId:this.route.snapshot.queryParams.policyId,adjustmentType:N.c.DrivingLicenceNumber}})}}}getCustomerCantMakeChangesAfterCFSLockContent(e){return{type:"warning",heading:e.title,description:e.message}}onOptOutRenewal(e){this.router.navigate(["/customer/account"],{fragment:"policy-auto-renewal-settings",queryParams:{policyId:e}})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(F.b),s.Rb(w.a),s.Rb(w.g),s.Rb(j.a),s.Rb(R.e),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-messages"]],inputs:{messages:"messages"},features:[s.yb],decls:3,vars:1,consts:[[1,"row","py-4"],[1,"col-md-12","col-lg-12"],[3,"content","clickedAction",4,"ngFor","ngForOf"],[3,"content","clickedAction"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Jc(2,U,1,1,"app-alert",2),s.Wb(),s.Wb()),2&e&&(s.Ab(2),s.pc("ngForOf",t.accountMessages))},directives:[r.o,J.a],styles:[""]}),e})();var V=n("h/xu"),Y=n("1G5W"),$=n("CqBB"),H=n("/Jl6");const Q=function(e){return{width:e,"min-width":"0.9rem"}};let K=(()=>{class e{constructor(){}get percentage(){return this.currentValue/this.maxValue*100}ngOnInit(){}setProgressBarColor(){return this.colorChangeTreshold?this.currentValue>this.colorChangeTreshold?"danger-color":"warning-color":"default-color"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Lb({type:e,selectors:[["app-progress-bar"]],inputs:{currentValue:"currentValue",maxValue:"maxValue",colorChangeTreshold:"colorChangeTreshold"},decls:4,vars:6,consts:[[1,"progress"],["role","progressbar",1,"progress-bar",3,"ngStyle","ngClass"],[1,"sr-only"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"span",2),s.Lc(3),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(1),s.pc("ngStyle",s.uc(4,Q,t.percentage+"%"))("ngClass",t.setProgressBarColor()),s.Bb("aria-valuetext",t.percentage),s.Ab(2),s.Mc(t.percentage))},directives:[r.q,r.n],styles:[".progress[_ngcontent-%COMP%]{border-radius:15px;padding:2px;height:1.25rem!important;background-color:#fff;border:1px solid #d0d0ce}.progress-bar[_ngcontent-%COMP%]{border-radius:1rem}.warning-color[_ngcontent-%COMP%]{background-color:#ff7f27}.danger-color[_ngcontent-%COMP%]{background-color:#e7131a}.default-color[_ngcontent-%COMP%]{background-color:#0ba88d}"]}),e})();var G=n("rEKL"),z=n("FnOd");function Z(e,t){1&e&&s.Tb(0)}function ee(e,t){if(1&e&&(s.Vb(0),s.Jc(1,Z,1,0,"ng-container",31),s.Ub()),2&e){const e=s.ic(2),t=s.Ac(83),n=s.Ac(85);s.Ab(1),s.pc("ngIf",e.renewalAutoAcceptSelected)("ngIfThen",t)("ngIfElse",n)}}function te(e,t){1&e&&s.Tb(0)}function ne(e,t){if(1&e&&(s.Xb(0,"div",28),s.Jc(1,ee,2,3,"ng-container",29),s.Jc(2,te,1,0,"ng-container",30),s.Wb()),2&e){const e=s.ic(),t=s.Ac(87);s.Ab(1),s.pc("ngIf",!e.policy.renewalDeclined),s.Ab(1),s.pc("ngIf",e.policy.renewalDeclined)("ngIfThen",t)}}function ie(e,t){1&e&&s.Sb(0,"span",15)}function oe(e,t){1&e&&s.Sb(0,"span",15)}const ce=function(){return["/renewal"]},ae=function(e){return{policyId:e}};function se(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",32),s.Sb(2,"app-progress-bar",33),s.Wb(),s.Xb(3,"div",34),s.Xb(4,"p",35),s.Lc(5),s.Wb(),s.Wb(),s.Xb(6,"div",36),s.Xb(7,"button",23),s.Lc(8,"Manage your renewal"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"p"),s.Lc(10," You can easily make updates to your renewal, including policy and payment details by visiting "),s.Xb(11,"a",37),s.Lc(12,"manage your renewal"),s.Wb(),s.Lc(13,". "),s.Wb()),2&e){const e=s.ic();s.Ab(2),s.pc("currentValue",e.progressBarDays)("maxValue",30)("colorChangeTreshold",23),s.Ab(3),s.Nc("",e.policy.daysUntilEnd," days until your policy automatically renews"),s.Ab(2),s.pc("routerLink",s.tc(11,ce))("queryParams",s.uc(12,ae,e.policyId))("disabled",e.isRenewalLocked),s.Ab(4),s.Jb("disabled",!!e.isRenewalLocked||null),s.pc("routerLink",s.tc(14,ce))("queryParams",s.uc(15,ae,e.policyId))}}const re=function(){return["/customer/account/makecontactdetailschanges"]};function le(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",32),s.Sb(2,"app-progress-bar",33),s.Wb(),s.Xb(3,"div",34),s.Xb(4,"p",35),s.Lc(5),s.Wb(),s.Wb(),s.Xb(6,"div",36),s.Xb(7,"button",23),s.Lc(8,"Manage your renewal"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"p"),s.Lc(10," You can easily renew, make changes to your renewal, including policy and payment details by visiting "),s.Xb(11,"a",38),s.Lc(12,"manage your renewal"),s.Wb(),s.Lc(13,". You can tell us to automatically renew your policy by turning on your automatic renewal "),s.Xb(14,"a",37),s.Lc(15,"here"),s.Wb(),s.Lc(16,". "),s.Wb()),2&e){const e=s.ic();s.Ab(2),s.pc("currentValue",e.progressBarDays)("maxValue",30)("colorChangeTreshold",23),s.Ab(3),s.Nc("",e.policy.daysUntilEnd," days until your cover ends"),s.Ab(2),s.pc("routerLink",s.tc(13,ce))("queryParams",s.uc(14,ae,e.policyId))("disabled",e.isRenewalLocked),s.Ab(4),s.Jb("disabled",!!e.isRenewalLocked||null),s.pc("queryParams",s.uc(16,ae,e.policyId))("routerLink",s.tc(18,ce)),s.Ab(3),s.pc("routerLink",s.tc(19,re))("queryParams",s.uc(20,ae,e.policyId))}}function be(e,t){if(1&e&&(s.Xb(0,"div",39),s.Xb(1,"div",40),s.Sb(2,"app-progress-bar",33),s.Wb(),s.Xb(3,"div",41),s.Xb(4,"p",42),s.Lc(5),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"p"),s.Lc(7," Unfortunately, based on your current details we\u2019re unable to offer you a renewal for next year. If all your details are up to date, you\u2019ll need to seek alternative insurance. If you\u2019d like to discuss this further, please call "),s.Xb(8,"a",43),s.Lc(9,"0333 043 2055"),s.Wb(),s.Lc(10,". We\u2019ll email you your No Claims Discount on the day your cover ends. "),s.Wb()),2&e){const e=s.ic();s.Ab(2),s.pc("currentValue",e.progressBarDays)("maxValue",30)("colorChangeTreshold",23),s.Ab(3),s.Nc("",e.policy.daysUntilEnd," days until your cover ends")}}const de=function(){return["/adjustment/home/adjustmentchanges"]},ue=function(e,t){return{adjustmentType:e,policyId:t}};let pe=(()=>{class e{constructor(e,t,n,i){this.route=e,this.router=t,this.policyMessagesService=n,this.autoRenewalOptInToggleService=i,this.adjustmentTypes=V.a,this.renewalQuoteJourneyInYourAccount=E.a.settings.client.renewalQuoteJourneyInYourAccount,this._destroyed=new A.a}set policyDetails(e){this._policy=e,this.isPolicyLive=(this._policy.policyStatus==N.j.Live||this._policy.policyStatus==N.j.Renewed)&&this._policy.isBeforeEndDate,this.progressBarDays=this._policy.daysUntilEnd>30?1:30-this._policy.daysUntilEnd+1,this.renewalAutoAcceptSelected=e.renewalAutoAcceptSelected}ngOnInit(){this.policyMessagesService.policyAdjustmentLocked$.pipe(Object(X.a)()).subscribe(e=>{this.policyChangesLocked=e}),this.policyMessagesService.policyAdjustmentLockedDueToRenewal$.pipe(Object(X.a)()).subscribe(e=>{this.policyChangesLockedDueToRenewal=e}),this.policyMessagesService.renewalChangesLocked$.pipe(Object(X.a)()).subscribe(e=>{this.renewalChangesLocked=e}),this.autoRenewalOptInToggleService.subject$.pipe(Object(Y.a)(this._destroyed)).subscribe(e=>this.renewalAutoAcceptSelected=e)}ngOnDestroy(){this._destroyed.next()}get policyId(){return this.route.snapshot.queryParams.policyId}get policy(){return this._policy}get customerDocumentsUrl(){return this.router.createUrlTree(["/customer/documents"])}get isPolicyLocked(){return this._policy.allAncillariesBought||this.policyChangesLocked}get isRenewalLocked(){return this.renewalChangesLocked}getIconBullet(e){return e?"list-icon-tick":"list-icon-cross"}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(w.g),s.Rb(_.a),s.Rb(O))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-summary"]],inputs:{policyDetails:"policyDetails"},decls:88,vars:46,consts:[[1,"row"],[1,"col"],[1,"hide"],[1,"panel","mt-0","mt-md-3"],["class","panel-content panel-highlight pt-4 pb-4",4,"ngIf"],[1,"panel-content","pt-4"],[1,"row","mb-4"],[1,"col-md-6"],[3,"status"],[1,"DinMedium"],[1,"col-md-6","mt-4","mt-md-0"],[1,"heading-epsilon","mb-1"],[3,"innerHTML"],[1,"col-md-6",3,"appInfoTooltip"],[1,"row","m-0","align-items-center"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","mr-2","mr-xl-0"],[1,"w-100","no-wrap"],[1,"col-md-6","mt-4","mt-md-0",3,"appInfoTooltip"],[1,"heading-epsilon","mb-2"],[1,"list","list-icons","ml-1"],[1,"list-item","list-icon","list-icon-tick"],[1,"list-item","list-icon",3,"ngClass"],[1,"row","m-0","flex-wrap","align-items-center",3,"appInfoTooltip"],["type","button",1,"btn",3,"routerLink","queryParams","disabled"],["class","icon icon-functional icon-seagull icon-info-point mr-2 mr-xl-0","alt","i",4,"ngIf"],["autoRenewalTemplate",""],["manualRenewalTemplate",""],["declinedRenewalTemplate",""],[1,"panel-content","panel-highlight","pt-4","pb-4"],[4,"ngIf"],[4,"ngIf","ngIfThen"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-md-4","pr-md-0","align-self-center","pb-3"],[3,"currentValue","maxValue","colorChangeTreshold"],[1,"col-md-4","pl-md-3","pr-md-3","pb-3","d-flex"],[1,"heading-epsilon","d-flex","align-items-center"],[1,"col-md-4","pl-md-0","pr-md-0","pb-3"],[1,"text-underline","font-weight-normal",3,"routerLink","queryParams"],[1,"text-underline","font-weight-normal",3,"queryParams","routerLink"],[1,"row","pb-0"],[1,"col-md-6","pb-3","align-self-center"],[1,"col-md-6","pl-md-0","pr-md-0","pb-3"],[1,"heading-epsilon"],["href","tel:03330432055"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"h2",2),s.Lc(3,"Policy details"),s.Wb(),s.Xb(4,"div",3),s.Jc(5,ne,3,3,"div",4),s.Xb(6,"div",5),s.Xb(7,"div",6),s.Xb(8,"div",7),s.Sb(9,"app-status-badge",8),s.Xb(10,"p",9),s.Lc(11),s.Wb(),s.Wb(),s.Xb(12,"div",10),s.Xb(13,"h3",11),s.Lc(14,"Policy start and end date"),s.Wb(),s.Xb(15,"p"),s.Sb(16,"span",12),s.jc(17,"nthDate"),s.Lc(18," - "),s.Sb(19,"span",12),s.jc(20,"nthDate"),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",6),s.Xb(22,"div",7),s.Xb(23,"h3",11),s.Lc(24,"Cover type"),s.Wb(),s.Xb(25,"p"),s.Lc(26),s.Wb(),s.Wb(),s.Xb(27,"div",10),s.Xb(28,"h3",11),s.Lc(29,"Usage"),s.Wb(),s.Xb(30,"p"),s.Lc(31),s.Wb(),s.Wb(),s.Wb(),s.Xb(32,"div",6),s.Xb(33,"div",13),s.Xb(34,"div",14),s.Xb(35,"h3",11),s.Lc(36,"Compulsory excess"),s.Wb(),s.Sb(37,"span",15),s.Xb(38,"p",16),s.Lc(39),s.jc(40,"focusCurrency"),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",17),s.Xb(42,"div",14),s.Xb(43,"h3",11),s.Lc(44,"Voluntary excess"),s.Wb(),s.Sb(45,"span",15),s.Xb(46,"p",16),s.Lc(47),s.jc(48,"focusCurrency"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(49,"div",0),s.Xb(50,"div",7),s.Xb(51,"h3",18),s.Lc(52,"What's included"),s.Wb(),s.Xb(53,"ul",19),s.Xb(54,"li",20),s.Lc(55,"90 days European cover"),s.Wb(),s.Xb(56,"li",21),s.Lc(57,"Driving other cars "),s.Wb(),s.Xb(58,"li",21),s.Lc(59,"Courtesy car "),s.Wb(),s.Xb(60,"li",20),s.Lc(61,"Key cover"),s.Wb(),s.Wb(),s.Xb(62,"div",22),s.Xb(63,"button",23),s.Lc(64,"Make a policy change"),s.Wb(),s.Jc(65,ie,1,0,"span",24),s.Wb(),s.Wb(),s.Xb(66,"div",10),s.Xb(67,"h3",18),s.Lc(68,"Optional extras"),s.Wb(),s.Xb(69,"ul",19),s.Xb(70,"li",21),s.Lc(71," Personal Accident Cover "),s.Wb(),s.Xb(72,"li",21),s.Lc(73," Legal Expenses Cover "),s.Wb(),s.Xb(74,"li",21),s.Lc(75," Breakdown cover "),s.Wb(),s.Xb(76,"li",21),s.Lc(77," Hire car cover "),s.Wb(),s.Wb(),s.Xb(78,"div",22),s.Xb(79,"button",23),s.Lc(80,"Manage optional extras"),s.Wb(),s.Jc(81,oe,1,0,"span",24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Jc(82,se,14,17,"ng-template",null,25,s.Kc),s.Jc(84,le,17,22,"ng-template",null,26,s.Kc),s.Jc(86,be,11,4,"ng-template",null,27,s.Kc)),2&e&&(s.Ab(5),s.pc("ngIf",t.renewalQuoteJourneyInYourAccount&&t.isPolicyLive&&t.policy.renewalExtracted),s.Ab(4),s.pc("status",t.policy.policyStatus),s.Ab(2),s.Mc(t.policy.policyKey),s.Ab(5),s.pc("innerHTML",s.kc(17,27,t.policy.startDate),s.Fc),s.Ab(3),s.pc("innerHTML",s.kc(20,29,t.policy.endDate),s.Fc),s.Ab(7),s.Mc(t.policy.coverType),s.Ab(5),s.Mc(t.policy.usage),s.Ab(2),s.rc("appInfoTooltip","Other excesses may apply. Please see your motor schedule in the <a href='",t.customerDocumentsUrl,"'>documents</a> section for more details."),s.Ab(6),s.Mc(s.mc(40,31,t.policy.compulsoryExcess,"GBP","1.0-2")),s.Ab(2),s.rc("appInfoTooltip","Other excesses may apply. Please see your motor schedule in the <a href='",t.customerDocumentsUrl,"'>documents</a> section for more details."),s.Ab(6),s.Mc(s.mc(48,35,t.policy.voluntaryExcess,"GBP","1.0-2")),s.Ab(9),s.pc("ngClass",t.getIconBullet(t.policy.drivingOtherCarsAllowed)),s.Ab(2),s.pc("ngClass",t.getIconBullet("Comprehensive"===t.policy.coverType)),s.Ab(4),s.pc("appInfoTooltip",t.policyChangesLockedDueToRenewal?"You cannot change your policy this close to renewal. Please contact us via live chat to make this change.":""),s.Ab(1),s.pc("routerLink",s.tc(39,de))("queryParams",s.uc(40,ae,t.policyId))("disabled",t.policyChangesLocked),s.Ab(2),s.pc("ngIf",t.policyChangesLockedDueToRenewal),s.Ab(5),s.pc("ngClass",t.getIconBullet(t.policy.personalAccidentSelected)),s.Ab(2),s.pc("ngClass",t.getIconBullet(t.policy.legalExpensesSelected)),s.Ab(2),s.pc("ngClass",t.getIconBullet(t.policy.breakdownSelected)),s.Ab(2),s.pc("ngClass",t.getIconBullet(t.policy.hireCarSelected)),s.Ab(2),s.pc("appInfoTooltip",t.policyChangesLockedDueToRenewal?"You cannot change your policy this close to renewal. Please contact us via live chat to make this change.":""),s.Ab(1),s.pc("routerLink",s.tc(42,de))("queryParams",s.vc(43,ue,t.adjustmentTypes.Extras,t.policyId))("disabled",t.isPolicyLocked),s.Ab(2),s.pc("ngIf",t.policyChangesLockedDueToRenewal))},directives:[r.p,$.a,H.a,r.n,w.h,K,w.j],pipes:[G.a,z.a],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}@media screen and (min-width:768px){.btn[_ngcontent-%COMP%]{padding-left:1.25rem;padding-right:1.25rem}}.info-box[_ngcontent-%COMP%]{-ms-flex-order:2;order:2}"]}),e})();var he=n("4G07"),me=n("zmrx");const ge=["sliderContainer"],fe=["*"];let ve=(()=>{class e{constructor(e){this.ngxTinySliderService=e,this.sliderConfig={container:".vehicles-panel-slider",items:3,slideBy:1,center:!1,loop:!1,edgePadding:0,gutter:15,controls:!1,navPosition:"bottom",mouseDrag:!0,fixedWidth:526,responsive:{320:{fixedWidth:270},375:{fixedWidth:320},425:{fixedWidth:360},768:{fixedWidth:526},992:{fixedWidth:585},1200:{fixedWidth:730}}}}ngAfterViewInit(){this.tinySliderInstance=this.ngxTinySliderService.initSlider(this.sliderConfig,this.sliderContainer.nativeElement)}ngOnDestroy(){this.tinySliderInstance&&this.tinySliderInstance.destroy()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(me.b))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-vehicles-panel-slider"]],viewQuery:function(e,t){if(1&e&&s.Sc(ge,1),2&e){let e;s.zc(e=s.gc())&&(t.sliderContainer=e.first)}},ngContentSelectors:fe,decls:4,vars:0,consts:[[1,"slider-container"],["sliderContainer",""],[1,"vehicles-panel-slider","panel-slider","d-flex"]],template:function(e,t){1&e&&(s.oc(),s.Xb(0,"div",0,1),s.Xb(2,"div",2),s.nc(3),s.Wb(),s.Wb())},styles:[".slider-container[_ngcontent-%COMP%]     .tns-ovh{overflow:visible}"]}),e})();var ye=n("u7M+"),we=n("STrP");const Ce=function(){return["/adjustment/home/adjustmentchanges"]},We=function(e,t){return{adjustmentType:e,policyId:t}};function Xe(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"a",20),s.Lc(2,"Change registration number"),s.Wb(),s.Ub()),2&e){const e=s.ic();s.Ab(1),s.pc("routerLink",s.tc(2,Ce))("queryParams",s.vc(3,We,e.adjustmentTypes.Registration,e.policyId))}}let Se=(()=>{class e{constructor(e){this.route=e,this.adjustmentTypes=V.a}get policyId(){return this.route.snapshot.queryParams.policyId}get isRegistrationNumberMTAEnabled(){return k.a.settings.client.registrationNumberMTAEnabled}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-main-vehicle-slider-item"]],inputs:{vehicle:"vehicle",policyChangesLocked:"policyChangesLocked"},decls:53,vars:26,consts:[[1,"panel-slider-item"],[1,"panel","mt-0","mt-md-3"],[1,"panel-content"],[1,"row"],[1,"col"],[1,"row","icon-content-label"],[1,"col","col-auto"],[1,"icon","icon-secondary","icon-large","icon-hire-car"],[1,"heading-epsilon"],[1,"badge","badge-reg-plate",3,"innerHTML"],[4,"ngIf"],[1,"row","mt-4"],[1,"col-12","col-md-4"],[1,"col-12","col-md-4","mt-4","mt-md-0"],[1,"no-wrap"],[1,"col-12","col-md-4","mt-4","mt-md-4"],[1,"col-md-6"],["appInfoTooltip","We're sorry, that change isn't available on your policy.",1,"row","m-0","flex-wrap","align-items-center"],["type","button",1,"btn",3,"routerLink","queryParams","disabled"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","ml-auto","mr-2","mr-xl-0",3,"hidden"],[1,"d-block","d-md-inline-block","ml-md-4",3,"routerLink","queryParams"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"div",4),s.Xb(5,"div",5),s.Xb(6,"div",6),s.Xb(7,"p"),s.Sb(8,"span",7),s.Wb(),s.Wb(),s.Xb(9,"div",4),s.Xb(10,"p",8),s.Lc(11,"Your car"),s.Wb(),s.Xb(12,"p"),s.Lc(13),s.Wb(),s.Xb(14,"p"),s.Sb(15,"span",9),s.jc(16,"regFormat"),s.Jc(17,Xe,3,6,"ng-container",10),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",11),s.Xb(19,"div",12),s.Xb(20,"h3",8),s.Lc(21,"Annual mileage"),s.Wb(),s.Xb(22,"p"),s.Lc(23),s.jc(24,"number"),s.Wb(),s.Wb(),s.Xb(25,"div",13),s.Xb(26,"h3",8),s.Lc(27,"Vehicle value"),s.Wb(),s.Xb(28,"p",14),s.Lc(29),s.jc(30,"focusCurrency"),s.Wb(),s.Wb(),s.Xb(31,"div",13),s.Xb(32,"h3",8),s.Lc(33,"Overnight location"),s.Wb(),s.Xb(34,"p"),s.Lc(35),s.Wb(),s.Wb(),s.Xb(36,"div",15),s.Xb(37,"h3",8),s.Lc(38,"Registered owner"),s.Wb(),s.Xb(39,"p"),s.Lc(40),s.Wb(),s.Wb(),s.Xb(41,"div",15),s.Xb(42,"h3",8),s.Lc(43,"Purchase date"),s.Wb(),s.Xb(44,"p"),s.Lc(45),s.jc(46,"focusDate"),s.Wb(),s.Wb(),s.Wb(),s.Xb(47,"div",11),s.Xb(48,"div",16),s.Xb(49,"div",17),s.Xb(50,"button",18),s.Lc(51,"Change your car"),s.Wb(),s.Sb(52,"span",19),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(13),s.Mc(t.vehicle.vehicleModel),s.Ab(2),s.pc("innerHTML",s.kc(16,12,t.vehicle.vehicleRegistration),s.Fc),s.Ab(2),s.pc("ngIf",t.isRegistrationNumberMTAEnabled&&!t.policyChangesLocked),s.Ab(6),s.Mc(s.kc(24,14,t.vehicle.annualMileage)),s.Ab(6),s.Mc(s.mc(30,16,t.vehicle.vehicleValue,"GBP","1.0-2")),s.Ab(6),s.Mc(t.vehicle.overnightLocation),s.Ab(5),s.Mc(t.vehicle.registeredKeeper),s.Ab(5),s.Mc(s.kc(46,20,t.vehicle.purchaseDate)),s.Ab(5),s.pc("routerLink",s.tc(22,Ce))("queryParams",s.vc(23,We,t.adjustmentTypes.Vehicle,t.policyId))("disabled",t.policyChangesLocked),s.Ab(2),s.pc("hidden",!t.policyChangesLocked))},directives:[r.p,H.a,w.h,w.j],pipes:[ye.a,r.g,z.a,we.a],styles:[""]}),e})(),Le=(()=>{class e{ngOnInit(){this.coverStartDate=new Date(this.vehicle.coverStartDate),this.coverEndDate=new Date(this.vehicle.coverEndDate)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Lb({type:e,selectors:[["app-temporary-vehicle-slider-item"]],inputs:{vehicle:"vehicle"},decls:40,vars:17,consts:[[1,"panel-slider-item"],[1,"panel","mt-0","mt-md-3"],[1,"panel-content"],[1,"row"],[1,"col"],[1,"row","icon-content-label"],[1,"col","col-auto"],[1,"icon","icon-secondary","icon-large","icon-hire-car"],[1,"col-6","col-md"],[1,"heading-epsilon"],[1,"badge","badge-reg-plate",3,"innerHTML"],[1,"col","col-auto","d-flex","justify-content-end","mt-3","mt-md-0"],[3,"temporaryCoverStatus"],[1,"row","mt-4"],[1,"col-12","col-md-3"],[1,"no-wrap"],[1,"col-12","col-md-3","mt-4","mt-md-0"],[1,"col-12","col-md-6","mt-4","mt-md-0"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"div",4),s.Xb(5,"div",5),s.Xb(6,"div",6),s.Xb(7,"p"),s.Sb(8,"span",7),s.Wb(),s.Wb(),s.Xb(9,"div",8),s.Xb(10,"p",9),s.Lc(11,"Your temporary car"),s.Wb(),s.Xb(12,"p"),s.Lc(13),s.Wb(),s.Xb(14,"p"),s.Sb(15,"span",10),s.jc(16,"regFormat"),s.Wb(),s.Wb(),s.Xb(17,"div",11),s.Sb(18,"app-status-badge",12),s.Wb(),s.Wb(),s.Xb(19,"div",13),s.Xb(20,"div",14),s.Xb(21,"h3",9),s.Lc(22,"Vehicle value"),s.Wb(),s.Xb(23,"p",15),s.Lc(24),s.jc(25,"focusCurrency"),s.Wb(),s.Wb(),s.Xb(26,"div",16),s.Xb(27,"h3",9),s.Lc(28,"Overnight location"),s.Wb(),s.Xb(29,"p"),s.Lc(30),s.Wb(),s.Wb(),s.Xb(31,"div",17),s.Xb(32,"h3",9),s.Lc(33,"Cover start and end date"),s.Wb(),s.Xb(34,"p"),s.Sb(35,"span",18),s.jc(36,"nthDate"),s.Lc(37," - "),s.Sb(38,"span",18),s.jc(39,"nthDate"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(13),s.Mc(t.vehicle.vehicleModel),s.Ab(2),s.pc("innerHTML",s.kc(16,7,t.vehicle.vehicleRegistration),s.Fc),s.Ab(3),s.pc("temporaryCoverStatus",t.vehicle.status),s.Ab(6),s.Mc(s.mc(25,9,t.vehicle.vehicleValue,"GBP","1.0-2")),s.Ab(6),s.Mc(t.vehicle.overnightLocation),s.Ab(5),s.pc("innerHTML",s.kc(36,13,t.coverStartDate),s.Fc),s.Ab(3),s.pc("innerHTML",s.kc(39,15,t.coverEndDate),s.Fc))},directives:[$.a],pipes:[ye.a,z.a,G.a],styles:[""]}),e})();function ke(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"a",8),s.fc("click",function(){return s.Ec(e),s.ic().navigateToTempCarAdjustment(),!1}),s.Lc(2," Add a temporary car"),s.Wb(),s.Sb(3,"span",9),s.Ub()}if(2&e){const e=s.ic();s.Ab(1),s.Jb("disabled",e.isPolicyLocked())}}function Pe(e,t){1&e&&s.Sb(0,"app-temporary-vehicle-slider-item",10),2&e&&s.pc("vehicle",t.$implicit)}let Me=(()=>{class e{constructor(e,t,n,i,o){this.route=e,this.router=t,this.adjustmentHttpService=n,this.loadingOverlayService=i,this.policyMessagesService=o,this.temporaryCarInfoPoint="<ul><li>You can temporarily add another car to your policy for a   total of four weeks within the term of your policy. This can be done in blocks of one week.</li>  <li>You can't make any other changes to your policy at the same time you add a temporary car however   you can make other changes within the same day that you add a temporary car.</li></ul>"}get policyId(){return this.route.snapshot.queryParams.policyId}ngOnInit(){this.isTemporaryCoverEnabled=E.a.settings.client.temporaryCoverEnabled,this.isTemporaryCoverEnabled&&(this.sortTemporaryVehicles(),this.isTempDriverActive=this.policy.temporaryDrivers&&this.policy.temporaryDrivers.filter(e=>e.status===P.a.Active).length>0,this.handleLockedTempCarChanges()),this.policyMessagesService.policyAdjustmentLocked$.pipe(Object(X.a)()).subscribe(e=>{this.changesLocked=e}),this.policyMessagesService.customerCantMakeChangesAfterCFSLock$.pipe(Object(X.a)()).subscribe(e=>{this.customerCantMakeChangesAfterCFSLock=e})}navigateToTempCarAdjustment(){this.loadingOverlayService.show(),this.adjustmentHttpService.postSelectedChanges$([{type:N.c.TemporaryVehicle,isSelected:!0,isDisabled:!1,disabledReason:null,isHidden:!1,showInfoToolTip:!1,infoToolTipText:null}],this.policyId).pipe(Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(e=>Object(q.a)(this,void 0,void 0,function*(){e.isSuccess&&(yield this.router.navigate(["/adjustment/home/changedetails"],{replaceUrl:!0,queryParams:{policyId:this.policyId}}))}))}handleLockedTempCarChanges(){this.policy.customerHitTempVehicleCoverWeeksLimit?this.temporaryCarInfoPoint="You've already used the maximum four week allowance for temporary car cover.":this.isTempDriverActive&&(this.temporaryCarInfoPoint="You're unable to add a temporary car when you have a temporary driver in place.")}isPolicyLocked(){return!!(this.policy.customerHitTempVehicleCoverWeeksLimit||this.isTempDriverActive||this.changesLocked||this.customerCantMakeChangesAfterCFSLock)}sortTemporaryVehicles(){this.policy.temporaryVehicles.sort((e,t)=>Number(new Date(t.coverStartDate))-Number(new Date(e.coverStartDate)))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(w.g),s.Rb(he.a),s.Rb(x.a),s.Rb(_.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-vehicles"]],inputs:{policy:"policy",policyChangesLocked:"policyChangesLocked"},decls:11,vars:5,consts:[[1,"row"],[1,"col"],[1,"col-xl-7","col-md-8","vehicle-header"],[1,"row","mx-0","align-items-sm-center",3,"appInfoTooltip"],[1,"heading-alpha","mb-0","w-100","w-sm-auto"],[4,"ngIf"],[3,"vehicle","policyChangesLocked"],[3,"vehicle",4,"ngFor","ngForOf"],["href","#",1,"ml-sm-4","mt-2","mt-sm-0",3,"click"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","mt-1"],[3,"vehicle"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",0),s.Xb(3,"div",2),s.Xb(4,"div",3),s.Xb(5,"h2",4),s.Lc(6,"Vehicles"),s.Wb(),s.Jc(7,ke,4,2,"ng-container",5),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"app-vehicles-panel-slider"),s.Sb(9,"app-main-vehicle-slider-item",6),s.Jc(10,Pe,1,1,"app-temporary-vehicle-slider-item",7),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(4),s.pc("appInfoTooltip",t.temporaryCarInfoPoint),s.Ab(3),s.pc("ngIf",t.isTemporaryCoverEnabled),s.Ab(2),s.pc("vehicle",t.policy.vehicle)("policyChangesLocked",t.isPolicyLocked()),s.Ab(1),s.pc("ngForOf",t.policy.temporaryVehicles))},directives:[H.a,r.p,ve,Se,r.o,Le],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}.vehicle-header[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),e})();function Ae(e,t){1&e&&(s.Vb(0),s.Xb(1,"div",7),s.Xb(2,"a",8),s.Lc(3,"Request certificate"),s.Wb(),s.Wb(),s.Ub())}const Oe=function(){return["/customer/documents"]},Ie=function(e){return{policyId:e}};function xe(e,t){if(1&e&&(s.Xb(0,"a",11),s.Lc(1,"Request certificate"),s.Wb()),2&e){const e=s.ic(2);s.pc("routerLink",s.tc(2,Oe))("queryParams",s.uc(3,Ie,e.policyId))}}function Re(e,t){if(1&e&&(s.Xb(0,"a",12),s.Lc(1,"Request certificate"),s.Wb()),2&e){const e=s.ic(2);s.pc("href",e.requestCertificateUrl,s.Gc)}}function De(e,t){if(1&e&&(s.Xb(0,"p"),s.Jc(1,xe,2,5,"a",9),s.Jc(2,Re,2,1,"ng-template",null,10,s.Kc),s.Wb()),2&e){const e=s.Ac(3),t=s.ic();s.Ab(1),s.pc("ngIf",t.ncdRequestEnabled)("ngIfElse",e)}}let _e=(()=>{class e{constructor(e){this.route=e,this.requestCertificateUrl=E.a.settings.client.surveyMonkeyUrl,this.ncdRequestEnabled=E.a.settings.client.ncdRequestEnabled}get policyId(){return this.route.snapshot.queryParams.policyId}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-no-claims-discount"]],inputs:{isPolicyLive:"isPolicyLive",isPolicyVoid:"isPolicyVoid",ncdYears:"ncdYears"},decls:10,vars:4,consts:[[3,"appInfoTooltip"],[1,"row","m-0","align-items-center"],[1,"heading-epsilon","mb-0"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point"],[1,"mb-1","sessioncamhidetext"],[4,"ngIf","ngIfElse"],["policyNotLiveAndVoid",""],[1,"col-12","p-0"],[1,"disabled"],["fragment","noClaimsDiscount",3,"routerLink","queryParams",4,"ngIf","ngIfElse"],["surveyMonkeyUrl",""],["fragment","noClaimsDiscount",3,"routerLink","queryParams"],["target","_blank","rel","nofollow noopener noreferrer",3,"href"]],template:function(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"h4",2),s.Lc(3,"No Claims Discount"),s.Wb(),s.Sb(4,"span",3),s.Wb(),s.Xb(5,"p",4),s.Lc(6),s.Wb(),s.Jc(7,Ae,4,0,"ng-container",5),s.Jc(8,De,4,2,"ng-template",null,6,s.Kc),s.Wb()),2&e){const e=s.Ac(9);s.qc("appInfoTooltip",t.isPolicyVoid?"Proof of NCD cannot be provided when your policy is void.":"We can only provide proof of NCD when your policy has expired or been cancelled."),s.Ab(6),s.Nc("",t.ncdYears," years"),s.Ab(1),s.pc("ngIf",t.isPolicyLive||t.isPolicyVoid)("ngIfElse",e)}},directives:[H.a,r.p,w.j],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}"]}),e})();var Te=n("o3Nk");function qe(e,t){if(1&e&&(s.Xb(0,"tr"),s.Xb(1,"td"),s.Lc(2),s.jc(3,"date"),s.Wb(),s.Xb(4,"td"),s.Lc(5),s.Wb(),s.Xb(6,"td"),s.Lc(7),s.Wb(),s.Xb(8,"td"),s.Lc(9),s.Wb(),s.Wb()),2&e){const e=t.$implicit;s.Ab(2),s.Mc(s.lc(3,4,e.date,"dd/MM/yyyy")),s.Ab(3),s.Mc(e.description),s.Ab(2),s.Mc(e.fault?"Yes":"No"),s.Ab(2),s.Mc(e.ncd?"Yes":"No")}}function Ee(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"h2",8),s.Lc(2,"Claims"),s.Wb(),s.Xb(3,"table",9),s.Xb(4,"thead"),s.Xb(5,"tr"),s.Xb(6,"th",10),s.Lc(7,"Date"),s.Wb(),s.Xb(8,"th",10),s.Lc(9,"Description"),s.Wb(),s.Xb(10,"th",10),s.Lc(11,"Fault"),s.Wb(),s.Xb(12,"th",10),s.Lc(13,"NCD"),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"tbody"),s.Jc(15,qe,10,7,"tr",11),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic(2);s.Ab(15),s.pc("ngForOf",e.claims)}}function Ne(e,t){if(1&e&&(s.Xb(0,"tr"),s.Xb(1,"td"),s.Lc(2),s.jc(3,"date"),s.Wb(),s.Xb(4,"td"),s.Lc(5),s.Wb(),s.Xb(6,"td",12),s.Lc(7),s.jc(8,"focusCurrency"),s.Wb(),s.Xb(9,"td"),s.Lc(10),s.Wb(),s.Xb(11,"td"),s.Lc(12),s.Wb(),s.Wb()),2&e){const e=t.$implicit;s.Ab(2),s.Mc(s.lc(3,5,e.date,"dd/MM/yyyy")),s.Ab(3),s.Mc(e.code),s.Ab(2),s.Mc(s.mc(8,8,e.fineAmount,"GBP","1.0-2")),s.Ab(3),s.Mc(e.penaltyPoints),s.Ab(2),s.Mc(e.licenseSuspendedPeriod)}}function Fe(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"h2",8),s.Lc(2,"Convictions"),s.Wb(),s.Xb(3,"table",9),s.Xb(4,"thead"),s.Xb(5,"tr"),s.Xb(6,"th",10),s.Lc(7,"Date"),s.Wb(),s.Xb(8,"th",10),s.Lc(9,"Code"),s.Wb(),s.Xb(10,"th",10),s.Lc(11,"Fine"),s.Wb(),s.Xb(12,"th",10),s.Lc(13,"Points"),s.Wb(),s.Xb(14,"th",10),s.Lc(15,"Disqualification Period (Months)"),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"tbody"),s.Jc(17,Ne,13,12,"tr",11),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic(2);s.Ab(17),s.pc("ngForOf",e.convictions)}}function je(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",2),s.Xb(1,"h1",3),s.Lc(2,"Claims & Convictions"),s.Wb(),s.Xb(3,"button",4),s.fc("click",function(){return s.Ec(e),s.ic().modalRef.hide()}),s.Xb(4,"span",5),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",6),s.Jc(7,Ee,16,1,"ng-container",7),s.Jc(8,Fe,18,1,"ng-container",7),s.Wb()}if(2&e){const e=s.ic();s.Ab(7),s.pc("ngIf",e.claims.length),s.Ab(1),s.pc("ngIf",e.convictions.length)}}let Je=(()=>{class e{constructor(e,t){this.modalService=e,this.bsModalService=t}get isMoreThanMaxClaimsAndConvictions(){return this.claims.length+this.convictions.length>this.maxVisibleClaimsAndConvictions}ngOnInit(){this.sortDisplayedClaimsAndConvictions()}openClaimsAndConvictionsModal(e){this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(e,{ignoreBackdropClick:!0}),this.modalRef))}sortDisplayedClaimsAndConvictions(){this.claims.sort((e,t)=>Number(new Date(t.date))-Number(new Date(e.date))),this.convictions.sort((e,t)=>Number(new Date(t.date))-Number(new Date(e.date)))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Te.a),s.Rb(a.b))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-claims-and-convictions"]],inputs:{claims:"claims",convictions:"convictions",maxVisibleClaimsAndConvictions:"maxVisibleClaimsAndConvictions"},decls:5,vars:1,consts:[["href","#",3,"click"],["changePasswordModal",""],[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[4,"ngIf"],[1,"heading-delta","mb-0","ml-2"],[1,"table"],[1,"align-middle","p-2"],[4,"ngFor","ngForOf"],[1,"no-wrap"]],template:function(e,t){if(1&e){const e=s.Yb();s.Xb(0,"p"),s.Xb(1,"a",0),s.fc("click",function(){s.Ec(e);const n=s.Ac(4);return t.openClaimsAndConvictionsModal(n),!1}),s.Lc(2),s.Wb(),s.Wb(),s.Jc(3,je,9,2,"ng-template",null,1,s.Kc)}2&e&&(s.Ab(2),s.Nc(" ",t.isMoreThanMaxClaimsAndConvictions?"View all and details":"View details"," "))},directives:[r.p,r.o],pipes:[r.f,z.a],styles:[".modal-body[_ngcontent-%COMP%]{overflow-x:auto}"]}),e})();function Ue(e,t){1&e&&s.Sb(0,"div")}function Be(e,t){if(1&e&&(s.Xb(0,"div",36),s.Jc(1,Ue,1,0,"div",37),s.Wb()),2&e){const e=s.ic(),t=s.Ac(69),n=s.Ac(71);s.Ab(1),s.pc("ngIf",e.policy.renewalAutoAcceptSelected)("ngIfThen",t)("ngIfElse",n)}}function Ve(e,t){1&e&&s.Sb(0,"span",42)}const Ye=function(){return[]},$e=function(){return["/adjustment/home/adjustmentchanges"]},He=function(e,t){return{adjustmentType:e,policyId:t}};function Qe(e,t){if(1&e&&(s.Xb(0,"div",38),s.Xb(1,"h4",14),s.Lc(2,"Address "),s.Wb(),s.Xb(3,"p",15),s.Lc(4),s.Sb(5,"br"),s.Lc(6),s.Sb(7,"br"),s.Lc(8),s.Wb(),s.Xb(9,"div",39),s.Xb(10,"a",40),s.Lc(11," Change your address "),s.Wb(),s.Jc(12,Ve,1,0,"span",41),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.Oc(" ",e.driver.address.line1," ",e.driver.address.line2," "),s.Ab(2),s.Oc(" ",e.driver.address.town,", ",e.driver.address.county,""),s.Ab(2),s.Nc(" ",e.driver.address.postcode," "),s.Ab(1),s.pc("appInfoTooltip",e.changeDisabledReason(e.adjustmentTypes.Address)),s.Ab(1),s.Jb("disabled",!(!e.policyChangesLocked&&!e.isChangeDisabled(e.adjustmentTypes.Address))||null),s.pc("routerLink",e.policyChangesLocked?s.tc(11,Ye):s.tc(12,$e))("queryParams",s.vc(13,He,e.adjustmentTypes.Address,e.policyId)),s.Ab(2),s.pc("ngIf",e.changeDisabledReason(e.adjustmentTypes.Address))}}function Ke(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"p",15),s.Lc(2),s.Wb(),s.Ub()),2&e){const e=s.ic();s.Ab(2),s.Mc(e.driver.drivingLicenceNumber)}}function Ge(e,t){if(1&e&&(s.Xb(0,"p"),s.Xb(1,"a",40),s.Lc(2," Add driving licence number "),s.Wb(),s.Wb()),2&e){const e=s.ic(2);s.Ab(1),s.Jb("disabled",e.policyChangesLocked),s.pc("routerLink",e.policyChangesLocked?s.tc(4,Ye):s.tc(5,$e))("queryParams",s.vc(6,He,e.adjustmentTypes.DrivingLicenceNumber,e.policyId))}}function ze(e,t){if(1&e&&s.Jc(0,Ge,3,9,"p",43),2&e){const e=s.ic();s.pc("ngIf",e.driverLicenceNumberMTAEnabled&&e.driver.isUKLicenceType)}}function Ze(e,t){if(1&e&&(s.Xb(0,"p",44),s.Lc(1),s.jc(2,"date"),s.Wb()),2&e){const e=t.$implicit;s.Ab(1),s.Oc(" ",e.description,", ",s.lc(2,2,e.date,"MMM y")," ")}}function et(e,t){1&e&&(s.Xb(0,"p",44),s.Lc(1,"None "),s.Wb())}function tt(e,t){if(1&e&&s.Sb(0,"app-claims-and-convictions",45),2&e){const e=s.ic();s.pc("claims",e.driver.claims)("convictions",e.driver.convictions)("maxVisibleClaimsAndConvictions",e.maxVisibleClaimsAndConvictions)}}function nt(e,t){1&e&&s.Sb(0,"span",42)}function it(e,t){if(1&e&&(s.Xb(0,"div",46),s.Xb(1,"div",39),s.Xb(2,"button",47),s.Lc(3,"Change your details"),s.Wb(),s.Jc(4,nt,1,0,"span",41),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("appInfoTooltip",e.changeDisabledReason(e.adjustmentTypes.PersonalDetails)),s.Ab(1),s.pc("routerLink",s.tc(5,$e))("queryParams",s.vc(6,He,e.adjustmentTypes.PersonalDetails,e.policyId))("disabled",!(!e.policyChangesLocked&&!e.isChangeDisabled(e.adjustmentTypes.PersonalDetails))||null),s.Ab(2),s.pc("ngIf",e.changeDisabledReason(e.adjustmentTypes.PersonalDetails))}}function ot(e,t){1&e&&(s.Xb(0,"span",48),s.Sb(1,"span",49),s.Lc(2,"Automatic renewal "),s.Xb(3,"strong"),s.Lc(4,"ON"),s.Wb(),s.Wb())}function ct(e,t){1&e&&(s.Xb(0,"span",50),s.Sb(1,"span",49),s.Lc(2," Automatic renewal "),s.Xb(3,"strong"),s.Lc(4,"OFF"),s.Wb(),s.Wb())}let at=(()=>{class e{constructor(e,t){this.route=e,this.policyService=t,this.adjustmentTypes=N.c,this.claimsAndConvictions=[],this.maxVisibleClaimsAndConvictions=3,this.isPolicyLive=!1,this.isPolicyVoid=!1,this.driverLicenceNumberMTAEnabled=E.a.settings.client.driverLicenceNumberMTAEnabled,this.renewalQuoteJourneyInYourAccount=E.a.settings.client.renewalQuoteJourneyInYourAccount}get policyId(){return this.route.snapshot.queryParams.policyId}get isChangeOfPersonalDetailsMTAEnabled(){return E.a.settings.client.changeOfPersonalDetailsMTAEnabled}ngOnInit(){this.route.queryParams.subscribe(e=>{e.policyId&&(this.policyService.isPolicyLive$(e.policyId).subscribe(e=>{this.isPolicyLive=e}),this.policyService.isPolicyVoid$(e.policyId).subscribe(e=>{this.isPolicyVoid=e}))}),this.driver=this.policy.mainDriver,this.concatClaimsAndConvictions(),this.ncdYears=this.driver.ncdYears}isChangeDisabled(e){var t,n,i;return null===(i=null===(n=null===(t=this.availableChanges)||void 0===t?void 0:t.find(t=>t.type==e))||void 0===n?void 0:n.isDisabled)||void 0===i||i}changeDisabledReason(e){var t,n;return null===(n=null===(t=this.availableChanges)||void 0===t?void 0:t.find(t=>t.type==e))||void 0===n?void 0:n.disabledReason}concatClaimsAndConvictions(){this.claimsAndConvictions=[...this.driver.claims,...this.driver.convictions],this.claimsAndConvictions.sort((e,t)=>Number(new Date(t.date))-Number(new Date(e.date)))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(R.e))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-your-details"]],inputs:{policy:"policy",availableChanges:"availableChanges",policyChangesLocked:"policyChangesLocked"},decls:72,vars:28,consts:[[1,"row"],[1,"col"],[1,"heading-alpha"],[1,"panel-slider-item"],[1,"panel"],[1,"panel-content"],[1,"row","icon-content-label","align-items-center"],[1,"col","col-auto"],[1,"icon","icon-secondary","icon-small","icon-md-medium","icon-profile"],[1,"heading-epsilon","sessioncamhidetext"],["class","col-12 col-sm-auto ml-0 ml-sm-3 mt-2 ml-md-auto mb-auto mt-md-0",4,"ngIf"],[1,"row","my-4"],["class","col-12 col-lg-6 mb-4 order-0",4,"ngIf"],[1,"col-12","col-lg-6","mb-4","order-2","order-lg-1"],[1,"heading-epsilon","mb-1"],[1,"sessioncamhidetext"],["appInfoTooltip","You are unable to edit this field. If you need to do so, please contact us via Live chat.",1,"col-12","col-lg-6","mb-4","order-1","order-lg-2"],[1,"row","m-0","align-items-center"],[1,"heading-epsilon","mb-0"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point"],[1,"sessioncamhidetext",3,"innerHTML"],[1,"col-12","col-lg-6","mb-4","order-3","order-lg-3"],[1,"col-12","col-lg-6","mb-4","order-6","order-lg-6"],[4,"ngIf","ngIfElse"],["addDrivingLicenceNumber",""],[1,"col-12","col-lg-6","mb-4","order-4","order-lg-4"],[1,"col-12","col-lg-6","mb-4","order-5","order-lg-5"],[1,"col-12","col-lg-6","mb-4","order-7","order-lg-7"],[3,"isPolicyLive","isPolicyVoid","ncdYears"],[1,"col-12","mb-4","order-8","order-lg-8"],["class","mb-1 sessioncamhidetext",4,"ngFor","ngForOf"],["class","mb-1 sessioncamhidetext",4,"ngIf","ngIfElse"],["claimsAndConvictionsDetails",""],["class","col-12 order-9 order-lg-9",4,"ngIf"],["autoRenewalIsOn",""],["autoRenewalIsOff",""],[1,"col-12","col-sm-auto","ml-0","ml-sm-3","mt-2","ml-md-auto","mb-auto","mt-md-0"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"col-12","col-lg-6","mb-4","order-0"],[1,"row","m-0","align-items-center",3,"appInfoTooltip"],[3,"routerLink","queryParams"],["class","icon icon-functional icon-seagull icon-info-point mr-2 mr-xl-0","alt","i",4,"ngIf"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","mr-2","mr-xl-0"],[4,"ngIf"],[1,"mb-1","sessioncamhidetext"],[3,"claims","convictions","maxVisibleClaimsAndConvictions"],[1,"col-12","order-9","order-lg-9"],["type","button",1,"btn",3,"routerLink","queryParams","disabled"],[1,"badge","badge-status","badge-status-success"],[1,"icon","icon-functional"],[1,"badge","badge-status","badge-status-danger"]],template:function(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"h2",2),s.Lc(3,"Your Details"),s.Wb(),s.Xb(4,"div",3),s.Xb(5,"div",4),s.Xb(6,"div",5),s.Xb(7,"div",6),s.Xb(8,"div",7),s.Xb(9,"p"),s.Sb(10,"span",8),s.Wb(),s.Wb(),s.Xb(11,"div",1),s.Xb(12,"h3",9),s.Lc(13),s.Wb(),s.Xb(14,"p"),s.Lc(15,"Main driver"),s.Wb(),s.Wb(),s.Jc(16,Be,2,3,"div",10),s.Wb(),s.Xb(17,"div",11),s.Jc(18,Qe,13,16,"div",12),s.Xb(19,"div",13),s.Xb(20,"h4",14),s.Lc(21,"Occupation"),s.Wb(),s.Xb(22,"p",15),s.Lc(23),s.Sb(24,"br"),s.Lc(25),s.Wb(),s.Wb(),s.Xb(26,"div",16),s.Xb(27,"div",17),s.Xb(28,"h4",18),s.Lc(29,"Date of birth"),s.Wb(),s.Sb(30,"span",19),s.Wb(),s.Xb(31,"p"),s.Sb(32,"span",20),s.jc(33,"nthDate"),s.Wb(),s.Wb(),s.Xb(34,"div",21),s.Xb(35,"h4",14),s.Lc(36,"Lived in UK since"),s.Wb(),s.Xb(37,"p"),s.Sb(38,"span",20),s.jc(39,"nthDate"),s.Wb(),s.Wb(),s.Xb(40,"div",22),s.Xb(41,"h4",14),s.Lc(42,"Driving licence number"),s.Wb(),s.Jc(43,Ke,3,1,"ng-container",23),s.Jc(44,ze,1,1,"ng-template",null,24,s.Kc),s.Wb(),s.Xb(46,"div",25),s.Xb(47,"h4",14),s.Lc(48,"Licence type"),s.Wb(),s.Xb(49,"p",15),s.Lc(50),s.Wb(),s.Wb(),s.Xb(51,"div",26),s.Xb(52,"h4",14),s.Lc(53,"Date passed test"),s.Wb(),s.Xb(54,"p"),s.Sb(55,"span",20),s.jc(56,"nthDate"),s.Wb(),s.Wb(),s.Xb(57,"div",27),s.Sb(58,"app-no-claims-discount",28),s.Wb(),s.Xb(59,"div",29),s.Xb(60,"h4",14),s.Lc(61,"Claims & convictions"),s.Wb(),s.Jc(62,Ze,3,5,"p",30),s.jc(63,"slice"),s.Jc(64,et,2,0,"p",31),s.Jc(65,tt,1,3,"ng-template",null,32,s.Kc),s.Wb(),s.Jc(67,it,5,9,"div",33),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Jc(68,ot,5,0,"ng-template",null,34,s.Kc),s.Jc(70,ct,5,0,"ng-template",null,35,s.Kc)),2&e){const e=s.Ac(45),n=s.Ac(66);s.Ab(13),s.Mc(t.driver.name),s.Ab(3),s.pc("ngIf",t.renewalQuoteJourneyInYourAccount&&t.isPolicyLive),s.Ab(2),s.pc("ngIf",t.driver.address),s.Ab(5),s.Nc(" ",t.driver.employmentType,","),s.Ab(2),s.Nc(" ",t.driver.employersBusiness," "),s.Ab(7),s.pc("innerHTML",s.kc(33,18,t.driver.dateOfBirth),s.Fc),s.Ab(6),s.pc("innerHTML",s.kc(39,20,t.driver.livedInUKSince),s.Fc),s.Ab(5),s.pc("ngIf",t.driver.drivingLicenceNumber)("ngIfElse",e),s.Ab(7),s.Mc(t.driver.licenceType),s.Ab(5),s.pc("innerHTML",s.kc(56,22,t.driver.datePassedTest),s.Fc),s.Ab(3),s.pc("isPolicyLive",t.isPolicyLive)("isPolicyVoid",t.isPolicyVoid)("ncdYears",t.ncdYears),s.Ab(4),s.pc("ngForOf",s.mc(63,24,t.claimsAndConvictions,0,t.maxVisibleClaimsAndConvictions)),s.Ab(2),s.pc("ngIf",!t.claimsAndConvictions.length)("ngIfElse",n),s.Ab(3),s.pc("ngIf",t.isChangeOfPersonalDetailsMTAEnabled)}},directives:[r.p,H.a,_e,r.o,w.j,Je,w.h],pipes:[G.a,r.y,r.f],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}.badge[_ngcontent-%COMP%]{font-weight:400}"]}),e})();const st=["sliderContainer"],rt=["*"];let lt=(()=>{class e{constructor(e){this.ngxTinySliderService=e,this.sliderConfig={container:".driver-panel-slider",items:3,slideBy:1,center:!1,loop:!1,edgePadding:0,gutter:15,controls:!1,navPosition:"bottom",mouseDrag:!0,fixedWidth:526,responsive:{320:{fixedWidth:270},375:{fixedWidth:320},425:{fixedWidth:360},768:{fixedWidth:526},992:{fixedWidth:585},1200:{fixedWidth:730}}}}ngAfterViewInit(){this.tinySliderInstance=this.ngxTinySliderService.initSlider(this.sliderConfig,this.sliderContainer.nativeElement)}ngOnDestroy(){this.tinySliderInstance&&this.tinySliderInstance.destroy()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(me.b))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-drivers-panel-slider"]],viewQuery:function(e,t){if(1&e&&s.Sc(st,1),2&e){let e;s.zc(e=s.gc())&&(t.sliderContainer=e.first)}},ngContentSelectors:rt,decls:4,vars:0,consts:[[1,"slider-container"],["sliderContainer",""],[1,"driver-panel-slider","panel-slider"]],template:function(e,t){1&e&&(s.oc(),s.Xb(0,"div",0,1),s.Xb(2,"div",2),s.nc(3),s.Wb(),s.Wb())},styles:[".slider-container[_ngcontent-%COMP%]     .tns-ovh{overflow:visible}"]}),e})();function bt(e,t){if(1&e&&(s.Xb(0,"div",27),s.Xb(1,"h4",12),s.Lc(2,"Address"),s.Wb(),s.Xb(3,"p",19),s.Lc(4),s.Sb(5,"br"),s.Lc(6),s.Sb(7,"br"),s.Lc(8),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.Pc(" ",e.driver.address.line1," ",e.driver.address.line2," ",e.driver.address.county,""),s.Ab(2),s.Nc(" ",e.driver.address.town,""),s.Ab(2),s.Nc(" ",e.driver.address.postcode," ")}}function dt(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"p",19),s.Lc(2),s.Wb(),s.Ub()),2&e){const e=s.ic();s.Ab(2),s.Mc(e.driver.drivingLicenceNumber)}}const ut=function(){return[]},pt=function(){return["/adjustment/home/adjustmentchanges"]},ht=function(e,t){return{adjustmentType:e,policyId:t}};function mt(e,t){if(1&e&&(s.Xb(0,"p"),s.Xb(1,"a",29),s.Lc(2," Add driving licence number "),s.Wb(),s.Wb()),2&e){const e=s.ic(2);s.Ab(1),s.Jb("disabled",e.policyChangesLocked),s.pc("routerLink",e.policyChangesLocked?s.tc(4,ut):s.tc(5,pt))("queryParams",s.vc(6,ht,e.adjustmentTypes.DrivingLicenceNumber,e.policyId))}}function gt(e,t){if(1&e&&s.Jc(0,mt,3,9,"p",28),2&e){const e=s.ic();s.pc("ngIf",e.driverLicenceNumberMTAEnabled&&e.driver.isUKLicenceType)}}function ft(e,t){if(1&e&&(s.Xb(0,"p",30),s.Lc(1),s.jc(2,"date"),s.Wb()),2&e){const e=t.$implicit;s.Ab(1),s.Oc(" ",e.description,", ",s.lc(2,2,e.date,"MMM y")," ")}}function vt(e,t){1&e&&(s.Xb(0,"p",30),s.Lc(1,"None "),s.Wb())}function yt(e,t){if(1&e&&s.Sb(0,"app-claims-and-convictions",31),2&e){const e=s.ic();s.pc("claims",e.driver.claims)("convictions",e.driver.convictions)("maxVisibleClaimsAndConvictions",e.maxVisibleClaimsAndConvictions)}}function wt(e,t){if(1&e&&(s.Xb(0,"div",32),s.Xb(1,"h4",12),s.Lc(2,"Frequency of use"),s.Wb(),s.Xb(3,"p",19),s.Lc(4),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.Mc(e.driver.frequencyOfUse)}}let Ct=(()=>{class e{constructor(e,t){this.route=e,this.policyService=t,this.isCollapsed=!0,this.requestCertificateUrl=E.a.settings.client.surveyMonkeyUrl,this.ncdRequestEnabled=E.a.settings.client.ncdRequestEnabled,this.adjustmentTypes=N.c,this.claimsAndConvictions=[],this.maxVisibleClaimsAndConvictions=3,this.isPolicyLive=!1,this.isPolicyVoid=!1,this.driverLicenceNumberMTAEnabled=E.a.settings.client.driverLicenceNumberMTAEnabled}get policyId(){return this.route.snapshot.queryParams.policyId}ngOnInit(){this.route.queryParams.subscribe(e=>{e.policyId&&(this.policyService.isPolicyLive$(e.policyId).subscribe(e=>{this.isPolicyLive=e}),this.policyService.isPolicyVoid$(e.policyId).subscribe(e=>{this.isPolicyVoid=e}))}),this.concatClaimsAndConvictions()}concatClaimsAndConvictions(){this.claimsAndConvictions=[...this.driver.claims,...this.driver.convictions],this.claimsAndConvictions.sort((e,t)=>Number(new Date(t.date))-Number(new Date(e.date)))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(R.e))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-driver-slider-item"]],inputs:{driver:"driver",addressAdjustmentOptions:"addressAdjustmentOptions",policyChangesLocked:"policyChangesLocked"},decls:51,vars:22,consts:[[1,"panel-slider-item"],[1,"panel"],[1,"panel-content"],[1,"row","icon-content-label","align-items-center"],[1,"col","col-auto"],[1,"icon","icon-secondary","icon-small","icon-md-medium","icon-profile"],[1,"col"],[1,"heading-epsilon","sessioncamhidetext"],[3,"collapse","isAnimated"],[1,"row","my-4"],["class","col-12 col-lg-6 mb-4 order-0",4,"ngIf"],[1,"col-12","col-lg-6","mb-4","order-2","order-lg-1"],[1,"heading-epsilon","mb-1"],[1,"col-12","col-lg-6","mb-4","order-1","order-lg-2"],[1,"sessioncamhidetext",3,"innerHTML"],[1,"col-12","col-lg-6","mb-4","order-4","order-lg-3"],[4,"ngIf","ngIfElse"],["addDrivingLicenceNumber",""],[1,"col-12","col-lg-6","mb-4","order-3","order-lg-4"],[1,"sessioncamhidetext"],[1,"col-12","col-lg-6","mb-4","order-5","order-lg-6"],["class","mb-1 sessioncamhidetext",4,"ngFor","ngForOf"],["class","mb-1 sessioncamhidetext",4,"ngIf","ngIfElse"],["claimsAndConvictionsDetails",""],["class","col-12 col-lg-6 mb-4 order-7 order-lg-7",4,"ngIf"],["href","#",1,"panel-content","panel-highlight","order-last","expandmore","expanded-button",3,"click"],["type","button",1,"expandmore__button","expandmore-button"],[1,"col-12","col-lg-6","mb-4","order-0"],[4,"ngIf"],[3,"routerLink","queryParams"],[1,"mb-1","sessioncamhidetext"],[3,"claims","convictions","maxVisibleClaimsAndConvictions"],[1,"col-12","col-lg-6","mb-4","order-7","order-lg-7"]],template:function(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"div",4),s.Xb(5,"p"),s.Sb(6,"span",5),s.Wb(),s.Wb(),s.Xb(7,"div",6),s.Xb(8,"h3",7),s.Lc(9),s.Wb(),s.Xb(10,"p"),s.Lc(11,"Additional driver"),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",8),s.Xb(13,"div",9),s.Jc(14,bt,9,5,"div",10),s.Xb(15,"div",11),s.Xb(16,"h4",12),s.Lc(17,"Occupation"),s.Wb(),s.Xb(18,"p"),s.Lc(19),s.Sb(20,"br"),s.Lc(21),s.Wb(),s.Wb(),s.Xb(22,"div",13),s.Xb(23,"h4",12),s.Lc(24,"Date of birth"),s.Wb(),s.Xb(25,"p"),s.Sb(26,"span",14),s.jc(27,"nthDate"),s.Wb(),s.Wb(),s.Xb(28,"div",15),s.Xb(29,"h4",12),s.Lc(30,"Driving licence number"),s.Wb(),s.Jc(31,dt,3,1,"ng-container",16),s.Jc(32,gt,1,1,"ng-template",null,17,s.Kc),s.Wb(),s.Xb(34,"div",18),s.Xb(35,"h4",12),s.Lc(36,"Licence type"),s.Wb(),s.Xb(37,"p",19),s.Lc(38),s.Wb(),s.Wb(),s.Xb(39,"div",20),s.Xb(40,"h4",12),s.Lc(41,"Claims & convictions"),s.Wb(),s.Jc(42,ft,3,5,"p",21),s.jc(43,"slice"),s.Jc(44,vt,2,0,"p",22),s.Jc(45,yt,1,3,"ng-template",null,23,s.Kc),s.Wb(),s.Jc(47,wt,5,1,"div",24),s.Wb(),s.Wb(),s.Wb(),s.Xb(48,"div",25),s.fc("click",function(){return t.isCollapsed=!t.isCollapsed}),s.Xb(49,"button",26),s.Lc(50),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.Ac(33),n=s.Ac(46);s.Ab(9),s.Mc(t.driver.name),s.Ab(3),s.pc("collapse",t.isCollapsed)("isAnimated",!0),s.Ab(2),s.pc("ngIf",t.driver.address),s.Ab(5),s.Nc(" ",t.driver.employmentType,","),s.Ab(2),s.Nc(" ",t.driver.employersBusiness," "),s.Ab(5),s.pc("innerHTML",s.kc(27,16,t.driver.dateOfBirth),s.Fc),s.Ab(5),s.pc("ngIf",t.driver.drivingLicenceNumber)("ngIfElse",e),s.Ab(7),s.Mc(t.driver.licenceType),s.Ab(4),s.pc("ngForOf",s.mc(43,18,t.claimsAndConvictions,0,t.maxVisibleClaimsAndConvictions)),s.Ab(2),s.pc("ngIf",!t.claimsAndConvictions.length)("ngIfElse",n),s.Ab(3),s.pc("ngIf",t.driver.frequencyOfUse),s.Ab(2),s.Bb("aria-expanded",t.isCollapsed?"false":"true"),s.Ab(1),s.Nc(" ",t.isCollapsed?"Show more details":"Show fewer details"," ")}},directives:[c.a,r.p,r.o,w.j,Je],pipes:[G.a,r.y,r.f],styles:['a[target=_blank][_ngcontent-%COMP%]:after{content:"";display:none}']}),e})(),Wt=(()=>{class e{constructor(e,t){this.el=e,this.renderer=t}onClick(e){e.target.classList.contains("expanded-button")&&(this.el.nativeElement.classList.contains("expanded-item")?this.renderer.removeClass(this.el.nativeElement,"expanded-item"):this.renderer.addClass(this.el.nativeElement,"expanded-item"))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(s.l),s.Rb(s.E))},e.\u0275dir=s.Mb({type:e,selectors:[["","expandableSliderItem",""]],hostBindings:function(e,t){1&e&&s.fc("click",function(e){return t.onClick(e)})}}),e})();function Xt(e,t){if(1&e&&(s.Xb(0,"div",30),s.Xb(1,"h4",17),s.Lc(2,"Address"),s.Wb(),s.Xb(3,"p",22),s.Lc(4),s.Sb(5,"br"),s.Lc(6),s.Sb(7,"br"),s.Lc(8),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.Pc(" ",e.driver.address.line1," ",e.driver.address.line2," ",e.driver.address.county,""),s.Ab(2),s.Nc(" ",e.driver.address.town,""),s.Ab(2),s.Nc(" ",e.driver.address.postcode," ")}}function St(e,t){if(1&e&&(s.Xb(0,"div",31),s.Xb(1,"h4",17),s.Lc(2,"Driving licence number"),s.Wb(),s.Xb(3,"p",22),s.Lc(4),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.Mc(e.driver.drivingLicenceNumber)}}function Lt(e,t){if(1&e&&(s.Xb(0,"p",32),s.Lc(1),s.jc(2,"date"),s.Wb()),2&e){const e=t.$implicit;s.Ab(1),s.Oc(" ",e.description,", ",s.lc(2,2,e.date,"MMM y")," ")}}function kt(e,t){1&e&&(s.Xb(0,"p",32),s.Lc(1,"None "),s.Wb())}function Pt(e,t){if(1&e&&s.Sb(0,"app-claims-and-convictions",33),2&e){const e=s.ic();s.pc("claims",e.driver.claims)("convictions",e.driver.convictions)("maxVisibleClaimsAndConvictions",e.maxVisibleClaimsAndConvictions)}}function Mt(e,t){if(1&e&&(s.Xb(0,"div",34),s.Xb(1,"h4",17),s.Lc(2,"Frequency of use"),s.Wb(),s.Xb(3,"p",22),s.Lc(4),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.Mc(e.driver.frequencyOfUse)}}let At=(()=>{class e{constructor(e){this.route=e,this.isCollapsed=!0,this.claimsAndConvictions=[],this.maxVisibleClaimsAndConvictions=3}get policyId(){return this.route.snapshot.queryParams.policyId}ngOnInit(){this.coverStartDate=new Date(this.driver.coverStartDate),this.coverEndDate=new Date(this.driver.coverEndDate),this.concatClaimsAndConvictions()}concatClaimsAndConvictions(){this.claimsAndConvictions=[...this.driver.claims,...this.driver.convictions],this.claimsAndConvictions.sort((e,t)=>Number(new Date(t.date))-Number(new Date(e.date)))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-temporary-driver-slider-item"]],inputs:{driver:"driver"},decls:57,vars:28,consts:[[1,"panel-slider-item"],[1,"panel"],[1,"panel-content"],[1,"row","icon-content-label"],[1,"col","col-auto"],[1,"icon","icon-secondary","icon-small","icon-md-medium","icon-profile"],[1,"col-6","col-md-4","col-lg"],[1,"heading-epsilon","sessioncamhidetext"],[1,"col-12","col-md-5","col-lg-auto","mt-3","mt-md-0"],[1,"heading-epsilon"],[3,"innerHTML"],[1,"col","col-auto","d-flex","justify-content-end","mt-3","mt-md-0"],[3,"temporaryCoverStatus"],[3,"collapse","isAnimated"],[1,"row","my-4"],["class","col-12 col-lg-6 mb-4 order-0",4,"ngIf"],[1,"col-12","col-lg-6","mb-4","order-2","order-lg-1"],[1,"heading-epsilon","mb-1"],[1,"col-12","col-lg-6","mb-4","order-1","order-lg-2"],[1,"sessioncamhidetext",3,"innerHTML"],["class","col-12 col-lg-6 mb-4 order-4 order-lg-3",4,"ngIf"],[1,"col-12","col-lg-6","mb-4","order-3","order-lg-4"],[1,"sessioncamhidetext"],[1,"col-12","col-lg-6","mb-4","order-5","order-lg-6"],["class","mb-1 sessioncamhidetext",4,"ngFor","ngForOf"],["class","mb-1 sessioncamhidetext",4,"ngIf","ngIfElse"],["claimsAndConvictionsDetails",""],["class","col-12 col-lg-6 mb-4 order-7 order-lg-7",4,"ngIf"],["href","#",1,"panel-content","panel-highlight","order-last","expandmore","expanded-button",3,"click"],["type","button",1,"expandmore__button","expandmore-button"],[1,"col-12","col-lg-6","mb-4","order-0"],[1,"col-12","col-lg-6","mb-4","order-4","order-lg-3"],[1,"mb-1","sessioncamhidetext"],[3,"claims","convictions","maxVisibleClaimsAndConvictions"],[1,"col-12","col-lg-6","mb-4","order-7","order-lg-7"]],template:function(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"div",4),s.Xb(5,"p"),s.Sb(6,"span",5),s.Wb(),s.Wb(),s.Xb(7,"div",6),s.Xb(8,"h3",7),s.Lc(9),s.Wb(),s.Xb(10,"p"),s.Lc(11,"Temporary driver"),s.Wb(),s.Wb(),s.Xb(12,"div",8),s.Xb(13,"h3",9),s.Lc(14,"Cover start and end date"),s.Wb(),s.Xb(15,"p"),s.Sb(16,"span",10),s.jc(17,"nthDate"),s.Lc(18," - "),s.Sb(19,"span",10),s.jc(20,"nthDate"),s.Wb(),s.Wb(),s.Xb(21,"div",11),s.Sb(22,"app-status-badge",12),s.Wb(),s.Wb(),s.Xb(23,"div",13),s.Xb(24,"div",14),s.Jc(25,Xt,9,5,"div",15),s.Xb(26,"div",16),s.Xb(27,"h4",17),s.Lc(28,"Occupation"),s.Wb(),s.Xb(29,"p"),s.Lc(30),s.Sb(31,"br"),s.Lc(32),s.Wb(),s.Wb(),s.Xb(33,"div",18),s.Xb(34,"h4",17),s.Lc(35,"Date of birth"),s.Wb(),s.Xb(36,"p"),s.Sb(37,"span",19),s.jc(38,"nthDate"),s.Wb(),s.Wb(),s.Jc(39,St,5,1,"div",20),s.Xb(40,"div",21),s.Xb(41,"h4",17),s.Lc(42,"Licence type"),s.Wb(),s.Xb(43,"p",22),s.Lc(44),s.Wb(),s.Wb(),s.Xb(45,"div",23),s.Xb(46,"h4",17),s.Lc(47,"Claims & convictions"),s.Wb(),s.Jc(48,Lt,3,5,"p",24),s.jc(49,"slice"),s.Jc(50,kt,2,0,"p",25),s.Jc(51,Pt,1,3,"ng-template",null,26,s.Kc),s.Wb(),s.Jc(53,Mt,5,1,"div",27),s.Wb(),s.Wb(),s.Wb(),s.Xb(54,"div",28),s.fc("click",function(){return t.isCollapsed=!t.isCollapsed}),s.Xb(55,"button",29),s.Lc(56),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.Ac(52);s.Ab(9),s.Mc(t.driver.name),s.Ab(7),s.pc("innerHTML",s.kc(17,18,t.coverStartDate),s.Fc),s.Ab(3),s.pc("innerHTML",s.kc(20,20,t.coverEndDate),s.Fc),s.Ab(3),s.pc("temporaryCoverStatus",t.driver.status),s.Ab(1),s.pc("collapse",t.isCollapsed)("isAnimated",!0),s.Ab(2),s.pc("ngIf",t.driver.address),s.Ab(5),s.Nc(" ",t.driver.employmentType,","),s.Ab(2),s.Nc(" ",t.driver.employersBusiness," "),s.Ab(5),s.pc("innerHTML",s.kc(38,22,t.driver.dateOfBirth),s.Fc),s.Ab(2),s.pc("ngIf",t.driver.drivingLicenceNumber),s.Ab(5),s.Mc(t.driver.licenceType),s.Ab(4),s.pc("ngForOf",s.mc(49,24,t.claimsAndConvictions,0,t.maxVisibleClaimsAndConvictions)),s.Ab(2),s.pc("ngIf",!t.claimsAndConvictions.length)("ngIfElse",e),s.Ab(3),s.pc("ngIf",t.driver.frequencyOfUse),s.Ab(2),s.Bb("aria-expanded",t.isCollapsed?"false":"true"),s.Ab(1),s.Nc(" ",t.isCollapsed?"Show more details":"Show fewer details"," ")}},directives:[$.a,c.a,r.p,r.o,Je],pipes:[G.a,r.y,r.f],styles:[""]}),e})();function Ot(e,t){1&e&&s.Sb(0,"span",7)}function It(e,t){1&e&&s.Sb(0,"app-driver-slider-item",9),2&e&&s.pc("driver",t.$implicit)}function xt(e,t){1&e&&s.Sb(0,"app-temporary-driver-slider-item",9),2&e&&s.pc("driver",t.$implicit)}function Rt(e,t){if(1&e&&(s.Vb(0),s.Jc(1,xt,1,1,"app-temporary-driver-slider-item",8),s.Ub()),2&e){const e=s.ic(2);s.Ab(1),s.pc("ngForOf",e.policy.temporaryDrivers)}}function Dt(e,t){if(1&e&&(s.Xb(0,"app-drivers-panel-slider"),s.Jc(1,It,1,1,"app-driver-slider-item",8),s.Jc(2,Rt,2,1,"ng-container",6),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("ngForOf",e.policy.additionalDrivers),s.Ab(1),s.pc("ngIf",e.isTemporaryCoverEnabled)}}const _t=function(){return[]},Tt=function(){return["/adjustment/home/adjustmentchanges"]},qt=function(e){return{policyId:e}};let Et=(()=>{class e{constructor(e,t){this.route=e,this.policyMessagesService=t,this.adjustmentTypes=N.c}get policyId(){return this.route.snapshot.queryParams.policyId}get AppInfoTooltipText(){return this.isTemporaryCoverEnabled?"You can add a driver to your policy & edit existing drivers. You can also add a driver to your policy on a temporary basis.":"You can add a driver to your policy & edit existing drivers."}ngOnInit(){this.changesLocked=this.policyMessagesService.policyAdjustmentLocked$.pipe(Object(X.a)()),this.isTemporaryCoverEnabled=k.a.settings.client.temporaryCoverEnabled}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(_.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-drivers"]],inputs:{policy:"policy"},decls:12,vars:17,consts:[[1,"row"],[1,"col-xl-7","col-md-8","mb-2","drivers-header"],[1,"row","mx-0","align-items-sm-center",3,"appInfoTooltip"],[1,"heading-alpha","mb-0","w-100","w-sm-auto"],[1,"ml-sm-4","mt-2","mt-sm-0",3,"routerLink","queryParams"],["class","icon icon-functional icon-seagull icon-info-point mt-1 mt-xl-0","alt","i",4,"ngIf"],[4,"ngIf"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","mt-1","mt-xl-0"],["expandableSliderItem","",3,"driver",4,"ngFor","ngForOf"],["expandableSliderItem","",3,"driver"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"h2",3),s.Lc(4,"Drivers"),s.Wb(),s.Xb(5,"a",4),s.jc(6,"async"),s.jc(7,"async"),s.Lc(8,"Add and manage drivers"),s.Wb(),s.Jc(9,Ot,1,0,"span",5),s.jc(10,"async"),s.Wb(),s.Wb(),s.Wb(),s.Jc(11,Dt,3,2,"app-drivers-panel-slider",6)),2&e&&(s.Ab(2),s.pc("appInfoTooltip",t.AppInfoTooltipText),s.Ab(3),s.Jb("disabled",s.kc(6,7,t.changesLocked)),s.pc("routerLink",s.kc(7,9,t.changesLocked)?s.tc(13,_t):s.tc(14,Tt))("queryParams",s.uc(15,qt,t.policyId)),s.Ab(4),s.pc("ngIf",t.isTemporaryCoverEnabled&&!s.kc(10,11,t.changesLocked)),s.Ab(2),s.pc("ngIf",(null==t.policy.additionalDrivers?null:t.policy.additionalDrivers.length)||(null==t.policy.temporaryDrivers?null:t.policy.temporaryDrivers.length)))},directives:[H.a,w.j,r.p,lt,r.o,Ct,Wt,At],pipes:[r.b],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}.drivers-header[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),e})();const Nt=function(){return["/customer/policyactivity"]},Ft=function(e){return{policyId:e}};let jt=(()=>{class e{constructor(e){this.route=e}get policyId(){return this.route.snapshot.queryParams.policyId}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-activity"]],decls:6,vars:5,consts:[[1,"row"],[1,"col"],[1,"heading-alpha","mb-2","mb-md-4"],[1,"btn",3,"routerLink","queryParams"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"h2",2),s.Lc(3,"Policy activity"),s.Wb(),s.Xb(4,"button",3),s.Lc(5,"See your policy activity"),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(4),s.pc("routerLink",s.tc(2,Nt))("queryParams",s.uc(3,Ft,t.policyId)))},directives:[w.h],styles:[""]}),e})();var Jt=n("hkZp");let Ut=(()=>{class e{constructor(e,t,n,i,o){this.claimsService=e,this.route=t,this.modalService=n,this.bsModalService=i,this.loadingOverlay=o,this.cancellatationLockedInfoTooltip='Unfortunately, you are unable to cancel your policy online at this time. Please contact our customer services team via live chat. Our opening hours can be found <a target="_blank" href="https://www.1stcentralinsurance.com/get-in-contact">here</a>'}openCancellationModal(){this.loadingOverlay.show(),this.claimsService.anyClaimsOnPolicy$(this.route.snapshot.queryParams.policyId).subscribe(e=>{this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(Jt.a,{ignoreBackdropClick:!0}),this.modalRef)),this.modalRef.content.anyClaimsOnPolicy=e,this.loadingOverlay.close()})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(o.a),s.Rb(w.a),s.Rb(Te.a),s.Rb(a.b),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-cancellation"]],inputs:{policyChangesLocked:"policyChangesLocked"},decls:13,vars:6,consts:[[1,"row"],[1,"col"],[1,"panel","mt-0","mt-md-3"],[1,"panel-content"],[1,"col-12","col-md-7","p-0","position-relative",3,"appInfoTooltip"],[1,"row","m-0","align-items-center","justify-content-start"],["href","#",3,"click"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","mr-2","mr-xl-0",3,"hidden"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"h2"),s.Lc(5,"I'd like to cancel my insurance"),s.Wb(),s.Xb(6,"p"),s.Lc(7," If you're looking to cancel your policy, you can easily do this online by clicking the link below. "),s.Wb(),s.Xb(8,"div",4),s.Xb(9,"p",5),s.Xb(10,"a",6),s.fc("click",function(){return t.openCancellationModal(),!1}),s.Lc(11," Cancel my insurance "),s.Wb(),s.Sb(12,"span",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(8),s.qc("appInfoTooltip",t.cancellatationLockedInfoTooltip),s.Ab(2),s.Jb("text-underline",!t.policyChangesLocked||null)("disabled",!!t.policyChangesLocked||null),s.Ab(2),s.pc("hidden",!t.policyChangesLocked))},directives:[H.a],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}"]}),e})();function Bt(e,t){if(1&e&&(s.Xb(0,"div",3),s.Sb(1,"app-messages",6),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("messages",e.messages)}}function Vt(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",8),s.Sb(2,"app-cancellation",12),s.Wb(),s.Ub()),2&e){const e=s.ic(2);s.Ab(2),s.pc("policyChangesLocked",e.changesLocked)}}function Yt(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",3),s.Sb(2,"app-summary",7),s.Wb(),s.Xb(3,"div",8),s.Sb(4,"app-vehicles",9),s.Wb(),s.Xb(5,"div",8),s.Sb(6,"app-your-details",10),s.Wb(),s.Xb(7,"div",8),s.Sb(8,"app-drivers",11),s.Wb(),s.Xb(9,"div",8),s.Sb(10,"app-activity"),s.Wb(),s.Jc(11,Vt,3,1,"ng-container",5),s.Ub()),2&e){const e=s.ic();s.Ab(2),s.pc("policyDetails",e.policyDetails),s.Ab(2),s.pc("policy",e.policyDetails)("policyChangesLocked",e.changesLocked),s.Ab(2),s.pc("policy",e.policyDetails)("availableChanges",e.availableChanges)("policyChangesLocked",e.changesLocked),s.Ab(2),s.pc("policy",e.policyDetails),s.Ab(3),s.pc("ngIf",e.isCancellationEnabled)}}const $t=function(){return["/customer/dashboard"]},Ht=function(e){return{policyId:e}};let Qt=(()=>{class e{constructor(e,t,n,i,o,c,a){this.policyService=e,this.route=t,this.loadingOverlay=n,this.adjustmentHttpService=i,this.scriptsManagerService=o,this.policyMessagesService=c,this.autoRenewalOptInToggleService=a,this.isCancellationEnabled=!1,this.isRenewalEnabled=!1}get policyId(){return this.route.snapshot.queryParams.policyId}ngOnInit(){this.loadingOverlay.onAllOverlaysClosed$.pipe(Object(W.a)()).subscribe(()=>{window.location.hash&&setTimeout(()=>{const e=document.querySelector(window.location.hash);e&&e.scrollIntoView()},0)}),this.route.queryParams.subscribe(e=>{e.policyId&&(this.getPolicyDetails(e.policyId),this.clearChangeDetailsWorkflows())}),this.policyMessagesService.policyMessages$.subscribe(e=>{this.messages=e.filter(e=>!e.policyKey||e.type===M.OutstandingPayment||e.type===M.UnsignedCreditAgreement||e.type===M.UnpaidPrevalidatedMTA||e.type===M.MissingDrivingLicenceNumber||e.type===M.Renewal||e.type===M.ManualRenewal||e.type===M.ChangesUnavailable||e.type===M.BackInToAutoRenewal||e.type===M.CustomerCantMakeChangesAfterCFSLock)}),this.policyMessagesService.policyAdjustmentLocked$.pipe(Object(X.a)()).subscribe(e=>{this.changesLocked=e}),this.isCancellationEnabled=k.a.settings.client.cancellationEnabled,this.isRenewalEnabled=k.a.settings.client.optOutOfAutoRenewalOnline}ngOnDestroy(){this.scriptsManagerService.destroy()}getPolicyDetails(e){this.loadingOverlay.show(),Object(L.a)({policyDetails:this.policyService.getPolicyDetails$(e),availableChanges:this.adjustmentHttpService.getAvailableChanges$(e)}).pipe(Object(S.a)(()=>{this.loadingOverlay.close()})).subscribe(e=>{var t;this.setTemporaryCoverStatuses(e.policyDetails.temporaryVehicles),this.setTemporaryCoverStatuses(e.policyDetails.temporaryDrivers),this.scriptsManagerService.initializeAccount(e.policyDetails),this.policyDetails=e.policyDetails,this.availableChanges=null===(t=e.availableChanges)||void 0===t?void 0:t.availableChanges,this.autoRenewalOptInToggleService.setOptInOutValue(e.policyDetails.renewalAutoAcceptSelected)})}clearChangeDetailsWorkflows(){this.adjustmentHttpService.clearChangeDetailsWorkflows$().subscribe()}setTemporaryCoverStatuses(e){if(!e)return;const t=new Date;e.forEach(e=>{const n=new Date(e.coverStartDate),i=new Date(e.coverEndDate);n>t?e.status=P.a.StartingSoon:i<t?e.status=P.a.Inactive:n<=t&&i>=t&&(e.status=P.a.Active)})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(I.a),s.Rb(w.a),s.Rb(x.a),s.Rb(R.a),s.Rb(D.a),s.Rb(_.a),s.Rb(O))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-policy"]],features:[s.zb([O])],decls:10,vars:7,consts:[[1,"link-back",3,"routerLink","queryParams"],[1,"row","justify-content-center"],["class","col-md-10 col-lg-8",4,"ngIf"],[1,"col-md-10","col-lg-8"],[1,"mb-4"],[4,"ngIf"],[3,"messages"],[3,"policyDetails"],[1,"col-md-10","col-lg-8","mt-4","mt-md-5"],[3,"policy","policyChangesLocked"],[3,"policy","availableChanges","policyChangesLocked"],[3,"policy"],[3,"policyChangesLocked"]],template:function(e,t){1&e&&(s.Xb(0,"a",0),s.Lc(1,"< Back to your dashboard"),s.Wb(),s.Xb(2,"div",1),s.Jc(3,Bt,2,1,"div",2),s.Xb(4,"div",3),s.Xb(5,"h1",4),s.Lc(6,"Your policy"),s.Wb(),s.Wb(),s.Xb(7,"div",3),s.Sb(8,"app-policies-select-list"),s.Wb(),s.Jc(9,Yt,12,8,"ng-container",5),s.Wb()),2&e&&(s.pc("routerLink",s.tc(4,$t))("queryParams",s.uc(5,Ht,t.policyId)),s.Ab(3),s.pc("ngIf",t.messages&&t.messages.length),s.Ab(6),s.pc("ngIf",t.policyDetails))},directives:[w.j,r.p,T.a,B,pe,Me,at,Et,jt,Ut],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}"]}),e})(),Kt=(()=>{class e{constructor(e){this.titleService=e,this.titleService.setTitle("Your policy")}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(C.d))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-account"]],decls:1,vars:0,template:function(e,t){1&e&&s.Sb(0,"app-policy")},directives:[Qt],styles:[""]}),e})();var Gt=function(e){return e[e.Unknown=0]="Unknown",e[e.Pending=1]="Pending",e[e.Submitted=2]="Submitted",e[e.Accepted=3]="Accepted",e[e.Completed=4]="Completed",e}({}),zt=n("vkgz"),Zt=n("5LXn");class en{constructor(){this.SECOND_MULTIPLIER=1e3,this.MINUTE_MULTIPLIER=60,this.HOUR_MULTIPLIER=60,this.DAY_MULTIPLIER=24}getAsMilliseconds(e){const t=e.split(/([0-9]+)/).filter(Boolean);if(1==t.length)return this.convertToMinutes(+t[0]);switch(t[1]){case"s":return this.convertToSeconds(+t[0]);case"m":return this.convertToMinutes(+t[0]);case"h":return this.convertToHours(+t[0]);case"d":return this.convertToDays(+t[0]);default:return 0}}convertToSeconds(e){return e*this.SECOND_MULTIPLIER}convertToMinutes(e){return this.convertToSeconds(e*this.MINUTE_MULTIPLIER)}convertToHours(e){return this.convertToMinutes(e*this.HOUR_MULTIPLIER)}convertToDays(e){return this.convertToHours(e*this.DAY_MULTIPLIER)}}var tn=n("BvQW"),nn=n("UX/C"),on=n("S5Uh"),cn=function(e){return e.Uploaded="Pending Acceptance",e.Accepted="Accepted",e.Rejected="Outstanding",e.Outstanding="Outstanding",e}({}),an=n("8TXn"),sn=function(e){return e[e.PhotocardDrivingLicence=0]="PhotocardDrivingLicence",e[e.UniqueDVLACheckCode=1]="UniqueDVLACheckCode",e[e.PaperCounterpartDrivingLicence=2]="PaperCounterpartDrivingLicence",e[e.ProofOfNCD=3]="ProofOfNCD",e[e.VehicleRegistrationDocument=4]="VehicleRegistrationDocument",e[e.ProofOfHomeAddress=5]="ProofOfHomeAddress",e[e.ProofDateStartedLivingInTheUK=6]="ProofDateStartedLivingInTheUK",e[e.ConfirmationDateStartedLivingInTheUK=7]="ConfirmationDateStartedLivingInTheUK",e[e.ProofOfPolicyPurchase=8]="ProofOfPolicyPurchase",e[e.ProofOfOccupation=9]="ProofOfOccupation",e[e.ProofOfChangeOfName=10]="ProofOfChangeOfName",e[e.ContactPolicyAnalysisTeam=11]="ContactPolicyAnalysisTeam",e[e.ClaimsHistory=12]="ClaimsHistory",e}({});function rn(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",8),s.Xb(1,"div",9),s.Xb(2,"div",10),s.Xb(3,"p"),s.Lc(4,"Are you sure?"),s.Wb(),s.Sb(5,"hr"),s.Wb(),s.Wb(),s.Xb(6,"div",11),s.Xb(7,"div",12),s.Xb(8,"button",13),s.fc("click",function(){return s.Ec(e),s.ic(2).onDelete()}),s.Lc(9,"Yes"),s.Wb(),s.Wb(),s.Xb(10,"div",14),s.Xb(11,"button",13),s.fc("click",function(){return s.Ec(e),s.ic(2).deletePopupRef.hide()}),s.Lc(12,"No"),s.Wb(),s.Wb(),s.Wb(),s.Wb()}}function ln(e,t){if(1&e&&(s.Xb(0,"div",15),s.Lc(1),s.Wb()),2&e){const e=s.ic(2);s.Ab(1),s.Nc(" ",e.deleteError," ")}}function bn(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",2),s.Xb(1,"h1",3),s.Lc(2,"Document deletion"),s.Wb(),s.Xb(3,"button",4),s.fc("click",function(){return s.Ec(e),s.ic().deletePopupRef.hide()}),s.Xb(4,"span",5),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Jc(6,rn,13,0,"div",6),s.Jc(7,ln,2,1,"div",7)}if(2&e){const e=s.ic();s.Ab(6),s.pc("ngIf",!e.deleteError),s.Ab(1),s.pc("ngIf",e.deleteError)}}function dn(e,t){if(1&e){const e=s.Yb();s.Xb(0,"button",34),s.fc("click",function(){s.Ec(e);const t=s.ic(2).$implicit;return s.ic(2).onUpload(t.documentRequestItemId)}),s.Lc(1," Upload document "),s.Wb()}}function un(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",20),s.Xb(2,"div",35),s.Xb(3,"span",36),s.Sb(4,"span",37),s.Lc(5),s.Wb(),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic(2).$implicit,t=s.ic(2);s.Ab(3),s.pc("ngClass",t.getStatusIconColor(e.documentStatus)),s.Ab(1),s.pc("ngClass",t.getStatusIconType(e.documentStatus)),s.Ab(1),s.Mc(e.documentStatus.trim())}}function pn(e,t){if(1&e&&(s.Xb(0,"div",48),s.Sb(1,"img",49),s.Wb()),2&e){const e=s.ic().$implicit,t=s.ic(6);s.Ab(1),s.pc("src",t.getThumbnailUrl(e.link),s.Gc)}}function hn(e,t){1&e&&(s.Xb(0,"div",48),s.Sb(1,"span",50),s.Wb())}function mn(e,t){if(1&e&&(s.Xb(0,"p",51),s.Xb(1,"span",36),s.Sb(2,"span",37),s.Lc(3),s.Wb(),s.Wb()),2&e){const e=s.ic(5).$implicit,t=s.ic(2);s.pc("ngClass",t.setDocumentStatusColour(e.documentStatus)),s.Ab(1),s.pc("ngClass",t.getStatusIconColor(e.documentStatus)),s.Ab(1),s.pc("ngClass",t.getStatusIconType(e.documentStatus)),s.Ab(1),s.Nc(" ",t.getDocumentStatusText(e.documentStatus)," ")}}function gn(e,t){if(1&e&&(s.Xb(0,"p",51),s.Xb(1,"span",52),s.Sb(2,"span",53),s.Lc(3," Ready to Submit "),s.Wb(),s.Wb()),2&e){const e=s.ic(5).$implicit,t=s.ic(2);s.pc("ngClass",t.setDocumentStatusColour(e.documentStatus))}}function fn(e,t){if(1&e&&(s.Xb(0,"p",51),s.Xb(1,"span",54),s.Sb(2,"span",55),s.Lc(3," Uploaded Waiting Review "),s.Wb(),s.Wb()),2&e){const e=s.ic(5).$implicit,t=s.ic(2);s.pc("ngClass",t.setDocumentStatusColour(e.documentStatus))}}function vn(e,t){if(1&e){const e=s.Yb();s.Xb(0,"button",56),s.fc("click",function(){s.Ec(e);const t=s.ic().$implicit,n=s.ic(4).$implicit,i=s.ic(2),o=s.Ac(1);return i.showDeletePopup(n.documentRequestItemId,t.link,o)}),s.Sb(1,"span",57),s.Wb()}}function yn(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",39),s.Jc(2,pn,2,1,"div",40),s.Jc(3,hn,2,0,"ng-template",null,41,s.Kc),s.Wb(),s.Xb(5,"div",42),s.Xb(6,"p",43),s.Lc(7),s.Wb(),s.Jc(8,mn,4,4,"p",44),s.Jc(9,gn,4,1,"p",44),s.Jc(10,fn,4,1,"p",44),s.Wb(),s.Xb(11,"div",45),s.Xb(12,"button",46),s.fc("click",function(){s.Ec(e);const n=t.$implicit;return s.ic(6).viewUploadedDoc(n.link)}),s.Lc(13," View "),s.Wb(),s.Jc(14,vn,2,0,"button",47),s.Wb(),s.Ub()}if(2&e){const e=t.$implicit,n=s.Ac(4),i=s.ic(4).$implicit,o=s.ic(2);s.Ab(2),s.pc("ngIf",o.hasThumbnail(e.name))("ngIfElse",n),s.Ab(5),s.Mc(e.name),s.Ab(1),s.pc("ngIf",o.documentRequestStatus===o.documentRequestStatusEnum.Completed||"Pending Acceptance"!==i.documentStatus),s.Ab(1),s.pc("ngIf",o.documentRequestStatus===o.documentRequestStatusEnum.Pending&&"Pending Acceptance"===i.documentStatus),s.Ab(1),s.pc("ngIf",o.documentRequestStatus===o.documentRequestStatusEnum.Submitted&&"Pending Acceptance"===i.documentStatus),s.Ab(4),s.pc("ngIf",o.documentRequestStatus===o.documentRequestStatusEnum.Pending)}}function wn(e,t){if(1&e&&(s.Vb(0),s.Jc(1,yn,15,7,"ng-container",22),s.Ub()),2&e){const e=s.ic(3).$implicit;s.Ab(1),s.pc("ngForOf",e.uploadedDocumentsList)}}function Cn(e,t){if(1&e&&(s.Xb(0,"div",38),s.Jc(1,wn,2,1,"ng-container",1),s.Wb()),2&e){const e=s.ic(2).$implicit;s.Ab(1),s.pc("ngIf",e.uploadedDocumentsList)}}function Wn(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",11),s.Xb(2,"div",23),s.Sb(3,"span",24),s.Wb(),s.Xb(4,"div",25),s.Xb(5,"div",26),s.Xb(6,"h4",27),s.Lc(7),s.Wb(),s.Sb(8,"span",28),s.Wb(),s.Xb(9,"div",26),s.Xb(10,"p",29),s.Lc(11),s.jc(12,"date"),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",30),s.Jc(14,dn,2,0,"button",31),s.Wb(),s.Wb(),s.Jc(15,un,6,3,"ng-container",32),s.Jc(16,Cn,2,1,"ng-template",null,33,s.Kc),s.Ub()),2&e){const e=s.Ac(17),t=s.ic().$implicit,n=s.ic(2);s.Ab(4),s.qc("appInfoTooltip",t.helpTextMessage),s.Ab(3),s.Mc(t.documentDescription),s.Ab(4),s.Nc("Required by ",s.lc(12,6,t.requiredBy,"dd/MM/yyyy"),""),s.Ab(3),s.pc("ngIf",n.documentRequestStatus&&n.documentRequestStatus!==n.documentRequestStatusEnum.Completed),s.Ab(1),s.pc("ngIf",!t.uploadedDocumentsList)("ngIfElse",e)}}function Xn(e,t){if(1&e&&(s.Xb(0,"p",51),s.Xb(1,"span",36),s.Sb(2,"span",37),s.Lc(3),s.Wb(),s.Wb()),2&e){const e=s.ic(2).$implicit,t=s.ic(2);s.pc("ngClass",t.setDocumentStatusColour(e.documentStatus)),s.Ab(1),s.pc("ngClass",t.getStatusIconColor(e.documentStatus)),s.Ab(1),s.pc("ngClass",t.getStatusIconType(e.documentStatus)),s.Ab(1),s.Nc(" ",t.getDocumentStatusText(e.documentStatus)," ")}}function Sn(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",11),s.Xb(2,"div",23),s.Sb(3,"span",58),s.Wb(),s.Xb(4,"div",59),s.Xb(5,"div",26),s.Xb(6,"h4",27),s.Lc(7),s.Wb(),s.Wb(),s.Xb(8,"div",26),s.Xb(9,"p",29),s.Lc(10),s.jc(11,"date"),s.Wb(),s.Xb(12,"p"),s.Lc(13," Please call the Policy Analysis team on "),s.Xb(14,"a",60),s.Lc(15,"0333 043 2095"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(16,"div",20),s.Xb(17,"div",35),s.Jc(18,Xn,4,4,"p",44),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic().$implicit,t=s.ic(2);s.Ab(7),s.Mc(e.documentDescription),s.Ab(3),s.Nc("Required by ",s.lc(11,3,e.requiredBy,"dd/MM/yyyy"),""),s.Ab(8),s.pc("ngIf",t.isPolicyAnalysisStatusVisible(e.documentStatus))}}function Ln(e,t){if(1&e&&(s.Xb(0,"div"),s.Jc(1,Wn,18,9,"ng-container",1),s.Jc(2,Sn,19,6,"ng-container",1),s.Wb()),2&e){const e=t.$implicit;s.Ab(1),s.pc("ngIf",e.isDocumentRequired),s.Ab(1),s.pc("ngIf",!e.isDocumentRequired)}}function kn(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",9),s.Xb(2,"div",16),s.Sb(3,"span",17),s.Wb(),s.Xb(4,"div",18),s.Xb(5,"h2",19),s.Lc(6),s.Wb(),s.Xb(7,"p"),s.Lc(8),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",20),s.Xb(10,"div",21),s.Sb(11,"hr"),s.Wb(),s.Wb(),s.Jc(12,Ln,3,2,"div",22),s.Xb(13,"div",20),s.Xb(14,"div",21),s.Sb(15,"hr"),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic();s.Ab(6),s.Mc(e.uploadDocumentForDriver.driverName),s.Ab(2),s.Mc(e.isMainDriver?"Main Driver":"Additional Driver"),s.Ab(4),s.pc("ngForOf",e.uploadDocumentForDriver.requestedDocuments)}}let Pn=(()=>{class e{constructor(e,t,n,i,o,c){this.modalService=e,this.bsModalService=t,this.dynamicDocumentsService=n,this.route=i,this.loadingOverlayService=o,this.documentUploadService=c,this.documentRequestStatusEnum=Gt}get maxFileSizeInMegaBytes(){return E.a.settings.uploadingFiles.maxFileSizeInMegaBytes}showDeletePopup(e,t,n){this.deleteError=null,this.currentDocumentId=t,this.currentItemId=e,this.modalService.registerModal(()=>(this.deletePopupRef=this.bsModalService.show(n,{ignoreBackdropClick:!0}),this.deletePopupRef))}onDelete(){const e=this.route.snapshot.queryParams.policyId;this.currentDocumentId&&this.currentItemId&&e&&(this.loadingOverlayService.show(),this.dynamicDocumentsService.deleteDocument(this.currentDocumentId,e,this.currentItemId).pipe(Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(e=>{e.isSuccess?(this.documentUploadService.reloadUploadDocumentsModel(e.data),this.deletePopupRef.hide()):!e.isSuccess&&e.data&&(this.deleteError=e.data)}))}setDocumentStatusColour(e){if(this.isCompleted)return"upload-status-accepted";switch(e){case cn.Uploaded:return"upload-status-uploaded";case cn.Rejected:return"upload-status-rejected";case cn.Outstanding:return"upload-status-outstanding";case cn.Accepted:return"upload-status-accepted";default:return"upload-status-default"}}getStatusIconColor(e){if(this.isCompleted)return"badge-status-success";switch(e){case cn.Outstanding:return"badge-status-danger";case cn.Uploaded:return"badge-status-warning";case cn.Accepted:return"badge-status-success";default:return""}}getStatusIconType(e){if(this.isCompleted)return"icon-tick";switch(e){case cn.Outstanding:return"icon-alert";case cn.Uploaded:return"icon-info-point";case cn.Accepted:return"icon-tick";default:return""}}getDocumentStatusText(e){if(this.isCompleted)return"Reviewed";switch(e){case cn.Outstanding:return"Outstanding";case cn.Uploaded:return"Uploaded Waiting Review";case cn.Accepted:return"Reviewed";default:return""}}isPolicyAnalysisStatusVisible(e){return e===cn.Outstanding||e===cn.Accepted}viewUploadedDoc(e){window.open(`${E.a.settings.client.apiUrl}document/document?id=${e}`,"_blank")}onUpload(e){this.setModalInfo(e),this.modalService.registerModal(()=>(this.uploadPopupRef=this.bsModalService.show(an.a,{class:"modal-custom-size",ignoreBackdropClick:!0}),this.uploadPopupRef)),this.uploadDocumentRequestItemId=e,this.uploadPopupRef.content.uploadDocumentRequestItemId=e,this.uploadPopupRef.content.titleFirstStep=this.modalTitle,this.uploadPopupRef.content.descriptionFirstStep=this.modalDescription}decapitalize(e){return"Vehicle Registration Document"===e?e.toLowerCase():e.charAt(0).toLowerCase()+e.slice(1)}setModalInfo(e){const t=this.uploadDocumentForDriver.driverName.split(" ")[0],n=this.uploadDocumentForDriver.requestedDocuments.find(t=>t.documentRequestItemId===e);switch(this.modalTitle="Upload "+t+"'s "+this.decapitalize(n.documentDescription),+n.documentTitle){case sn.PhotocardDrivingLicence:this.modalDescription="Please upload a copy of the front and back of your photo-card. <br> <br> If you only hold a UK paper driving licence, please upload a copy of the front and back, showing the full page for both.";break;case sn.PaperCounterpartDrivingLicence:this.modalDescription="Please upload a copy of the front and back, showing the full page for both.";break;case sn.UniqueDVLACheckCode:this.modalDescription="Please upload a photo of your 8 character unique check code, which is case sensitive. How to get your check code:<br> <br><ul><li> Go to the DVLA website and click the &#145;Start now&#146; button </li><li> Enter the information, read and agree to the terms and click &#145View now&#146; </li><li> Click \u2018Share your licence information\u2019 and then &#145;get a code&#146; </li><li> You will be provided with the check code. (For example Fk g5 2g th ) You can then take a photo or screenshot of this code and upload here.</li></ul>";break;case sn.ProofOfNCD:this.modalDescription="Please upload one of the following documents:<br> <br><ul><li> An email or letter containing proof of your NCD from your previous insurer </li><li> A renewal invitation, schedule, or statement of insurance/fact showing your NCD from your previous insurer. </li></ul><br> <br>Your proof should include your name and address, the policy number, the cancellation/expiry date and the number of years of NCD.";break;case sn.VehicleRegistrationDocument:this.modalDescription="Please upload a copy of all four pages of your vehicle registration documents (V5C)";break;case sn.ProofOfHomeAddress:this.modalDescription="Please upload one of the following documents as proof of address ensuring they are within the time frame listed below and clearly show your name and address:<br> <br><ul><li>UK-based bank or building society statement (must be less than 3 months old) please fully obscure any card/account number before uploading this</li><li>UK gas or electricity bill (must be less than 3 months old)</li><li>UK phone or broadband bill (not mobile; must be less than 3 months old)</li><li>UK mortgage statement (must be less than 12 months old)</li><li>UK council tax bill (must be less than 12 months old)</li><li>UK water bill (must be less than 12 months old)</li><li>Letter from Benefits Agency, including Universal Credit welcome letters (must be less than 12 months old)</li><li>Benefit letter from your local housing authority (must be less than 12 months old)</li><li>Tenancy agreement from a housing association or a council</li><li>Letter from a university or college (must be less than 12 months old)</li></ul>";break;case sn.ProofOfPolicyPurchase:this.modalDescription="Please upload a copy of the bank/credit card statement showing the original payment made to us when the policy was purchased \u2013 please fully obscure any card/account number before sending this.";break;case sn.ProofOfOccupation:this.modalDescription="Please upload a copy of an employment contract or recent payslip which clearly details your current occupation";break;case sn.ProofDateStartedLivingInTheUK:this.modalDescription="Please upload one of the documents below, which needs to be dated around the time you started living in the UK:<br> <br><ul><li> P60 or HMRC letter </li><li> Utility bill/statement or Council Tax bill/statement </li><li> Visa entry or official documentation you were issued with when you moved to the UK </li><li> Bank statement \u2013 please fully obscure any card/account number before sending this </li><li> NHS/doctor&#39;s surgery letter/registration documentation </li></ul>";break;case sn.ConfirmationDateStartedLivingInTheUK:this.modalDescription="Please send us a signed statement confirming when you started living in the UK, including the month and year.<br> <br>For example: &#145;I confirm that I started living in the UK in June 2010&#146;. Please sign this statement, take a photo and upload.";break;case sn.ProofOfChangeOfName:this.modalDescription="Please upload a marriage, divorce or deed poll certificate which details your name change.";break;case sn.ClaimsHistory:this.modalDescription="Please upload one of the following documents as proof of claims history - <br> <br><ul><li> An email or letter containing proof of your claims history from your previous insurer </li><li> A renewal invitation, schedule, or statement of insurance/fact showing your claims history from your previous insurer </li></ul>";break;case sn.ContactPolicyAnalysisTeam:this.modalDescription="Please call the Policy Analysis team on 0333 043 2095";break;default:this.modalDescription=""}}getThumbnailUrl(e){return`${E.a.settings.client.apiUrl}document/thumbnail?id=${e}`}hasThumbnail(e){return!e.toLowerCase().endsWith(".pdf")}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Te.a),s.Rb(a.b),s.Rb(tn.a),s.Rb(w.a),s.Rb(x.a),s.Rb(nn.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-requested-documents-list"]],inputs:{uploadDocumentForDriver:"uploadDocumentForDriver",documentRequestStatus:"documentRequestStatus",isMainDriver:"isMainDriver",isCompleted:"isCompleted"},decls:3,vars:1,consts:[["deletePopup",""],[4,"ngIf"],[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],["class","modal-body pb-4 pl-4 pr-4",4,"ngIf"],["class","modal-body",4,"ngIf"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"row"],[1,"col-12","col-md-12"],[1,"row","mt-4"],[1,"col-12","col-md-3"],["type","button",1,"btn","col-12",3,"click"],[1,"col-12","col-md-3","mt-3","mt-md-0"],[1,"modal-body"],[1,"col-3","col-md-2","my-3","my-md-0"],[1,"icon","icon-secondary","icon-profile"],[1,"col-9","col-md-10","my-3","my-md-0"],[1,"heading-epsilon","mb-2","sessioncamhidetext"],[1,"row","mb-2"],[1,"col-12","col-md-12","mb-2"],[4,"ngFor","ngForOf"],[1,"col-3","col-md-1","pr-0"],[1,"icon","icon-primary","icon-roundel","icon-file-white"],[1,"col-9","col-md-7",3,"appInfoTooltip"],[1,"row","m-0","align-items-center"],[1,"col-8","col-md-8","heading-epsilon","mb-2","p-0"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","ml-auto","mr-2","mr-xl-0"],[1,"mb-0"],[1,"col-8","col-md-4","mt-3","mb-3","mt-md-1","mb-md-1","d-flex","flex-column"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["listOfDocStatus",""],[1,"btn","btn-primary",3,"click"],[1,"col-md-12","mb-2"],[1,"badge","badge-status",3,"ngClass"],[1,"icon","icon-functional","icon-white",3,"ngClass"],[1,"row","mb-2","mt-2"],[1,"col-md-3","document-column"],["class","thumbnail-container",4,"ngIf","ngIfElse"],["icon",""],[1,"col-md-5","document-column"],[1,"mb-1"],["class","mb-2",3,"ngClass",4,"ngIf"],[1,"col-7","col-md-4","document-column"],["type","button",1,"btn","col-6","col-md-6","mr-3",3,"click"],["type","button","class","btn col-4 col-md-4",3,"click",4,"ngIf"],[1,"thumbnail-container"],["alt","",1,"thumbnail",3,"src"],[1,"icon","icon-primary","icon-small","icon-claims","icon-roundel"],[1,"mb-2",3,"ngClass"],[1,"badge","badge-status","badge-status-info"],[1,"icon","icon-functional","icon-white","icon-info-point"],[1,"badge","badge-status","badge-status-warning"],[1,"icon","icon-functional","icon-white","icon-alert"],["type","button",1,"btn","col-4","col-md-4",3,"click"],["alt","i",1,"icon-bin-green","ml-auto","m-auto"],[1,"icon","icon-primary","icon-roundel","icon-phone-white"],[1,"col-9","col-md-8"],["href","tel:03330432095",1,"text-link-back"]],template:function(e,t){1&e&&(s.Jc(0,bn,8,2,"ng-template",null,0,s.Kc),s.Jc(2,kn,16,3,"ng-container",1)),2&e&&(s.Ab(2),s.pc("ngIf",t.uploadDocumentForDriver))},directives:[r.p,r.o,H.a,r.n],pipes:[r.f],styles:[".upload-status-uploaded[_ngcontent-%COMP%]{color:#ff8343}.upload-status-outstanding[_ngcontent-%COMP%], .upload-status-rejected[_ngcontent-%COMP%]{color:#e7131a}.upload-status-accepted[_ngcontent-%COMP%]{color:#0ba88d}.upload-status-default[_ngcontent-%COMP%]{color:#42383b}.btn[_ngcontent-%COMP%]{padding-right:.3em;padding-left:.3em}.icon-bin-green[_ngcontent-%COMP%]{width:1.5em;height:1.5em;display:block}.document-column[_ngcontent-%COMP%]{padding:15px}.thumbnail-container[_ngcontent-%COMP%]{text-align:center}.thumbnail[_ngcontent-%COMP%], .thumbnail-container[_ngcontent-%COMP%]{max-width:120px;max-height:120px}.thumbnail[_ngcontent-%COMP%]{border:.5px solid #828282}"]}),e})();var Mn=n("3Pt+");function An(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",1),s.Xb(1,"div",2),s.Xb(2,"div",11),s.Xb(3,"div",12),s.Xb(4,"p",13),s.Sb(5,"span",14),s.Lc(6," Additional information required "),s.Wb(),s.Xb(7,"p"),s.Lc(8,"We need some additional information from you. Until this has been provided, unfortunately you are unable to make changes to your policy. If you need to discuss a change, please contact our Policy Analysis team on 0333 043 2095. "),s.Wb(),s.Xb(9,"p"),s.Xb(10,"a",15),s.fc("click",function(){return s.Ec(e),s.ic().scrollToInformationRequest()}),s.Lc(11,"View information request"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}}function On(e,t){1&e&&(s.Vb(0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",16),s.Xb(4,"div",12),s.Xb(5,"div",17),s.Xb(6,"div",18),s.Sb(7,"span",19),s.Wb(),s.Xb(8,"div",20),s.Xb(9,"h2",21),s.Lc(10,"Thank you for submitting your documents for review"),s.Wb(),s.Wb(),s.Wb(),s.Xb(11,"div",17),s.Xb(12,"div",22),s.Xb(13,"p"),s.Lc(14,"Your documents will now be reviewed and we\u2019ll be in contact with you if any further action is required."),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub())}function In(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",16),s.Xb(4,"div",12),s.Xb(5,"div",23),s.Xb(6,"button",24),s.fc("click",function(){return s.Ec(e),s.ic().closeReviewedBanner()}),s.Xb(7,"span",25),s.Lc(8,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",17),s.Xb(10,"div",18),s.Sb(11,"span",19),s.Wb(),s.Xb(12,"div",20),s.Xb(13,"h2",21),s.Lc(14,"All your documents have been reviewed"),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",17),s.Xb(16,"div",22),s.Xb(17,"p"),s.Lc(18,"Thanks for providing your information, we've completed our checks and you're good to go, you can now make changes to your policy."),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()}}function xn(e,t){if(1&e&&(s.Vb(0),s.Sb(1,"app-requested-documents-list",30),s.Ub()),2&e){const e=t.$implicit,n=s.ic().$implicit;s.Ab(1),s.pc("uploadDocumentForDriver",e)("documentRequestStatus",n.documentRequestStatus)("isMainDriver",!1)}}function Rn(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div"),s.Xb(1,"div",17),s.Xb(2,"div",31),s.Xb(3,"h2",32),s.Lc(4,"Comments (optional)"),s.Wb(),s.Xb(5,"p"),s.Lc(6,"Please enter any additional information to support your upload."),s.Wb(),s.Wb(),s.Xb(7,"div",31),s.Xb(8,"textarea",33),s.fc("ngModelChange",function(t){return s.Ec(e),s.ic().$implicit.customerComment=t}),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"div",17),s.Xb(10,"div",31),s.Xb(11,"p"),s.Lc(12," It's important that the information you provide is accurate. Providing incorrect information could result in your policy or other policies you have with us being cancelled. "),s.Wb(),s.Xb(13,"button",34),s.fc("click",function(){s.Ec(e);const t=s.ic().$implicit;return s.ic().onSubmit(t.requestId,t.customerComment)}),s.Lc(14,"Submit to review"),s.Sb(15,"span",35),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.ic().$implicit,t=s.ic();s.Ab(8),s.pc("ngModel",e.customerComment),s.Ab(5),s.pc("disabled",!t.documentSubmitEnabled(e))}}function Dn(e,t){if(1&e&&(s.Xb(0,"div",17),s.Xb(1,"div",31),s.Xb(2,"h2",32),s.Lc(3,"Comments"),s.Wb(),s.Wb(),s.Xb(4,"div",31),s.Xb(5,"p"),s.Lc(6),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.ic().$implicit;s.Ab(6),s.Mc(e.customerComment)}}function _n(e,t){if(1&e&&(s.Vb(0),s.Lc(1),s.Ub()),2&e){const e=s.ic(2);s.Ab(1),s.Nc(" ",e.serverError," ")}}function Tn(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",17),s.Xb(4,"div",26),s.Xb(5,"div",27),s.Xb(6,"div",12),s.Sb(7,"app-requested-documents-list",28),s.Jc(8,xn,2,3,"ng-container",10),s.Jc(9,Rn,16,2,"div",5),s.Jc(10,Dn,7,1,"div",29),s.Jc(11,_n,2,1,"ng-container",5),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()),2&e){const e=t.$implicit,n=s.ic();s.Ab(7),s.pc("uploadDocumentForDriver",e.policyHolderRequestedDocuments)("documentRequestStatus",e.documentRequestStatus)("isMainDriver",!0)("isCompleted",e.documentRequestStatus===n.documentRequestStatusEnum.Completed),s.Ab(1),s.pc("ngForOf",e.driversRequestedDocuments),s.Ab(1),s.pc("ngIf",!n.wereDocumentsSubmitted(e)),s.Ab(1),s.pc("ngIf",n.wereDocumentsSubmitted(e)),s.Ab(1),s.pc("ngIf",n.serverError)}}function qn(e,t){if(1&e&&(s.Xb(0,"p"),s.Xb(1,"a",44),s.Lc(2),s.Wb(),s.Wb()),2&e){const e=t.$implicit,n=s.ic(2);s.Ab(1),s.pc("href",n.getDocumentUrl(e),s.Gc)("title",e.title),s.Ab(1),s.Mc(n.getDocumentTitle(e))}}function En(e,t){1&e&&(s.Xb(0,"p",9),s.Lc(1,"Your documents aren\u2019t quite ready yet. Please bear with us. They\u2019ll be along very shortly \u2013 and definitely within 24-hours of buying or making a change to your policy."),s.Wb())}function Nn(e,t){if(1&e&&(s.Xb(0,"p",45),s.Xb(1,"a",46),s.Lc(2),s.Wb(),s.Wb()),2&e){const e=t.$implicit,n=s.ic(2);s.Ab(1),s.pc("href",n.getDocumentUrl(e),s.Gc)("title",e.title),s.Ab(1),s.Mc(e.title)}}function Fn(e,t){1&e&&(s.Xb(0,"p",9),s.Lc(1,"No Correspondence on File"),s.Wb())}function jn(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",47),s.Xb(2,"div",48),s.Xb(3,"a",49),s.Lc(4,"Request certificate"),s.Wb(),s.Sb(5,"span",50),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic(2);s.Ab(1),s.qc("appInfoTooltip",e.isPolicyVoid?"Proof of NCD cannot be provided when your policy is void.":"We can only provide proof of NCD when your policy has expired or been cancelled. If you decide not to renew with us we will automatically send your proof of NCD via email after your policy expires.")}}function Jn(e,t){1&e&&(s.Vb(0),s.Lc(1,"Request certificate"),s.Ub())}function Un(e,t){1&e&&s.Lc(0,"Requested")}function Bn(e,t){if(1&e&&s.Sb(0,"app-alert",56),2&e){const e=s.ic(3);s.pc("content",e.ncdProofRequestedMessage)}}function Vn(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",51),s.Xb(1,"div",52),s.Xb(2,"a",53),s.fc("click",function(){return s.Ec(e),s.ic(2).onRequestCertificate(),!1}),s.Jc(3,Jn,2,0,"ng-container",42),s.Jc(4,Un,1,0,"ng-template",null,54,s.Kc),s.Wb(),s.Wb(),s.Wb(),s.Jc(6,Bn,1,1,"app-alert",55)}if(2&e){const e=s.Ac(5),t=s.ic(2);s.Ab(2),s.Jb("disabled",!!t.ncdProofRequested||null),s.Ab(1),s.pc("ngIf",!t.ncdProofRequested)("ngIfElse",e),s.Ab(3),s.pc("ngIf",t.ncdProofRequested)}}const Yn=function(e){return{order:e}};function $n(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",7),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"h2",36),s.Lc(5,"Policy documents"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",1),s.Xb(7,"div",2),s.Xb(8,"div",17),s.Xb(9,"div",26),s.Xb(10,"div",27),s.Xb(11,"div",12),s.Jc(12,qn,3,3,"p",10),s.Jc(13,En,2,0,"p",37),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",7),s.Xb(15,"div",1),s.Xb(16,"div",2),s.Xb(17,"h2",36),s.Lc(18,"Correspondence"),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",1),s.Xb(20,"div",2),s.Xb(21,"div",17),s.Xb(22,"div",26),s.Xb(23,"div",27),s.Xb(24,"div",12),s.Jc(25,Nn,3,3,"p",38),s.Jc(26,Fn,2,0,"p",37),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(27,"div",7),s.Xb(28,"div",39),s.Xb(29,"div",2),s.Xb(30,"h2",36),s.Lc(31,"No Claims Discount"),s.Wb(),s.Xb(32,"p",9),s.Lc(33," A No Claims Discount (NCD) is a count of the number of years which you haven't made a claim on your car insurance policy. "),s.Wb(),s.Wb(),s.Wb(),s.Xb(34,"div",1),s.Xb(35,"div",2),s.Xb(36,"div",17),s.Xb(37,"div",26),s.Xb(38,"div",27),s.Xb(39,"div",12),s.Xb(40,"div",17),s.Xb(41,"div",40),s.Xb(42,"h2",41),s.Lc(43,"No Claims Discount"),s.Wb(),s.Xb(44,"p"),s.Lc(45),s.Wb(),s.Wb(),s.Xb(46,"div",40),s.Xb(47,"h2",41),s.Lc(48,"No Claims Discount Protection"),s.Wb(),s.Xb(49,"p"),s.Lc(50),s.Wb(),s.Wb(),s.Wb(),s.Jc(51,jn,6,1,"ng-container",42),s.Jc(52,Vn,7,5,"ng-template",null,43,s.Kc),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()),2&e){const e=t.ngIf,n=s.Ac(53),i=s.ic();s.Ab(1),s.pc("ngStyle",s.uc(11,Yn,i.getHeaderOrderNumber(1))),s.Ab(11),s.pc("ngForOf",e.documents),s.Ab(1),s.pc("ngIf",0===e.documents.length),s.Ab(1),s.pc("ngStyle",s.uc(13,Yn,i.getHeaderOrderNumber(2))),s.Ab(11),s.pc("ngForOf",e.correspondence),s.Ab(1),s.pc("ngIf",0===e.correspondence.length),s.Ab(1),s.pc("ngStyle",s.uc(15,Yn,i.getHeaderOrderNumber(3))),s.Ab(18),s.Mc(e.ncdYears),s.Ab(5),s.Mc(e.ncdProtected?"Protected":"Not protected"),s.Ab(1),s.pc("ngIf",i.isPolicyLive||i.isPolicyVoid)("ngIfElse",n)}}const Hn=function(){return["/customer/dashboard"]};let Qn=(()=>{class e{constructor(e,t,n,i,o,c,a,s){this.route=e,this.documentsService=t,this.documentUploadService=n,this.loadingOverlay=i,this.policyService=o,this.scriptsManagerService=c,this.titleService=a,this.intentPopupService=s,this.documentRequestStatusEnum=Gt,this.requestCertificateUrl=k.a.settings.client.surveyMonkeyUrl,this.ncdRequestEnabled=k.a.settings.client.ncdRequestEnabled,this.isPolicyLive=!1,this.isPolicyVoid=!1,this.ncdProofRequestedMessage={type:"success",icon:"icon-tick",heading:"Thank you for your request",description:"Your proof of No Claims Discount Certificate will be emailed to you and be available in the documents section of your account within 24 hours."},this.destroyed$=new A.a,this.isReviewBannerClosed=!0,this.titleService.setTitle("Documents")}documentSubmitEnabled(e){let t=!0;return e.documentRequestStatus===Gt.Completed&&(t=!1),e.policyHolderRequestedDocuments.requestedDocuments.forEach(e=>{!e.isDocumentRequired||e.uploadedDocumentsList&&0!==e.uploadedDocumentsList.length||(t=!1)}),e.driversRequestedDocuments.forEach(e=>{e.requestedDocuments.forEach(e=>{!e.isDocumentRequired||e.uploadedDocumentsList&&0!==e.uploadedDocumentsList.length||(t=!1)})}),t}wereDocumentsSubmitted(e){return e.documentRequestStatus&&e.documentRequestStatus>=this.documentRequestStatusEnum.Submitted}getDocumentUrl(e){return`${k.a.settings.client.apiUrl}document/document?id=${e.link}`}getDocumentTitle(e){return decodeURIComponent(e.title.replace(/\+/g," "))}ngOnInit(){this.loadingOverlay.show(),this.route.queryParams.subscribe(e=>{e.policyId&&(this.policyId=e.policyId,this.scriptsManagerService.initialize(),this.policyService.isPolicyLive$(e.policyId).subscribe(e=>{this.isPolicyLive=e}),this.policyService.isPolicyVoid$(e.policyId).subscribe(e=>{this.isPolicyVoid=e}),this.documents$=this.documentsService.getDocuments(e.policyId).pipe(Object(zt.a)(e=>{this.uploadDocumentsModel=e.uploadDocuments}),Object(S.a)(()=>{this.loadingOverlay.close(),this.scrollToFragment()})),this.ncdRequestEnabled&&this.policyService.getNCDProofRequestStatus$(this.policyId).subscribe(e=>{this.ncdProofRequested=e.data}),this.intentPopupService.customerLockedAndHasPendingRequests(this.policyId),this.policyService.getReviewBannerClosed(this.policyId).subscribe(e=>{this.updateReviewedBanner(e)}))}),this.documentUploadService.reloadUploadDocumentsModel$.pipe(Object(Y.a)(this.destroyed$)).subscribe(e=>{this.uploadDocumentsModel=e}),this.route.fragment.subscribe(e=>{this.fragment=e})}onSubmit(e,t){this.documentSubmitEnabled(this.uploadDocumentsModel.find(t=>t.requestId===e))&&(this.loadingOverlay.show(),this.documentsService.submitDocumentRequest(this.route.snapshot.queryParams.policyId,e,t).pipe(Object(S.a)(()=>this.loadingOverlay.close())).subscribe(e=>{this.serverError=null,e.isSuccess?this.documentUploadService.reloadUploadDocumentsModel(e.data):!e.isSuccess&&e.data&&(this.serverError=e.data)}))}onRequestCertificate(){this.ncdRequestEnabled?this.ncdProofRequested||(this.loadingOverlay.show(),this.policyService.ncdProofRequest$(this.policyId).pipe(Object(S.a)(()=>this.loadingOverlay.close())).subscribe(e=>{e.isSuccess&&(this.ncdProofRequested=!0)})):window.open(this.requestCertificateUrl,"_blank")}ngOnDestroy(){this.scriptsManagerService.destroy(),this.destroyed$.next(),this.destroyed$.complete()}scrollToInformationRequest(){Object(Zt.q)("information-request-header")}shouldShowInformationRequiredAlert(){return null!=this.uploadDocumentsModel&&this.uploadDocumentsModel.some(e=>e.documentRequestStatus===this.documentRequestStatusEnum.Pending)}shouldShowDocumentsWereSubmittedAlert(){return null!=this.uploadDocumentsModel&&this.uploadDocumentsModel.some(e=>e.documentRequestStatus===this.documentRequestStatusEnum.Submitted)}shouldShowDocumentsWereAcceptedAlert(){return!this.isReviewBannerClosed&&null!=this.uploadDocumentsModel&&this.uploadDocumentsModel.every(e=>e.documentRequestStatus===this.documentRequestStatusEnum.Completed)&&this.uploadDocumentsModel.length>=1}getHeaderOrderNumber(e){return this.getHeaderOrder()[e]}closeReviewedBanner(){this.isReviewBannerClosed=!0,this.policyService.setReviewBannerClosed(this.policyId).subscribe(e=>{})}scrollToFragment(){this.fragment&&Object(Zt.q)(this.fragment)}isDocumentsRequired(){return null!=this.uploadDocumentsModel&&this.uploadDocumentsModel.some(e=>e.documentRequestStatus!==this.documentRequestStatusEnum.Completed)}getHeaderOrder(){return this.isDocumentsRequired()?new Array(1,2,3,4):new Array(3,1,2,4)}updateReviewedBanner(e){if(this.isReviewBannerClosed=!!e.isReviewBannerClosed,!this.isReviewBannerClosed&&e.reviewedAt){const t=new Date(e.reviewedAt),n=(new Date).getTime()-t.getTime(),i=k.a.settings.client.reviewedAlertTimeFrame;n>(new en).getAsMilliseconds(i)&&(this.isReviewBannerClosed=!0,this.policyService.setReviewBannerClosed(this.policyId).subscribe(e=>{}))}}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(tn.a),s.Rb(nn.a),s.Rb(x.a),s.Rb(R.e),s.Rb(D.a),s.Rb(C.d),s.Rb(on.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-documents"]],decls:23,vars:12,consts:[[1,"link-back",3,"routerLink"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-8"],[1,"mb-4"],["class","row justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"wrapper"],[3,"ngStyle"],["id","information-request-header",1,"mt-4"],[1,"text-small"],[4,"ngFor","ngForOf"],[1,"panel","alert","alert-warning"],[1,"panel-content"],[1,"heading-gamma"],[1,"icon","icon-functional","icon-alert"],[1,"btn","btn-link",3,"click"],[1,"panel","alert","alert-success"],[1,"row"],[1,"col-1","col-md-1"],[1,"icon","icon-functional","icon-small","icon-tick"],[1,"col-10","col-md-11"],[1,"pl-4"],[1,"col-12","col-md-12","pl-4"],[1,"row","flex-row-reverse"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"col"],[1,"panel"],[3,"uploadDocumentForDriver","documentRequestStatus","isMainDriver","isCompleted"],["class","row",4,"ngIf"],[3,"uploadDocumentForDriver","documentRequestStatus","isMainDriver"],[1,"col-12","col-md-12","mb-2"],[1,"heading-epsilon"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3",3,"disabled","click"],[1,"icon","icon-functional","icon-arrow"],[1,"mt-4"],["class","text-small",4,"ngIf"],["class","pl-3",4,"ngFor","ngForOf"],["id","noClaimsDiscount",1,"row","justify-content-center"],[1,"col-12","col-md-6","my-3","my-md-0"],[1,"heading-epsilon","mb-2"],[4,"ngIf","ngIfElse"],["policyOtherStatus",""],["queryParamsHandling","merge","routerLinkActive","router-link-active","target","_blank",1,"no-link-icon","adobe-icon","text-underline",3,"href","title"],[1,"pl-3"],["queryParamsHandling","merge","routerLinkActive","router-link-active","target","_blank",1,"no-link-icon","text-underline",3,"href","title"],[1,"col-12","col-sm-6","col-xl-5","p-0","position-relative","form-group",3,"appInfoTooltip"],[1,"row","m-0","flex-wrap","align-items-center","mt-3"],[1,"btn","disabled"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","ml-auto","mr-2","mr-xl-0"],[1,"col-12","p-0","form-group"],[1,"row","m-0","mt-3"],["href","#",1,"btn","no-link-icon",3,"click"],["requested",""],[3,"content",4,"ngIf"],[3,"content"]],template:function(e,t){1&e&&(s.Xb(0,"a",0),s.Lc(1,"< Back to your dashboard"),s.Wb(),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"h1",3),s.Lc(5,"Documents"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",1),s.Xb(7,"div",2),s.Sb(8,"app-policies-select-list"),s.Wb(),s.Wb(),s.Jc(9,An,12,0,"div",4),s.Jc(10,On,15,0,"ng-container",5),s.Jc(11,In,19,0,"ng-container",5),s.Xb(12,"div",6),s.Xb(13,"div",7),s.Xb(14,"div",1),s.Xb(15,"div",2),s.Xb(16,"h2",8),s.Lc(17,"Information request"),s.Wb(),s.Xb(18,"p",9),s.Lc(19," Here you'll find any information requests and any documents that you've uploaded in relation to your policy that are in progress, been processed and any requests outstanding. "),s.Wb(),s.Wb(),s.Wb(),s.Jc(20,Tn,12,8,"ng-container",10),s.Wb(),s.Jc(21,$n,54,17,"ng-container",5),s.jc(22,"async"),s.Wb()),2&e&&(s.pc("routerLink",s.tc(9,Hn)),s.Ab(9),s.pc("ngIf",t.shouldShowInformationRequiredAlert()),s.Ab(1),s.pc("ngIf",t.shouldShowDocumentsWereSubmittedAlert()),s.Ab(1),s.pc("ngIf",t.shouldShowDocumentsWereAcceptedAlert()),s.Ab(2),s.pc("ngStyle",s.uc(10,Yn,t.getHeaderOrderNumber(0))),s.Ab(7),s.pc("ngForOf",t.uploadDocumentsModel),s.Ab(1),s.pc("ngIf",s.kc(22,7,t.documents$)))},directives:[w.j,T.a,r.p,r.q,r.o,Pn,Mn.b,Mn.r,Mn.u,w.i,H.a,J.a],pipes:[r.b],styles:["@media screen and (max-width:412px){h2[_ngcontent-%COMP%]{font-size:1.1em}}.wrapper[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}"]}),e})();var Kn=n("XiB4"),Gn=n("IW2O"),zn=n("lJxs"),Zn=n("HknS"),ei=n("aL6y");let ti=(()=>{class e{constructor(e,t,n,i,o,c){this.bsModalRef=e,this.formBuilder=t,this.redirectService=n,this.policyService=i,this.route=o,this.loadingOverlay=c,this._destroyed$=new A.a,this.confirmButtonEnabled=!1,this.adobeTrackingPrefix="multicarpopupquote"}ngOnInit(){this.ownerOfVehicle=[{key:!0,value:"Me"},{key:!1,value:"Someone else"}],this.formGroup=this.formBuilder.group({choice:[{value:null}]}),this.onPolicyholderChange(),this.getPolicyDetails()}get choice(){return this.formGroup.get("choice")}onPolicyholderChange(){this.formGroup.get("choice").valueChanges.pipe(Object(Gn.takeUntil)(this._destroyed$)).subscribe(e=>{null!=e&&(this.confirmButtonEnabled=!0)})}getPolicyDetails(){this.loadingOverlay.show(),this.policyService.getDashboardPolicyDetails$(this.route.snapshot.queryParams.policyId).pipe(Object(zn.a)(e=>{this.policy=e}),Object(S.a)(()=>{this.loadingOverlay.close()})).toPromise()}submit(){var e;(null===(e=this.policy)||void 0===e?void 0:e.discountLandingCode)&&(this.redirectService.post({discountCode:this.policy.discountLandingCode,isOwnerOfReferringPolicy:this.choice.value},`${E.a.settings.client.customerFacingApiUrl}${E.a.settings.client.aggregatorLandingPath}`,!0),this.bsModalRef.hide())}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(a.a),s.Rb(Mn.e),s.Rb(Zn.a),s.Rb(I.a),s.Rb(w.a),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-multicar-quote-question"]],inputs:{policy:"policy"},decls:19,vars:6,consts:[[1,"multicar-quote-question-inner","bg-white","container"],[1,"main-content"],[1,"multicarQuote"],[1,"header"],[1,"text-secondary-purple"],[1,"closeButton"],["src","assets/images/svg/x-cross-black.svg","alt","x","tabindex","0","role","button",1,"close-icon","p-1",3,"click"],[1,"col-12","DinRegular","text-left","p-0"],[1,"form-group","mt-4","mb-4"],[1,"col-12","px-0"],[1,"d-block","d-flex","flex-row","justify-content-center","px-0"],["cssClasses","pop-up-buttons","controlName","choice","prefixControlName","ownerOfVehicle",3,"valuesCollection","form","adobeTrackingPrefix"],[1,"submit","d-flex","justify-content-start","align-items-center","text-small"],["type","button",1,"btn","btn-icon","btn-icon-highlight",3,"disabled","click"],[1,"icon","icon-functional","icon-arrow"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"h1",4),s.Lc(5,"Multicar quote"),s.Wb(),s.Xb(6,"div",5),s.Xb(7,"img",6),s.fc("click",function(){return t.close()}),s.Wb(),s.Wb(),s.Wb(),s.Xb(8,"div",7),s.Lc(9," Who will be the policyholder on this car? "),s.Wb(),s.Xb(10,"div",8),s.Xb(11,"div",9),s.Xb(12,"form"),s.Xb(13,"div",10),s.Sb(14,"app-radio-buttons-group",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",12),s.Xb(16,"button",13),s.fc("click",function(){return t.submit()}),s.Lc(17,"Confirm"),s.Sb(18,"span",14),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(14),s.qc("adobeTrackingPrefix",t.adobeTrackingPrefix),s.Cb("data-adobelaunch-id","",t.adobeTrackingPrefix,"-ownerOfVehicle.key"),s.pc("valuesCollection",t.ownerOfVehicle)("form",t.formGroup),s.Ab(2),s.Cb("data-adobelaunch-id","",t.adobeTrackingPrefix,"-confirm-btn"),s.pc("disabled",!t.confirmButtonEnabled))},directives:[Mn.C,Mn.s,Mn.t,ei.a],styles:[".multicar-quote-question[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(0,0,0,.3);z-index:5000}.multicar-quote-question-inner[_ngcontent-%COMP%]{width:calc(100% - 2rem);max-width:410px;height:auto;max-height:90%;overflow-y:auto;z-index:5100;position:fixed;left:50%;top:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:4px;padding:2rem 1.5rem 1rem}.multicar-quote-question-inner[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{z-index:100}.header[_ngcontent-%COMP%]{position:relative}.main-content[_ngcontent-%COMP%]{max-width:390px}.multicarQuote[_ngcontent-%COMP%]{max-width:350px}.closeButton[_ngcontent-%COMP%]{position:absolute;top:-40%;left:97.5%}.submit[_ngcontent-%COMP%]{margin-top:30px}.close-icon[_ngcontent-%COMP%]{opacity:.5;height:25px}"]}),e})();var ni=n("52nJ");class ii{constructor(e){this.quoteService=e,this.quoteDeleted=new s.n}deleteQuote(e){this.quoteDeleted.emit(e)}}function oi(e,t){if(1&e&&(s.Xb(0,"a",7),s.Lc(1,"Buy now "),s.Sb(2,"span",8),s.Wb()),2&e){const e=s.ic();s.pc("href",e.quote.buyLink,s.Gc)}}function ci(e,t){if(1&e&&(s.Xb(0,"a",9),s.Lc(1,"Change details"),s.Wb()),2&e){const e=s.ic();s.pc("href",e.quote.continueLink,s.Gc)}}let ai=(()=>{class e extends ii{constructor(e){super(e),this.quoteService=e,this.quoteDeleted=new s.n}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(F.c))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-valid-quote"]],inputs:{quote:"quote"},outputs:{quoteDeleted:"quoteDeleted"},features:[s.xb],decls:36,vars:12,consts:[[1,"col-6","col-lg-4","my-2","my-lg-4"],[1,"align-left"],[1,"align-left","badge","badge-reg-plate","mt-1",3,"innerHTML"],[1,"col-12","row","m-0","justify-content-start","align-items-center"],["class","btn btn-primary btn-icon btn-icon-highlight my-3",3,"href",4,"ngIf"],["class","ml-md-3",3,"href",4,"ngIf"],["href","#",1,"ml-3",3,"click"],[1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3",3,"href"],[1,"icon","icon-functional","icon-arrow"],[1,"ml-md-3",3,"href"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"strong",1),s.Lc(2,"Type of quote"),s.Wb(),s.Sb(3,"br"),s.Xb(4,"span",1),s.Lc(5),s.Wb(),s.Wb(),s.Xb(6,"div",0),s.Xb(7,"strong",1),s.Lc(8,"Car registration"),s.Wb(),s.Sb(9,"br"),s.Sb(10,"span",2),s.jc(11,"regFormat"),s.Wb(),s.Xb(12,"div",0),s.Xb(13,"strong",1),s.Lc(14,"Policy key"),s.Wb(),s.Sb(15,"br"),s.Xb(16,"span",1),s.Lc(17),s.Wb(),s.Wb(),s.Xb(18,"div",0),s.Xb(19,"strong",1),s.Lc(20,"Quote price"),s.Wb(),s.Sb(21,"br"),s.Xb(22,"span",1),s.Lc(23),s.Wb(),s.Wb(),s.Xb(24,"div",0),s.Xb(25,"strong",1),s.Lc(26,"Quote saved on"),s.Wb(),s.Sb(27,"br"),s.Xb(28,"span",1),s.Lc(29),s.jc(30,"date"),s.Wb(),s.Wb(),s.Xb(31,"div",3),s.Jc(32,oi,3,1,"a",4),s.Jc(33,ci,2,1,"a",5),s.Xb(34,"a",6),s.fc("click",function(){return t.deleteQuote(t.quote),!1}),s.Lc(35," Delete "),s.Wb(),s.Wb()),2&e&&(s.Ab(5),s.Nc(" ",t.quote.isMulticar?"Multicar policy":"New policy"," "),s.Ab(5),s.pc("innerHTML",s.kc(11,7,t.quote.vehicleReg),s.Fc),s.Ab(7),s.Nc(" ",t.quote.policyKey?t.quote.policyKey:"No information available"," "),s.Ab(6),s.Nc("\xa3 ",t.quote.premium," "),s.Ab(6),s.Nc(" ",s.lc(30,9,t.quote.startDate,"dd/MM/yyyy hh:mm:ss")," "),s.Ab(3),s.pc("ngIf",!t.quote.isBlocked),s.Ab(1),s.pc("ngIf",!t.quote.isBlocked))},directives:[r.p],pipes:[ye.a,r.f],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:inherit;flex-wrap:inherit;width:100%}"],changeDetection:0}),e})();function si(e,t){if(1&e&&(s.Xb(0,"a",6),s.Lc(1,"Continue "),s.Sb(2,"span",7),s.Wb()),2&e){const e=s.ic();s.pc("href",e.quote.continueLink,s.Gc)}}let ri=(()=>{class e extends ii{constructor(e){super(e),this.quoteService=e,this.quoteDeleted=new s.n}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(F.c))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-not-quoted"]],inputs:{quote:"quote"},outputs:{quoteDeleted:"quoteDeleted"},features:[s.xb],decls:34,vars:10,consts:[[1,"col-6","col-lg-4","my-2","my-lg-4"],[1,"align-left"],[1,"align-left","badge","badge-reg-plate","mt-1",3,"innerHTML"],[1,"col-12","row","m-0","justify-content-start","align-items-center"],["class","btn btn-primary btn-icon btn-icon-highlight my-3",3,"href",4,"ngIf"],["href","#",1,"ml-3",3,"click"],[1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3",3,"href"],[1,"icon","icon-functional","icon-arrow"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"strong",1),s.Lc(2,"Type of quote"),s.Wb(),s.Sb(3,"br"),s.Xb(4,"span",1),s.Lc(5),s.Wb(),s.Wb(),s.Xb(6,"div",0),s.Xb(7,"strong",1),s.Lc(8,"Car registration"),s.Wb(),s.Sb(9,"br"),s.Sb(10,"span",2),s.jc(11,"regFormat"),s.Wb(),s.Xb(12,"div",0),s.Xb(13,"strong",1),s.Lc(14,"Policy key"),s.Wb(),s.Sb(15,"br"),s.Xb(16,"span",1),s.Lc(17),s.Wb(),s.Wb(),s.Xb(18,"div",0),s.Xb(19,"strong",1),s.Lc(20,"Quote price"),s.Wb(),s.Sb(21,"br"),s.Lc(22," Not quoted\n"),s.Wb(),s.Xb(23,"div",0),s.Xb(24,"strong",1),s.Lc(25,"Quote saved on"),s.Wb(),s.Sb(26,"br"),s.Xb(27,"span",1),s.Lc(28),s.jc(29,"date"),s.Wb(),s.Wb(),s.Xb(30,"div",3),s.Jc(31,si,3,1,"a",4),s.Xb(32,"a",5),s.fc("click",function(){return t.deleteQuote(t.quote),!1}),s.Lc(33," Delete "),s.Wb(),s.Wb()),2&e&&(s.Ab(5),s.Nc(" ",t.quote.isMulticar?"Multicar policy":"New policy"," "),s.Ab(5),s.pc("innerHTML",s.kc(11,5,t.quote.vehicleReg),s.Fc),s.Ab(7),s.Nc(" ",t.quote.policyKey?t.quote.policyKey:"No information available"," "),s.Ab(11),s.Nc(" ",s.lc(29,7,t.quote.startDate,"dd/MM/yyyy hh:mm:ss")," "),s.Ab(3),s.pc("ngIf",!t.quote.isBlocked))},directives:[r.p],pipes:[ye.a,r.f],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:inherit;flex-wrap:inherit;width:100%}"],changeDetection:0}),e})(),li=(()=>{class e extends ii{constructor(e){super(e),this.quoteService=e,this.quoteDeleted=new s.n}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(F.c))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-expired-quote"]],inputs:{quote:"quote"},outputs:{quoteDeleted:"quoteDeleted"},features:[s.xb],decls:37,vars:11,consts:[[1,"col-6","col-lg-4","my-2","my-lg-4"],[1,"align-left"],[1,"align-left","badge","badge-reg-plate","mt-1",3,"innerHTML"],[1,"col-12","row","m-0","justify-content-start","align-items-center"],[1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3",3,"href"],[1,"icon","icon-functional","icon-arrow"],["href","#",1,"ml-3",3,"click"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"strong",1),s.Lc(2,"Type of quote"),s.Wb(),s.Sb(3,"br"),s.Xb(4,"span",1),s.Lc(5),s.Wb(),s.Wb(),s.Xb(6,"div",0),s.Xb(7,"strong",1),s.Lc(8,"Car registration"),s.Wb(),s.Sb(9,"br"),s.Sb(10,"span",2),s.jc(11,"regFormat"),s.Wb(),s.Xb(12,"div",0),s.Xb(13,"strong",1),s.Lc(14,"Policy key"),s.Wb(),s.Sb(15,"br"),s.Xb(16,"span",1),s.Lc(17),s.Wb(),s.Wb(),s.Xb(18,"div",0),s.Xb(19,"strong",1),s.Lc(20,"Quote price"),s.Wb(),s.Sb(21,"br"),s.Xb(22,"span",1),s.Lc(23),s.Wb(),s.Wb(),s.Xb(24,"div",0),s.Xb(25,"strong",1),s.Lc(26,"Quote saved on"),s.Wb(),s.Sb(27,"br"),s.Xb(28,"span",1),s.Lc(29),s.jc(30,"date"),s.Wb(),s.Wb(),s.Xb(31,"div",3),s.Xb(32,"a",4),s.Lc(33,"Continue "),s.Sb(34,"span",5),s.Wb(),s.Xb(35,"a",6),s.fc("click",function(){return t.deleteQuote(t.quote),!1}),s.Lc(36," Delete "),s.Wb(),s.Wb()),2&e&&(s.Ab(5),s.Nc(" ",t.quote.isMulticar?"Multicar policy":"New policy"," "),s.Ab(5),s.pc("innerHTML",s.kc(11,6,t.quote.vehicleReg),s.Fc),s.Ab(7),s.Nc(" ",t.quote.policyKey?t.quote.policyKey:"No information available"," "),s.Ab(6),s.Nc("\xa3 ",t.quote.premium," "),s.Ab(6),s.Nc(" ",s.lc(30,8,t.quote.startDate,"dd/MM/yyyy hh:mm:ss")," "),s.Ab(3),s.pc("href",t.quote.continueLink,s.Gc))},pipes:[ye.a,r.f],styles:["[_nghost-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-wrap:inherit;flex-wrap:inherit;width:100%}"],changeDetection:0}),e})();function bi(e,t){if(1&e&&(s.Xb(0,"div",2),s.Sb(1,"app-messages",19),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("messages",e.messages)}}function di(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"a",30),s.fc("click",function(){s.Ec(e);const t=s.ic(3).$implicit;return s.ic(2).continueQuote(t),!1}),s.Lc(2," Re-quote "),s.Sb(3,"span",31),s.Wb(),s.Ub()}if(2&e){const e=s.ic(3).$implicit,t=s.ic(2);s.Ab(1),s.Jb("disabled",e.noResumePermitted||e.isBlocked||t.changesLocked&&!e.isPreValidated)}}function ui(e,t){if(1&e){const e=s.Yb();s.Xb(0,"a",30),s.fc("click",function(){s.Ec(e);const t=s.ic(3).$implicit;return s.ic(2).continueQuote(t),!1}),s.Lc(1," Buy now "),s.Sb(2,"span",31),s.Wb()}if(2&e){const e=s.ic(3).$implicit,t=s.ic(2);s.Jb("disabled",e.noResumePermitted||e.isBlocked||t.changesLocked&&!e.isPreValidated)}}function pi(e,t){if(1&e&&(s.Vb(0),s.Jc(1,di,4,2,"ng-container",28),s.Jc(2,ui,3,2,"ng-template",null,29,s.Kc),s.Ub()),2&e){const e=s.Ac(3),t=s.ic(2).$implicit;s.Ab(1),s.pc("ngIf",t.quoteExpired)("ngIfElse",e)}}function hi(e,t){if(1&e){const e=s.Yb();s.Xb(0,"a",26),s.fc("click",function(){s.Ec(e);const t=s.ic(2).$implicit;return s.ic(2).deleteQuote(t),!1}),s.Lc(1,"Delete"),s.Wb()}}function mi(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",25),s.Jc(1,pi,4,2,"ng-container",6),s.Xb(2,"a",26),s.fc("click",function(){s.Ec(e);const t=s.ic().$implicit;return s.ic(2).editQuote(t),!1}),s.Lc(3,"Edit"),s.Wb(),s.Jc(4,hi,2,0,"a",27),s.Wb()}if(2&e){const e=s.ic().$implicit,t=s.ic(2);s.Ab(1),s.pc("ngIf",e.resultsStatus===t.resultsStatus.Quoted||"Ancillary"===e.information),s.Ab(1),s.Jb("disabled",e.noResumePermitted||e.isBlocked||t.changesLocked&&!e.isPreValidated),s.Ab(2),s.pc("ngIf",!e.isPreValidated)}}const gi=function(){return["/renewal"]},fi=function(e){return{policyId:e}};function vi(e,t){if(1&e&&(s.Xb(0,"div",25),s.Xb(1,"button",32),s.Lc(2,"Manage your renewal "),s.Sb(3,"span",31),s.Wb(),s.Wb()),2&e){const e=s.ic().$implicit,t=s.ic(2);s.Ab(1),s.pc("routerLink",s.tc(3,gi))("queryParams",s.uc(4,fi,t.policyId))("disabled",e.noResumePermitted||e.isBlocked||t.renewalChangesLocked)}}function yi(e,t){if(1&e&&(s.Xb(0,"div",21),s.Xb(1,"div",22),s.Xb(2,"strong",23),s.Lc(3,"Type of quote"),s.Wb(),s.Sb(4,"br"),s.Xb(5,"span",23),s.Lc(6),s.Wb(),s.Wb(),s.Xb(7,"div",22),s.Xb(8,"strong",23),s.Lc(9,"Information"),s.Wb(),s.Sb(10,"br"),s.Xb(11,"span",23),s.Lc(12),s.Wb(),s.Wb(),s.Xb(13,"div",22),s.Xb(14,"strong",23),s.Lc(15,"Effective date"),s.Wb(),s.Sb(16,"br"),s.Xb(17,"span",23),s.Lc(18),s.Wb(),s.Wb(),s.Xb(19,"div",22),s.Xb(20,"strong",23),s.Lc(21,"Price"),s.Wb(),s.Sb(22,"br"),s.Xb(23,"span",23),s.Lc(24),s.Wb(),s.Wb(),s.Xb(25,"div",22),s.Xb(26,"strong",23),s.Lc(27,"Location"),s.Wb(),s.Sb(28,"br"),s.Xb(29,"span",23),s.Lc(30),s.Wb(),s.Wb(),s.Jc(31,mi,5,4,"div",24),s.Jc(32,vi,4,6,"div",24),s.Wb()),2&e){const e=t.$implicit;s.Ab(6),s.Nc(" ",e.typeOfQuote," "),s.Ab(6),s.Nc(" ",e.coverType," "),s.Ab(6),s.Nc(" ",e.effectiveDate," "),s.Ab(6),s.Nc(" ",e.price," "),s.Ab(6),s.Nc(" ",e.location," "),s.Ab(1),s.pc("ngIf","Renewal"!==e.typeOfQuote),s.Ab(1),s.pc("ngIf","Renewal"===e.typeOfQuote)}}function wi(e,t){if(1&e&&(s.Vb(0),s.Jc(1,yi,33,7,"div",20),s.Ub()),2&e){const e=s.ic();s.Ab(1),s.pc("ngForOf",e.existingQuotes)}}function Ci(e,t){if(1&e){const e=s.Yb();s.Xb(0,"app-valid-quote",35),s.fc("quoteDeleted",function(t){return s.Ec(e),s.ic(3).deleteQuote(t)}),s.Wb()}if(2&e){const e=s.ic().$implicit;s.pc("quote",e)}}function Wi(e,t){if(1&e){const e=s.Yb();s.Xb(0,"app-not-quoted",35),s.fc("quoteDeleted",function(t){return s.Ec(e),s.ic(3).deleteQuote(t)}),s.Wb()}if(2&e){const e=s.ic().$implicit;s.pc("quote",e)}}function Xi(e,t){if(1&e){const e=s.Yb();s.Xb(0,"app-expired-quote",35),s.fc("quoteDeleted",function(t){return s.Ec(e),s.ic(3).deleteQuote(t)}),s.Wb()}if(2&e){const e=s.ic().$implicit;s.pc("quote",e)}}function Si(e,t){if(1&e&&(s.Xb(0,"div",21),s.Vb(1,33),s.Jc(2,Ci,1,1,"app-valid-quote",34),s.Jc(3,Wi,1,1,"app-not-quoted",34),s.Jc(4,Xi,1,1,"app-expired-quote",34),s.Ub(),s.Wb()),2&e){const e=t.$implicit,n=s.ic(2);s.Ab(1),s.pc("ngSwitch",e.type),s.Ab(1),s.pc("ngSwitchCase",n.newQuoteType.Valid),s.Ab(1),s.pc("ngSwitchCase",n.newQuoteType.NotQuoted),s.Ab(1),s.pc("ngSwitchCase",n.newQuoteType.Expired)}}function Li(e,t){if(1&e&&(s.Vb(0),s.Jc(1,Si,5,4,"div",20),s.Ub()),2&e){const e=s.ic();s.Ab(1),s.pc("ngForOf",e.newQuotes.rows)}}const ki=function(){return["/adjustment/home/adjustmentchanges"]};function Pi(e,t){if(1&e&&(s.Xb(0,"div",36),s.Lc(1," You have no previous quotes. Would you like to "),s.Xb(2,"a",37),s.Lc(3," make a change "),s.Wb(),s.Lc(4," to your policy now? "),s.Wb()),2&e){const e=s.ic();s.Ab(2),s.pc("routerLink",s.tc(2,ki))("queryParams",s.uc(3,fi,e.policyId))}}function Mi(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",10),s.Xb(1,"a",11),s.fc("click",function(){return s.Ec(e),s.ic().onMulticarButton()}),s.Xb(2,"div",12),s.Sb(3,"span",38),s.Xb(4,"h3",14),s.Lc(5,"Multicar"),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.ic();s.pc("ngClass",e.dashboardButtonClass),s.Ab(1),s.Cb("data-adobelaunch-id","",e.adobeTrackingPrefix,"-yourquotes-multicar-btn")}}let Ai=(()=>{class e{constructor(e,t,n,i,o,c,a,s,r){this.quoteService=e,this.route=t,this.loadingOverlayService=n,this.router=i,this.scriptsManagerService=o,this.policyService=c,this.policyMessagesService=a,this.bsModalService=s,this.modalService=r,this.existingQuotes=[],this.newQuotes={rows:[],newQuoteDeeplink:""},this.adjustmentTypes=N.c,this.resultsStatus=Kn.b,this.newQuoteType=Kn.a,this.adobeTrackingPrefix="quote"}get policyId(){return this.route.snapshot.queryParams.policyId}get dashboardButtonClass(){return this.isPolicyActive?"col-12 col-md-4":"col-12 col-md-6"}get isPolicyActive(){return this.activePolicies&&this.activePolicies.indexOf(this.policyId)>-1}ngOnInit(){this.route.queryParams.subscribe(e=>{e.policyId&&(this.scriptsManagerService.initialize(),this.getPreviousQuotes())}),this.policyMessagesService.policyMessages$.subscribe(e=>{this.messages=e.filter(e=>!e.policyKey||e.type===M.OutstandingPayment||e.type===M.UnsignedCreditAgreement||e.type===M.ManualRenewal||e.type===M.UnpaidPrevalidatedMTA||e.type===M.ChangesUnavailable||e.type===M.CustomerCantMakeChangesAfterCFSLock),this.policyMessagesService.policyAdjustmentLocked$.pipe(Object(X.a)()).subscribe(e=>{this.changesLocked=e}),this.policyMessagesService.renewalChangesLocked$.pipe(Object(X.a)()).subscribe(e=>{this.renewalChangesLocked=e})})}ngOnDestroy(){this.scriptsManagerService.destroy()}getPreviousQuotes(){this.loadingOverlayService.show(),Object(L.a)({existingQuotes:this.quoteService.getExistingQuotes$(this.policyId),newQuotes:this.quoteService.getNewQuotes$(),activePolicies:this.policyService.getSelectListOfActivePolicies$()}).pipe(Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(e=>{this.existingQuotes=e.existingQuotes,this.newQuotes=e.newQuotes,this.activePolicies=e.activePolicies.map(e=>decodeURIComponent(e.key))})}editQuote(e){this.loadingOverlayService.show(),this.quoteService.editQuote$(e.id,e.workflowLocation).subscribe({next:e=>Object(q.a)(this,void 0,void 0,function*(){e?yield this.router.navigate([e],{queryParamsHandling:"preserve"}):yield this.router.navigate(["/adjustment/home/changedetails"],{queryParamsHandling:"preserve"})}),complete:()=>this.loadingOverlayService.close()})}continueQuote(e){this.loadingOverlayService.show(),this.quoteService.continueQuote$(e.id,e.workflowLocation).subscribe({next:e=>Object(q.a)(this,void 0,void 0,function*(){e?yield this.router.navigate([e],{queryParamsHandling:"preserve"}):yield this.router.navigate(["/adjustment/home/changedetails"],{queryParamsHandling:"preserve"})}),complete:()=>this.loadingOverlayService.close()})}deleteQuote(e){this.loadingOverlayService.show(),this.quoteService.deleteQuote$(e.id,e.workflowLocation).subscribe({next:()=>{let t;t="policyKey"in e?this.newQuotes.rows:this.existingQuotes;const n=t.findIndex(t=>t.id===e.id);n>-1&&t.splice(n,1)},complete:()=>this.loadingOverlayService.close()})}onMulticarButton(){this.modalService.registerModal(()=>this.bsModalService.show(ti,{class:"modal-sm modal-dialog-centered no-border",ignoreBackdropClick:!0}))}redirectToNewQuote(){document.location.href=E.a.settings.client.customerFacingSiteAngularUrl+E.a.settings.client.customerFacingSiteAngularNewQuotePath}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(ni.a),s.Rb(w.a),s.Rb(x.a),s.Rb(w.g),s.Rb(D.a),s.Rb(R.e),s.Rb(_.a),s.Rb(a.b),s.Rb(Te.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-quote"]],decls:26,vars:17,consts:[[1,"row","justify-content-center"],["class","col-md-10 col-lg-8",4,"ngIf"],[1,"col-md-10","col-lg-8"],[1,"mb-4"],[3,"selectPolicyMessage"],["heading","Your previous quotes",3,"selectTab"],[4,"ngIf"],["class","p-3",4,"ngIf"],["heading","Get a quote"],[1,"px-4","dashboard-links","row","align-items-stretch","justify-content-center"],[3,"ngClass"],[1,"panel","dashboard-button","dashboard-button-feature",3,"click"],[1,"panel-content","d-flex","flex-row","flex-md-column","justify-content-start","justify-content-md-center","align-items-center"],[1,"icon","icon-primary","icon-xsmall","icon-hire-car","icon-roundel"],[1,"dashboard-button-text","heading-gamma","ml-3","ml-md-0","mt-0","mt-md-3"],[3,"ngClass",4,"ngIf"],[1,"panel","dashboard-button","dashboard-button-feature",3,"routerLink","queryParams"],[1,"icon","icon-primary","icon-xsmall","icon-claims","icon-roundel"],[1,"dashboard-button-text","heading-gamma","ml-3","ml-md-0","mt-0","mt-md-3","text-nowrap"],[3,"messages"],["class","col-12 d-flex flex-wrap quote-details-container px-0 pt-2 pb-3",4,"ngFor","ngForOf"],[1,"col-12","d-flex","flex-wrap","quote-details-container","px-0","pt-2","pb-3"],[1,"col-6","col-lg-4","my-2","my-lg-4"],[1,"align-left"],["class","col-12",4,"ngIf"],[1,"col-12"],["href","#",1,"mr-3",3,"click"],["href","#","class","mr-3",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["buyLink",""],["href","#",1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3",3,"click"],[1,"icon","icon-functional","icon-arrow"],["type","button",1,"btn","btn-primary","btn-icon","btn-icon-highlight","mt-2","mb-3",3,"routerLink","queryParams","disabled"],[3,"ngSwitch"],[3,"quote","quoteDeleted",4,"ngSwitchCase"],[3,"quote","quoteDeleted"],[1,"p-3"],[3,"routerLink","queryParams"],[1,"icon","icon-primary","icon-xsmall","icon-multicar","icon-roundel"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Jc(1,bi,2,1,"div",1),s.Xb(2,"div",2),s.Xb(3,"h1",3),s.Lc(4,"Your quotes"),s.Wb(),s.Sb(5,"app-policies-select-list",4),s.Xb(6,"tabset"),s.Xb(7,"tab",5),s.fc("selectTab",function(){return t.getPreviousQuotes()}),s.Jc(8,wi,2,1,"ng-container",6),s.Jc(9,Li,2,1,"ng-container",6),s.Jc(10,Pi,5,5,"div",7),s.Wb(),s.Xb(11,"tab",8),s.Xb(12,"div",9),s.Xb(13,"div",10),s.Xb(14,"a",11),s.fc("click",function(){return t.redirectToNewQuote()}),s.Xb(15,"div",12),s.Sb(16,"span",13),s.Xb(17,"h3",14),s.Lc(18,"New quote"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Jc(19,Mi,6,2,"div",15),s.Xb(20,"div",10),s.Xb(21,"a",16),s.Xb(22,"div",12),s.Sb(23,"span",17),s.Xb(24,"h3",18),s.Lc(25,"Make a change "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(1),s.pc("ngIf",t.messages&&t.messages.length),s.Ab(4),s.pc("selectPolicyMessage","Select the policy you wish to view quotes for"),s.Ab(3),s.pc("ngIf",t.existingQuotes),s.Ab(1),s.pc("ngIf",t.newQuotes&&t.newQuotes.rows),s.Ab(1),s.pc("ngIf",!(t.existingQuotes&&t.existingQuotes.length||t.newQuotes&&t.newQuotes.rows&&t.newQuotes.rows.length)),s.Ab(3),s.pc("ngClass",t.dashboardButtonClass),s.Ab(1),s.Cb("data-adobelaunch-id","",t.adobeTrackingPrefix,"-yourquotes-newquote-btn"),s.Ab(5),s.pc("ngIf",t.isPolicyActive),s.Ab(1),s.pc("ngClass",t.dashboardButtonClass),s.Ab(1),s.Jb("disabled",!t.isPolicyActive),s.Cb("data-adobelaunch-id","",t.adobeTrackingPrefix,"-yourquotes-makeachange-btn"),s.pc("routerLink",s.tc(14,ki))("queryParams",s.uc(15,fi,t.policyId)))},directives:[r.p,T.a,m,g,r.n,w.j,B,r.o,w.h,r.r,r.s,ai,ri,li],styles:[".dashboard-links[_ngcontent-%COMP%]   .dashboard-button.hover[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:hover{background:#f8f8f8;cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.hover[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.hover[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:hover   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.focus[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:focus{background:#f8f8f8;box-shadow:0 0 .125rem .125rem rgba(11,168,141,.75),0 .25rem .5rem rgba(66,56,59,.2);cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.focus[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:focus   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.focus[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:focus   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active{background:#0ba88d;cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active   .dashboard-button-text[_ngcontent-%COMP%]{color:#fff}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active.focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active.focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus{background:#f8f8f8;cursor:pointer;text-decoration:none;box-shadow:0 0 .125rem .125rem rgba(11,168,141,.75),0 .25rem .5rem rgba(66,56,59,.2)}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active.focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active.focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active.focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active.focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):focus{background:#f8f8f8;cursor:pointer;text-decoration:none;box-shadow:0 0 .125rem .125rem rgba(11,168,141,.75),0 .25rem .5rem rgba(66,56,59,.2)}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):focus   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):focus   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.disabled[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:disabled{background:#f8f8f8;cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.disabled[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:disabled   .icon[_ngcontent-%COMP%]{background-color:#a3a3a3}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.disabled[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:disabled   .dashboard-button-text[_ngcontent-%COMP%]{color:#a3a3a3}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]{font-family:Justus Pro Bold Italic}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]   .heading-reduced[_ngcontent-%COMP%]{font-size:1.25rem}@media (max-width:420px){.dashboard-links[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width:768px){.icon-roundel[_ngcontent-%COMP%]{width:5rem;max-width:5rem;height:5rem}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]{font-size:1rem}}@media (min-width:1200px){.dashboard-links[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]{font-size:1.25rem}.icon-roundel[_ngcontent-%COMP%]{width:5rem;max-width:5rem;height:5rem}}"]}),e})();var Oi=n("8ru/"),Ii=n("VIHj"),xi=n("Uqzz"),Ri=n("aY17"),Di=n("tXNG"),_i=n("gugo");function Ti(e,t){1&e&&(s.Xb(0,"p",41),s.Lc(1," The account details you have provided were not recognised. Your email address will be the one you receive 1"),s.Xb(2,"sup"),s.Lc(3,"ST"),s.Wb(),s.Lc(4," CENTRAL emails to. If you have forgotten your password you can reset it using the forgotten details link below. "),s.Wb())}function qi(e,t){if(1&e&&(s.Xb(0,"p",41),s.Lc(1),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.Nc(" ",e.errorMessage," ")}}const Ei=function(){return["/consumer/login/renewallogin"]};function Ni(e,t){1&e&&(s.Xb(0,"div",36),s.Xb(1,"div",37),s.Xb(2,"div",38),s.Xb(3,"h2",39),s.Lc(4,"Received an email telling you it's time to renew?"),s.Wb(),s.Xb(5,"p"),s.Xb(6,"a",42),s.Lc(7,"Go to renewals"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(6),s.pc("routerLink",s.tc(1,Ei)))}const Fi=function(){return["/customer/login/accountrecovery"]},ji=function(){return["/payment"]};let Ji=(()=>{class e{constructor(e,t,n,i,o,c,a,s,r,l){this.fb=e,this.route=t,this.router=n,this.loadingOverlay=i,this.formService=o,this.authenticationService=c,this.refreshTokenService=a,this.titleService=s,this.metaService=r,this.scriptsManagerService=l,this.todayDate=new Date,this.renewalQuoteJourneyInYourAccount=E.a.settings.client.renewalQuoteJourneyInYourAccount,this._destroyed$=new A.a,this.titleService.setTitle("Log in to your account | 1st CENTRAL | Car insurance"),this.metaService.updateTag({name:"description",content:"Manage your 1st CENTRAL policy online. View documents, add or edit additional drivers, change your car, address, level of cover, payment details and more..."})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}get dateOfBirth(){return this.loginForm.get("dateOfBirth")}ngOnInit(){var e;this.scriptsManagerService.initialize(),this.returnUrl=null!==(e=this.route.snapshot.queryParams.returnUrl)&&void 0!==e?e:"/customer/dashboard",this.loginForm=this.fb.group({email:[null,{validators:[Mn.B.required,Mn.B.email],updateOn:"blur"}],password:[null,Mn.B.required],dateOfBirth:[null,[Mn.B.required,Object(Oi.b)(this.todayDate)]]}),this.refreshTokenService.init()&&(this.loadingOverlay.show(),this.authenticationService.getCurrent().pipe(Object(S.a)(()=>{this.loadingOverlay.close()}),Object(W.a)(null,null)).subscribe(e=>Object(q.a)(this,void 0,void 0,function*(){e?yield this.router.navigateByUrl(this.returnUrl):this.refreshTokenService.complete()})))}ngOnDestroy(){this.scriptsManagerService.destroy(),this._destroyed$.next(),this._destroyed$.complete()}isFormValid(){return this.loginForm.valid}logIn(){if(this.errorResponse=!1,this.errorMessage=void 0,!this.formService.validateForm(this.loginForm))return;this.loadingOverlay.show();const e={email:this.loginForm.get("email").value,password:this.loginForm.get("password").value,dateOfBirth:this.loginForm.get("dateOfBirth").value};Object(Zt.p)(e.dateOfBirth),this.authenticationService.signIn(e).pipe(Object(Y.a)(this._destroyed$)).subscribe({next:e=>Object(q.a)(this,void 0,void 0,function*(){e.isSuccess?yield this.router.navigateByUrl(this.returnUrl,{replaceUrl:!0}):e.validationResult&&!e.validationResult.isValid?(Object(Zt.s)(e.validationResult,this.loginForm),Object(Zt.r)()):e.data.loginAttemptsExceeded?this.errorMessage="You\u2019ve exceeded the number of login attempts. Please reset your password using the 'I\u2019ve forgotten my details' link below.":this.errorResponse=!0}),complete:()=>{this.loadingOverlay.close()}})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Mn.e),s.Rb(w.a),s.Rb(w.g),s.Rb(x.a),s.Rb(Ii.a),s.Rb(xi.a),s.Rb(Ri.a),s.Rb(C.d),s.Rb(C.c),s.Rb(D.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-account-login"]],decls:69,vars:13,consts:[[1,"row","justify-content-center"],[1,"col-12"],["appFormSubmitted","",3,"formGroup","ngSubmit"],[1,"col-md-10","col-xl-8"],[1,"panel","d-block","d-md-flex","flex-md-row","pb-4","flex-nowrap","pb-md-0"],[1,"panel-content","panel-highlight","panel-weighted","order-md-2"],[1,"mb-3"],[1,"list","list-icons","list-condensed"],[1,"list-item","list-icon","list-icon-tick"],["src","./assets/images/comodoSecurityCreds.png",1,"d-none","d-md-block","img-fluid","comodo-security-creds"],[1,"col-12","p-0","col-md-7","order-md-1","py-md-4","pl-md-3"],[1,"form-group","mt-3","mt-mb-0"],["for","email",1,"heading-epsilon","form-question"],["type","text","id","email","formControlName","email",1,"form-control","sessioncamexclude"],["requiredMessage","Oops. You forgot to tell us your email address","defaultMessage","Oops. You forgot to tell us your email address","patternMessage","Please enter a valid email address e.g. name@domain.com.",3,"control"],[1,"form-group"],["for","password",1,"heading-epsilon","form-question"],["type","password","id","password","formControlName","password",1,"form-control","sessioncamexclude"],["requiredMessage","Oops. You forgot to tell us your password",3,"control"],["for","dateOfBirth",1,"heading-epsilon","form-question"],["controlName","dateOfBirth","wide","","id","dateOfBirth",3,"form","maxDate"],["defaultMessage","Oops. You forgot to tell us your date of birth",3,"control"],["class","form-validation form-validation-error",4,"ngIf"],[1,"col-12","mt-2"],[1,"row","no-gutters"],[1,"col-12","col-lg-5","d-flex","justify-content-start","p-0"],["type","submit","data-adobelaunch-id","account-login",1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3"],[1,"icon","icon-functional","icon-arrow"],[1,"col-12","col-lg-7","d-flex","align-items-center","forgotten-details-link"],["data-adobelaunch-id","account-forgotten",3,"routerLink"],[1,"row"],[1,"col-sm-12","text-center"],["src","./assets/images/comodoSecurityCreds.png",1,"d-md-none","comodo-security-creds"],[1,"col-sm-12","col-md-10","col-xl-8"],[1,"row","d-flex","align-items-stretch","justify-content-center"],["class","col-md",4,"ngIf"],[1,"col-md"],[1,"panel"],[1,"panel-content","panel-content-tight","d-flex","flex-column","justify-content-between"],[1,"heading-delta","DinBold","mb-4","mb-md-3"],["data-adobelaunch-id","account-pay-online",1,"btn","no-icon",3,"routerLink"],[1,"form-validation","form-validation-error"],[1,"btn","no-icon",3,"routerLink"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"form",2),s.fc("ngSubmit",function(){return t.logIn()}),s.Xb(3,"div",0),s.Xb(4,"div",3),s.Xb(5,"h1"),s.Lc(6,"Log in to Your Account"),s.Wb(),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"h2",6),s.Lc(10,"Quicker, easier and cheaper to manage your policy:"),s.Wb(),s.Xb(11,"ul",7),s.Xb(12,"li",8),s.Lc(13,"Make changes to your policy 24/7"),s.Wb(),s.Xb(14,"li",8),s.Lc(15,"Benefit from a reduced fee"),s.Wb(),s.Xb(16,"li",8),s.Lc(17,"View your documents"),s.Wb(),s.Xb(18,"li",8),s.Lc(19,"Make and view your claims"),s.Wb(),s.Xb(20,"li",8),s.Lc(21,"Renew your policy"),s.Wb(),s.Xb(22,"li",8),s.Lc(23,"Manage your payments"),s.Wb(),s.Wb(),s.Sb(24,"img",9),s.Wb(),s.Xb(25,"div",10),s.Xb(26,"div",1),s.Xb(27,"div",11),s.Xb(28,"label",12),s.Lc(29," Email address "),s.Wb(),s.Sb(30,"input",13),s.Sb(31,"app-validation-message",14),s.Wb(),s.Xb(32,"div",15),s.Xb(33,"label",16),s.Lc(34," Password "),s.Wb(),s.Sb(35,"input",17),s.Sb(36,"app-validation-message",18),s.Wb(),s.Xb(37,"div",15),s.Xb(38,"label",19),s.Lc(39," Date of birth "),s.Wb(),s.Sb(40,"app-date-only-picker",20),s.Sb(41,"app-validation-message",21),s.Wb(),s.Jc(42,Ti,5,0,"p",22),s.Jc(43,qi,2,1,"p",22),s.Wb(),s.Xb(44,"div",15),s.Xb(45,"div",23),s.Xb(46,"div",24),s.Xb(47,"div",25),s.Xb(48,"button",26),s.Lc(49,"Log in"),s.Sb(50,"span",27),s.Wb(),s.Wb(),s.Xb(51,"div",28),s.Xb(52,"a",29),s.Lc(53,"I've forgotten my details"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(54,"div",30),s.Xb(55,"div",31),s.Sb(56,"img",32),s.Wb(),s.Wb(),s.Xb(57,"div",0),s.Xb(58,"div",33),s.Xb(59,"div",34),s.Jc(60,Ni,8,2,"div",35),s.Xb(61,"div",36),s.Xb(62,"div",37),s.Xb(63,"div",38),s.Xb(64,"h2",39),s.Lc(65,"Fallen behind on your monthly payments?"),s.Wb(),s.Xb(66,"p"),s.Xb(67,"a",40),s.Lc(68,"Pay online"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(2),s.pc("formGroup",t.loginForm),s.Ab(29),s.pc("control",t.email),s.Ab(5),s.pc("control",t.password),s.Ab(4),s.pc("form",t.loginForm)("maxDate",t.todayDate),s.Ab(1),s.pc("control",t.dateOfBirth),s.Ab(1),s.pc("ngIf",t.errorResponse),s.Ab(1),s.pc("ngIf",t.errorMessage),s.Ab(9),s.pc("routerLink",s.tc(11,Fi)),s.Ab(8),s.pc("ngIf",!t.renewalQuoteJourneyInYourAccount),s.Ab(7),s.pc("routerLink",s.tc(12,ji)))},directives:[Mn.C,Mn.s,Mn.j,Mn.b,Mn.r,Mn.h,Di.a,_i.a,r.p,w.j],styles:[""]}),e})();var Ui=n("4AYY");let Bi=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Lb({type:e,selectors:[["app-account-recovery-confirmation"]],inputs:{maskedEmail:"maskedEmail"},decls:6,vars:1,consts:[[1,"panel","d-block","d-md-flex","flex-md-row","pb-4","flex-nowrap","pb-md-0"],[1,"col-12","py-4","pl-md-3"]],template:function(e,t){1&e&&(s.Xb(0,"h1"),s.Lc(1,"Thank you"),s.Wb(),s.Xb(2,"div",0),s.Xb(3,"div",1),s.Xb(4,"p"),s.Lc(5),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(5),s.Nc("Thanks for that. We\u2019ve found your details and have sent an email to ",t.maskedEmail," with instructions on how to reset your password and access your account. It should be with you in just a few minutes."))},styles:[""]}),e})();function Vi(e,t){1&e&&(s.Xb(0,"div",7),s.Xb(1,"div",21),s.Xb(2,"div",22),s.Xb(3,"label",23),s.Lc(4," Policy number "),s.Wb(),s.Sb(5,"span",24),s.Wb(),s.Sb(6,"input",25),s.Wb(),s.Wb())}function Yi(e,t){if(1&e&&(s.Xb(0,"p",26),s.Lc(1),s.Wb()),2&e){const e=s.ic(2);s.Ab(1),s.Nc(" ",e.errorMessage," ")}}function $i(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"form",3),s.fc("ngSubmit",function(){return s.Ec(e),s.ic().findUserAccount()}),s.Xb(4,"h1"),s.Lc(5,"Trouble logging in?"),s.Wb(),s.Xb(6,"p",4),s.Lc(7,"Help us find your account "),s.Wb(),s.Xb(8,"div",5),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Xb(11,"label",8),s.Lc(12," Surname "),s.Wb(),s.Sb(13,"input",9),s.Sb(14,"app-validation-message",10),s.Wb(),s.Xb(15,"div",7),s.Xb(16,"label",11),s.Lc(17," Postcode "),s.Wb(),s.Sb(18,"input",12),s.Sb(19,"app-validation-message",13),s.Wb(),s.Xb(20,"div",7),s.Xb(21,"label",14),s.Lc(22," Date of birth "),s.Wb(),s.Sb(23,"app-date-only-picker",15),s.Sb(24,"app-validation-message",16),s.Wb(),s.Jc(25,Vi,7,0,"div",17),s.Jc(26,Yi,2,1,"p",18),s.Xb(27,"div",7),s.Xb(28,"button",19),s.Lc(29,"Continue"),s.Sb(30,"span",20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()}if(2&e){const e=s.ic();s.Ab(3),s.pc("formGroup",e.accountRecoveryForm),s.Ab(11),s.pc("control",e.getControl.surname),s.Ab(5),s.pc("control",e.getControl.postcode),s.Ab(4),s.pc("form",e.accountRecoveryForm)("maxDate",e.todayDate),s.Ab(1),s.pc("control",e.getControl.dateOfBirth),s.Ab(1),s.pc("ngIf",e.isPolicyNumberNeeded),s.Ab(1),s.pc("ngIf",e.errorResponse)}}function Hi(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Sb(3,"app-account-recovery-confirmation",27),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic();s.Ab(3),s.pc("maskedEmail",e.maskedEmail)}}let Qi=(()=>{class e{constructor(e,t,n,i,o,c,a,s){this.fb=e,this.loadingOverlay=t,this.accountRecoveryService=n,this.formService=i,this.scriptsManagerService=o,this.titleService=c,this.router=a,this.recordPageActionService=s,this.todayDate=new Date,this._destroyed$=new A.a,this.titleService.setTitle("Account Recovery"),this.performanceStart=performance.now()}get getControl(){return this.accountRecoveryForm.controls}ngOnInit(){this.scriptsManagerService.initialize(),this.showConfirmation=!1,this.isPolicyNumberNeeded=!1,this.errorMessage="",this.accountRecoveryForm=this.fb.group({surname:[null,Mn.B.required],postcode:[null,Mn.B.required],dateOfBirth:[null,[Mn.B.required,Object(Oi.b)(this.todayDate)]],policyNumber:[null,null]})}ngAfterViewInit(){const e=window.localStorage.getItem("previousUrl"),t=performance.now()-this.performanceStart;this.recordPageActionService.RecordAction(this.titleService.getTitle(),this.router.url,e,Math.round(t))}ngOnDestroy(){this.scriptsManagerService.destroy(),this._destroyed$.next(!0),this._destroyed$.complete()}isFormValid(){return this.accountRecoveryForm.valid}findUserAccount(){this.errorMessage="",this.errorResponse=!1;const e={surname:this.getControl.surname.value,postcode:this.getControl.postcode.value,dateOfBirth:this.getControl.dateOfBirth.value,policyNumber:this.getControl.policyNumber.value};this.formService.validateForm(this.accountRecoveryForm)?(this.loadingOverlay.show(),this.formService.submitForm(this.accountRecoveryForm,this.accountRecoveryService.recoverAccount(e),!1).subscribe({next:e=>{e.isSuccess?(this.showConfirmation=!0,this.maskedEmail=e.data.maskedEmail):e.validationResult&&!e.validationResult.isValid?this.handleUIValidationError(e):e.data.errorCode&&this.handleCustomerAccountError(e)},complete:()=>this.loadingOverlay.close()})):this.loadingOverlay.close()}handleUIValidationError(e){Object(Zt.s)(e.validationResult,this.accountRecoveryForm),Object(Zt.r)()}handleCustomerAccountError(e){this.errorResponse=!0,this.errorMessage=e.data.message,e.data.errorCode===N.a.MultipleCustomers&&(this.isPolicyNumberNeeded=!0)}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Mn.e),s.Rb(x.a),s.Rb(Ui.a),s.Rb(Ii.a),s.Rb(D.a),s.Rb(C.d),s.Rb(w.g),s.Rb(R.f))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-account-recovery"]],outputs:{maskedEmail:"maskedEmail"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],["appFormSubmitted","",3,"formGroup","ngSubmit"],[1,"mb-4","text-slim","mt-0"],[1,"panel","flex-md-row","pb-4","flex-nowrap","pb-md-0"],[1,"col-12","py-4","pl-md-3"],[1,"form-group"],["for","surname",1,"heading-epsilon","form-question"],["type","text","id","surname","formControlName","surname",1,"form-control","sessioncamexclude"],["requiredMessage","Please provide the surname on your policy","defaultMessage","Please provide the surname on your policy",3,"control"],["for","postcode",1,"heading-epsilon","form-question"],["type","text","formControlName","postcode","maxlength","8",1,"form-control","sessioncamexclude"],["requiredMessage","Please provide the postcode on your policy","defaultMessage","Please provide the postcode on your policy",3,"control"],["for","dateOfBirth",1,"heading-epsilon","form-question"],["controlName","dateOfBirth","id","dateOfBirth",3,"form","maxDate"],["requiredMessage","Please provide the policyholders date of birth","defaultMessage","Please provide the policyholders date of birth",3,"control"],["class","form-group",4,"ngIf"],["class","form-validation form-validation-error",4,"ngIf"],["type","submit","data-adobelaunch-id","recover-continue",1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3"],[1,"icon","icon-functional","icon-arrow"],["appInfoTooltip","<p>You can find your policy number in your Welcome email. It starts with the letters FPM. If you don\u2019t know your policy number then please call our contact centre on 0333 043 2066.</p>",1,"col-12","p-0","position-relative"],[1,"row","m-0","align-items-center","justify-content-between"],["for","policyNumber",1,"heading-epsilon","form-question"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","ml-auto","mr-2","mr-xl-0"],["type","text","formControlName","policyNumber",1,"form-control"],[1,"form-validation","form-validation-error"],[3,"maskedEmail"]],template:function(e,t){1&e&&(s.Jc(0,$i,31,8,"ng-container",0),s.Jc(1,Hi,4,1,"ng-container",0)),2&e&&(s.pc("ngIf",!t.showConfirmation),s.Ab(1),s.pc("ngIf",t.showConfirmation))},directives:[r.p,Mn.C,Mn.s,Mn.j,Mn.b,Mn.r,Mn.h,Di.a,Mn.m,_i.a,H.a,Bi],styles:[""]}),e})();var Ki=n("g7i/"),Gi=n("kWWX"),zi=n("HQnv"),Zi=n("Feyo");function eo(e,t){if(1&e&&s.Sb(0,"app-alert",29),2&e){const e=s.ic();s.pc("content",e.successMessage)}}const to=function(e){return{"mt-3":e}};let no=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.accountSettingsService=t,this.loadingOverlayService=n,this.formService=i}get email(){return this.contactDetailsFormGroup.get("email")}get alternativeEmail(){return this.contactDetailsFormGroup.get("alternativeEmail")}get primaryPhoneNumber(){return this.contactDetailsFormGroup.get("primaryPhoneNumber")}get alternativePhoneNumber(){return this.contactDetailsFormGroup.get("alternativePhoneNumber")}get mobilePhoneNumber(){return this.contactDetailsFormGroup.get("mobilePhoneNumber")}ngOnInit(){this.loadingOverlayService.show(),this.contactDetailsFormGroup=this.createContactDetailsForm(),this.accountSettingsService.getContactDetails$().subscribe(e=>{this.contactDetailsFormGroup.setValue(e),this.loadingOverlayService.close()})}isFormValid(){return this.contactDetailsFormGroup.valid}saveContactDetails(){this.formService.validateForm(this.contactDetailsFormGroup)&&this.formService.submitForm(this.contactDetailsFormGroup,this.accountSettingsService.saveContactDetails$(this.contactDetailsFormGroup.value)).subscribe(()=>{this.successMessage={type:"success",icon:"icon-tick",heading:"Thank you for updating your details"}})}createContactDetailsForm(){return this.fb.group({email:["",[Mn.B.required,Mn.B.pattern(Gi.a.Email)]],alternativeEmail:["",[Mn.B.pattern(Gi.a.Email)]],primaryPhoneNumber:["",[Mn.B.required,Mn.B.pattern(Gi.a.Phone)]],alternativePhoneNumber:["",Mn.B.pattern(Gi.a.Phone)],mobilePhoneNumber:["",Mn.B.pattern(Gi.a.Phone)]})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Mn.e),s.Rb(zi.a),s.Rb(x.a),s.Rb(Ii.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-contact-details"]],decls:42,vars:11,consts:[[1,"row"],[1,"col"],[1,"heading-delta","DinBold"],[1,"panel"],[1,"panel-content"],[3,"formGroup"],[1,"form-group","mb-4"],["appInfoTooltip","<p>Providing a valid email address is very important because this is how we communicate important information about your policy.</p><p>Please note, this is also your 'login' email address.</p>",1,"col-12","p-0","position-relative"],[1,"row","m-0","align-items-center","justify-content-between"],["for","email",1,"heading-epsilon","form-question"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","ml-auto","mr-2","mr-xl-0"],["id","email","formControlName","email",1,"form-control","sessioncamexclude"],["defaultMessage","Please enter a valid email address. We need at least one contact number for you",3,"control"],["for","alternativeEmail",1,"heading-epsilon","form-question"],["id","alternativeEmail","formControlName","alternativeEmail",1,"form-control","sessioncamexclude"],["defaultMessage","Please enter a valid alternaive email address",3,"control"],["appInfoTooltip","<p>Please provide us with at least one phone number so that we can call you in case we need to discuss your policy.</p>",1,"col-12","p-0","position-relative"],["for","primaryPhoneNumber",1,"heading-epsilon","form-question"],["blockInputValue","","allowedRegExp","[^0-9]","type","tel","inputmode","numeric","id","primaryPhoneNumber","formControlName","primaryPhoneNumber",1,"form-control","sessioncamexclude"],["defaultMessage","Please enter a valid phone number. We need at least one contact number for you",3,"control"],["for","alternativePhoneNumber",1,"heading-epsilon","form-question"],["blockInputValue","","allowedRegExp","[^0-9]","type","tel","inputmode","numeric","id","alternativePhoneNumber","formControlName","alternativePhoneNumber",1,"form-control","sessioncamexclude"],["defaultMessage","Please enter a valid alternaive phone number",3,"control"],["for","mobilePhoneNumber",1,"heading-epsilon","form-question"],["blockInputValue","","allowedRegExp","[^0-9]","type","tel","inputmode","numeric","id","mobilePhoneNumber","formControlName","mobilePhoneNumber",1,"form-control","sessioncamexclude"],["defaultMessage","Please enter a valid mobile phone number",3,"control"],[3,"content",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-icon","btn-icon-highlight",3,"disabled","ngClass","click"],[1,"icon","icon-functional","icon-arrow"],[3,"content"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"h2",2),s.Lc(3,"Your contact details"),s.Wb(),s.Xb(4,"div",3),s.Xb(5,"div",4),s.Xb(6,"form",5),s.Xb(7,"div",6),s.Xb(8,"div",7),s.Xb(9,"div",8),s.Xb(10,"label",9),s.Lc(11,"Email address *"),s.Wb(),s.Sb(12,"span",10),s.Wb(),s.Sb(13,"input",11),s.Sb(14,"app-validation-message",12),s.Wb(),s.Wb(),s.Xb(15,"div",6),s.Xb(16,"label",13),s.Lc(17,"Alternative email address"),s.Wb(),s.Sb(18,"input",14),s.Sb(19,"app-validation-message",15),s.Wb(),s.Xb(20,"div",6),s.Xb(21,"div",16),s.Xb(22,"div",8),s.Xb(23,"label",17),s.Lc(24,"Primary phone number *"),s.Wb(),s.Sb(25,"span",10),s.Wb(),s.Sb(26,"input",18),s.Sb(27,"app-validation-message",19),s.Wb(),s.Wb(),s.Xb(28,"div",6),s.Xb(29,"label",20),s.Lc(30,"Alternative phone number"),s.Wb(),s.Sb(31,"input",21),s.Sb(32,"app-validation-message",22),s.Wb(),s.Xb(33,"div",6),s.Xb(34,"label",23),s.Lc(35,"Mobile phone number"),s.Wb(),s.Sb(36,"input",24),s.Sb(37,"app-validation-message",25),s.Wb(),s.Jc(38,eo,1,1,"app-alert",26),s.Xb(39,"button",27),s.fc("click",function(){return t.saveContactDetails()}),s.Lc(40,"Update"),s.Sb(41,"span",28),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(6),s.pc("formGroup",t.contactDetailsFormGroup),s.Ab(8),s.pc("control",t.email),s.Ab(5),s.pc("control",t.alternativeEmail),s.Ab(8),s.pc("control",t.primaryPhoneNumber),s.Ab(5),s.pc("control",t.alternativePhoneNumber),s.Ab(5),s.pc("control",t.mobilePhoneNumber),s.Ab(1),s.pc("ngIf",t.successMessage),s.Ab(1),s.pc("disabled",!t.isFormValid())("ngClass",s.uc(9,to,t.successMessage)))},directives:[Mn.C,Mn.s,Mn.j,H.a,Mn.b,Mn.r,Mn.h,Di.a,Zi.a,r.p,r.n,J.a],styles:[""]}),e})();var io=n("SnGv"),oo=n("LRne"),co=n("eIep");const ao=["changePasswordModal"];function so(e,t){if(1&e&&s.Sb(0,"app-alert",8),2&e){const e=s.ic();s.pc("content",e.successMessage)}}function ro(e,t){if(1&e&&(s.Xb(0,"div"),s.Xb(1,"p",30),s.Lc(2),s.Wb(),s.Wb()),2&e){const e=s.ic(2);s.Ab(2),s.Mc(e.errorMessage)}}function lo(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",9),s.Xb(1,"h1",10),s.Lc(2,"Change password"),s.Wb(),s.Xb(3,"button",11),s.fc("click",function(){return s.Ec(e),s.ic().modalRef.hide()}),s.Xb(4,"span",12),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",13),s.Xb(7,"form",14),s.Xb(8,"div",15),s.Xb(9,"div",1),s.Xb(10,"p"),s.Lc(11),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",16),s.Xb(13,"label",17),s.Lc(14,"Old password *"),s.Wb(),s.Sb(15,"input",18),s.Sb(16,"app-validation-message",19),s.Wb(),s.Xb(17,"div",16),s.Xb(18,"label",20),s.Lc(19,"New password *"),s.Wb(),s.Sb(20,"input",21),s.Sb(21,"app-validation-message",22),s.Wb(),s.Xb(22,"div",23),s.Xb(23,"label",24),s.Lc(24,"Confirm new password *"),s.Wb(),s.Sb(25,"input",25),s.Sb(26,"app-validation-message",26),s.Wb(),s.Jc(27,ro,3,1,"div",27),s.Xb(28,"button",28),s.fc("click",function(){return s.Ec(e),s.ic().changePassword()}),s.Lc(29,"Save"),s.Sb(30,"span",29),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.ic();s.Ab(7),s.pc("formGroup",e.changePasswordForm),s.Ab(4),s.Mc(e.passwordWording),s.Ab(5),s.pc("control",e.oldPassword),s.Ab(5),s.qc("patternMessage",e.passwordWording),s.pc("control",e.newPassword),s.Ab(5),s.pc("control",e.newPasswordConfirmation),s.Ab(1),s.pc("ngIf",e.errorMessage)}}let bo=(()=>{class e{constructor(e,t,n,i,o,c,a){this.modalService=e,this.bsModalService=t,this.fb=n,this.accountSettingsService=i,this.formService=o,this.authService=c,this.loadingOverlay=a,this.passwordWording="Password must contain between 8 and 20 characters, including at least one upper and one lower case letter, one number and one special character (e.g. !?@*&). Please do not include spaces.",this.forceChangePassword=!1}get oldPassword(){return this.changePasswordForm.get("oldPassword")}get newPassword(){return this.changePasswordForm.get("newPassword")}get newPasswordConfirmation(){return this.changePasswordForm.get("newPasswordConfirmation")}ngOnInit(){this.accountSettingsService.getPasswordValidation$().subscribe(e=>{this.passwordRegexList=e.data,this.authService.getCurrent().pipe(Object(W.a)()).subscribe(e=>{e.mustResetPassword&&this.openChangePasswordModal(this.changePasswordModalTemplateRef)})})}openChangePasswordModal(e){this.errorMessage="",this.success=!1;const t={ignoreBackdropClick:!0};this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(e,t),this.modalRef)),this.changePasswordForm=this.createChangePasswordForm()}changePassword(){this.formService.validateForm(this.changePasswordForm)&&this.formService.submitForm(this.changePasswordForm,this.accountSettingsService.changePassword$(this.changePasswordForm.value)).pipe(Object(co.a)(e=>e.isSuccess?this.authService.getCurrent({invalidateCache:!0}).pipe(Object(zn.a)(()=>e)):Object(oo.a)(e))).subscribe(e=>{this.success=e.isSuccess,this.success&&(this.modalRef.hide(),this.successMessage={type:"success",icon:"icon-tick",heading:"Thank you for updating your password"}),this.errorMessage=e.data})}signOut(){this.loadingOverlay.show(),this.authService.signOut().subscribe(e=>{e.isSuccess?window.location.href="/customer/login/accountlogin":window.location.reload()})}createChangePasswordForm(){return this.fb.group({oldPassword:["",Mn.B.required],newPassword:["",[Mn.B.required,Object(io.s)(this.passwordRegexList)]],newPasswordConfirmation:["",Mn.B.required]},{updateOn:"blur"})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Te.a),s.Rb(a.b),s.Rb(Mn.e),s.Rb(zi.a),s.Rb(Ii.a),s.Rb(xi.a),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-change-password"]],viewQuery:function(e,t){if(1&e&&s.Sc(ao,1),2&e){let e;s.zc(e=s.gc())&&(t.changePasswordModalTemplateRef=e.first)}},decls:14,vars:1,consts:[[1,"row"],[1,"col"],[1,"panel"],[1,"panel-content"],[1,"heading-delta","DinBold"],["href","#",3,"click"],[3,"content",4,"ngIf"],["changePasswordModal",""],[3,"content"],[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[3,"formGroup"],[1,"row","mb-4"],[1,"form-group","mb-4"],["for","oldPassword",1,"heading-epsilon","form-question"],["id","oldPassword","type","password","formControlName","oldPassword",1,"form-control","sessioncamexclude"],["defaultMessage","Previous password is missing",3,"control"],["for","newPassword",1,"heading-epsilon","form-question"],["id","newPassword","type","password","formControlName","newPassword",1,"form-control","sessioncamexclude"],["requiredMessage","New password is missing",3,"control","patternMessage"],[1,"form-group"],["for","newPasswordConfirmation",1,"heading-epsilon","form-question"],["id","newPasswordConfirmation","type","password","formControlName","newPasswordConfirmation",1,"form-control","sessioncamexclude"],["defaultMessage","New password confirmation is missing",3,"control"],[4,"ngIf"],["type","button",1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3",3,"click"],[1,"icon","icon-functional","icon-arrow"],[1,"form-validation","form-validation-error"]],template:function(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"h2",4),s.Lc(5,"Update password"),s.Wb(),s.Xb(6,"p"),s.Lc(7,"You can update your password "),s.Xb(8,"a",5),s.fc("click",function(){s.Ec(e);const n=s.Ac(13);return t.openChangePasswordModal(n),!1}),s.Lc(9," here"),s.Wb(),s.Lc(10,". "),s.Wb(),s.Jc(11,so,1,1,"app-alert",6),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Jc(12,lo,31,7,"ng-template",null,7,s.Kc)}2&e&&(s.Ab(11),s.pc("ngIf",t.successMessage))},directives:[r.p,J.a,Mn.C,Mn.s,Mn.j,Mn.b,Mn.r,Mn.h,Di.a],styles:[""]}),e})();function uo(e,t){if(1&e&&(s.Xb(0,"div",13),s.Xb(1,"div",14),s.Xb(2,"div",15),s.Sb(3,"span",16),s.Wb(),s.Xb(4,"div",1),s.Xb(5,"label",17),s.Xb(6,"p",18),s.Lc(7),s.Wb(),s.Xb(8,"p"),s.Lc(9),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(10,"div",19),s.Xb(11,"input",20),s.fc("change",function(){const e=t.$implicit;return e.isSelected=!e.isSelected}),s.Wb(),s.Sb(12,"label",21),s.Wb(),s.Wb()),2&e){const e=t.$implicit,n=s.ic(2);s.Ab(3),s.pc("ngClass",n.getIcon(e.type)),s.Ab(4),s.Mc(e.name),s.Ab(2),s.Mc(e.description),s.Ab(2),s.qc("value",e.type),s.qc("id",e.type),s.pc("checked",e.isSelected),s.Ab(1),s.qc("for",e.type)}}function po(e,t){if(1&e&&s.Sb(0,"app-alert",22),2&e){const e=s.ic(2);s.pc("content",e.successMessage)}}function ho(e,t){if(1&e){const e=s.Yb();s.Xb(0,"form",8),s.Jc(1,uo,13,7,"div",9),s.Jc(2,po,1,1,"app-alert",10),s.Xb(3,"button",11),s.fc("click",function(){return s.Ec(e),s.ic().submitForm()}),s.Lc(4,"Update"),s.Sb(5,"span",12),s.Wb(),s.Wb()}if(2&e){const e=s.ic();s.Ab(1),s.pc("ngForOf",e.marketingPreferences.options),s.Ab(1),s.pc("ngIf",e.successMessage)}}let mo=(()=>{class e{constructor(e,t){this.accountService=e,this.loadingOverlayService=t,this.collapseMarketingPreferencesSettings=!0}ngOnInit(){this.getMarketingPreferences()}getMarketingPreferences(){this.accountService.getMarketingPreferences$().subscribe(e=>this.marketingPreferences=e)}submitForm(){this.loadingOverlayService.show(),this.accountService.saveMarketingPreferences$(this.marketingPreferences).subscribe({next:()=>{this.successMessage={type:"success",icon:"icon-tick",heading:"Thank you for updating your preferences"}},complete:()=>{this.loadingOverlayService.close()}})}toggleMarketingPreferencesSettings(){this.collapseMarketingPreferencesSettings=!this.collapseMarketingPreferencesSettings}getIcon(e){switch(e){case N.h.Newsletter:return"icon-newsletter";case N.h.Email:return"icon-email";case N.h.SMS:return"icon-sms";case N.h.Telephone:return"icon-contact";case N.h.Post:return"icon-policy";default:return"icon-contact"}}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(zi.a),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-marketing-preferences"]],decls:13,vars:3,consts:[[1,"row"],[1,"col"],[1,"panel"],[1,"panel-content"],[1,"heading-delta","DinBold"],["href","#",3,"click"],[3,"collapse","isAnimated"],["class","mt-4",4,"ngIf"],[1,"mt-4"],["class","form-check justify-content-between",4,"ngFor","ngForOf"],[3,"content",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-icon","btn-icon-highlight","mt-4",3,"click"],[1,"icon","icon-functional","icon-arrow"],[1,"form-check","justify-content-between"],[1,"row","icon-content-label","col-md-11"],[1,"col","col-auto"],[1,"icon","icon-roundel","marketing-preferences-icon","icon-fuchsia-pink",3,"ngClass"],[1,"p-0"],[1,"heading-epsilon","form-question","mb-1"],[1,"d-flex","align-self-start"],["type","checkbox",1,"form-check-input","mt-1g",3,"checked","value","id","change"],[1,"m-0","p-0",3,"for"],[3,"content"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"h2",4),s.Lc(5,"Manage your marketing preferences"),s.Wb(),s.Xb(6,"p"),s.Lc(7,"Now and then, we'd like to send you relevant offers, news and helpful advice relating to motoring and your car insurance. Sometimes we'll share exciting offers on behalf of other companies we think you'll find interesting. Opt out or manage your contact preferences "),s.Xb(8,"a",5),s.fc("click",function(){return t.toggleMarketingPreferencesSettings(),!1}),s.Lc(9,"here"),s.Wb(),s.Lc(10,"."),s.Wb(),s.Xb(11,"div",6),s.Jc(12,ho,6,2,"form",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(11),s.pc("collapse",t.collapseMarketingPreferencesSettings)("isAnimated",!1),s.Ab(1),s.pc("ngIf",t.marketingPreferences))},directives:[c.a,r.p,Mn.C,Mn.s,Mn.t,r.o,r.n,J.a],styles:[".form-check[_ngcontent-%COMP%] + .form-check[_ngcontent-%COMP%]{margin-top:.75rem}.marketing-preferences-icon[_ngcontent-%COMP%]{min-width:3rem;max-width:3rem}.marketing-preferences-icon[_ngcontent-%COMP%]:before{font-size:.65rem}@media screen and (min-width:768px){.marketing-preferences-icon[_ngcontent-%COMP%]{min-width:3.5rem;max-width:3.5rem}}"]}),e})();function go(e,t){if(1&e&&s.Sb(0,"app-alert",7),2&e){const e=s.ic();s.pc("content",e.successMessage)}}let fo=(()=>{class e{constructor(e,t){this.accountService=e,this.loadingOverlay=t}ngOnInit(){}requestPersonalDetails(){this.loadingOverlay.show(),this.accountService.requestPersonalDetails$().subscribe({next:()=>{this.successMessage={type:"success",icon:"icon-tick",heading:"Thank you for your request. Your details will be accessible under the Documents section within 24 hours"}},complete:()=>{this.loadingOverlay.close()}})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(zi.a),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-access-to-personal-details"]],decls:12,vars:2,consts:[[1,"row"],[1,"col"],[1,"panel"],[1,"panel-content"],[1,"heading-delta","DinBold"],[3,"routerLink","click"],[3,"content",4,"ngIf"],[3,"content"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"h2",4),s.Lc(5,"Access to personal details"),s.Wb(),s.Xb(6,"p"),s.Lc(7," If you would like a copy of the personal details we currently hold on you and any named drivers, please submit your request "),s.Xb(8,"a",5),s.fc("click",function(){return t.requestPersonalDetails()}),s.Lc(9,"here"),s.Wb(),s.Lc(10,". "),s.Wb(),s.Jc(11,go,1,1,"app-alert",6),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(8),s.pc("routerLink",null),s.Ab(3),s.pc("ngIf",t.successMessage))},directives:[w.j,r.p,J.a],styles:[""]}),e})();var vo=function(e){return e[e.Unknown=0]="Unknown",e[e.TakeOurSurvey=1]="TakeOurSurvey",e[e.WhyDidYouOptedOut=2]="WhyDidYouOptedOut",e[e.WeWouldLikeToSpeakToYou=3]="WeWouldLikeToSpeakToYou",e[e.CallbackConfirmed=4]="CallbackConfirmed",e[e.DoYouPlanToReplaceCar=5]="DoYouPlanToReplaceCar",e[e.WhenYouPlanToReplaceCar=6]="WhenYouPlanToReplaceCar",e[e.PoorCustomerServiceReason=7]="PoorCustomerServiceReason",e[e.PoorClaimsServiceReason=8]="PoorClaimsServiceReason",e[e.MissingOnlineChange=9]="MissingOnlineChange",e[e.ThankYouForYourFeedback=99]="ThankYouForYourFeedback",e}({}),yo=function(e){return e[e.Lapse1=1]="Lapse1",e[e.Lapse2=2]="Lapse2",e[e.Lapse3=3]="Lapse3",e[e.Lapse4=4]="Lapse4",e[e.Lapse5=5]="Lapse5",e[e.Lapse6=6]="Lapse6",e[e.Lapse7=7]="Lapse7",e[e.Lapse8=8]="Lapse8",e}({});let wo=(()=>{class e{constructor(e,t,n){this.accountService=e,this.loadingOverlay=t,this.route=n,this.completedSteps=[],this.marketingConsent=!1,this.renewalLapseRoutingTree={step:vo.TakeOurSurvey,nextSteps:[{step:vo.WhyDidYouOptedOut,nextSteps:[{step:vo.WeWouldLikeToSpeakToYou,nextSteps:[{step:vo.CallbackConfirmed,canExecute:()=>this.lapseSurvey.callbackPhoneNumber},{step:vo.ThankYouForYourFeedback}],canExecute:()=>this.lapseSurvey.lapseReason===yo.Lapse1&&this.lapseSurvey.interventionPossible},{step:vo.DoYouPlanToReplaceCar,title:"Do you have plans to replace your car?",nextSteps:[{step:vo.WhenYouPlanToReplaceCar,title:"When do you plan to replace your car?",nextSteps:[{step:vo.ThankYouForYourFeedback}],canExecute:()=>!this.lapseSurvey.lapseSubReason},{step:vo.ThankYouForYourFeedback}],canExecute:()=>this.lapseSurvey.lapseReason===yo.Lapse2},{step:vo.PoorCustomerServiceReason,title:"Which part of the customer service did you find poor?",nextSteps:[{step:vo.ThankYouForYourFeedback}],canExecute:()=>this.lapseSurvey.lapseReason===yo.Lapse4},{step:vo.PoorClaimsServiceReason,title:"Which part of the claims experience did you find poor?",nextSteps:[{step:vo.ThankYouForYourFeedback}],canExecute:()=>this.lapseSurvey.lapseReason===yo.Lapse3},{step:vo.MissingOnlineChange,title:"What could you not do online?",nextSteps:[{step:vo.ThankYouForYourFeedback}],canExecute:()=>this.lapseSurvey.lapseReason===yo.Lapse5},{step:vo.ThankYouForYourFeedback,canExecute:()=>[yo.Lapse1,yo.Lapse6,yo.Lapse7,yo.Lapse8].findIndex(e=>e===this.lapseSurvey.lapseReason)>-1}]}]}}get policyId(){return this.route.snapshot.queryParams.policyId}get currentStep(){return this.currentStepField||(this.currentStepField=vo.TakeOurSurvey),this.currentStepField}get currentTitle(){return this.currentTitleField}startSurvey(e){this.modalRef=e,this.accountService.getMarketingPreferences$().subscribe(e=>{this.marketingPreferences=e,this.marketingConsent=this.marketingPreferences.options.findIndex(e=>"Email"===e.name&&e.isSelected)>=0,this.lapseSurvey={lapseReason:null,lapseSubReason:null,otherReason:null,marketingConsent:this.marketingConsent,callbackPhoneNumber:null,complete:!1,interventionPossible:!1}}),this.currentStepField=null,this.completedSteps=[]}exitSurvey(){const e=this.lapseSurvey;e.callbackPhoneNumber=null,e.complete=!0,this.lapseSurvey.lapseReason&&this.accountService.saveLapseSurvey$(this.policyId,this.lapseSurvey).toPromise(),this.modalRef.hide()}saveCallbackAndNavigateToNextStep(e){this.completedSteps.find(e=>e===this.currentStep)||this.completedSteps.push(this.currentStep),this.loadingOverlay.show();const t=this.lapseSurvey;t.callbackPhoneNumber=e,this.accountService.saveLapseSurvey$(this.policyId,t).pipe(Object(S.a)(()=>this.loadingOverlay.close())).subscribe(e=>{this.lapseSurvey=e.data;const t=this.getNextStep();t?(this.currentStepField=t.step,this.currentTitleField=t.title?t.title:""):this.exitSurvey()})}navigateToNextStep(){this.completedSteps.find(e=>e===this.currentStep)||this.completedSteps.push(this.currentStep),this.loadingOverlay.show();const e=this.lapseSurvey;e.callbackPhoneNumber=null,this.accountService.saveLapseSurvey$(this.policyId,e).pipe(Object(S.a)(()=>this.loadingOverlay.close())).subscribe(e=>{this.lapseSurvey=e.data;const t=this.getNextStep();t?(this.currentStepField=t.step,this.currentTitleField=t.title?t.title:""):this.exitSurvey()})}saveMarketingConsent(e){this.loadingOverlay.show(),this.accountService.saveMarketingConsent$(this.policyId,e).pipe(Object(S.a)(()=>this.loadingOverlay.close())).toPromise()}surveyProgressPercentage(){let e=0,t=null;return t=this.getNextStep(),t&&t.nextSteps&&(e+=this.getMaxRemainingSteps(t.nextSteps)),this.completedSteps.length/(e+this.completedSteps.length)*100}lapseReason(){return this.lapseSurvey.lapseReason}getNextStep(){let e=this.getCurrentStep();if(e&&e.nextSteps&&e.nextSteps.length>0)for(const t of e.nextSteps)if(!t.canExecute||t.canExecute())return t;return null}getCurrentStep(){let e=null;if(this.completedSteps.length>0)for(const t of this.completedSteps)e=this.renewalLapseRoutingTree.step===t?this.renewalLapseRoutingTree:e.nextSteps.find(e=>e.step===t);return e}getMaxRemainingSteps(e){let t=0;for(let n of e)if(n.nextSteps&&n.nextSteps.length>0){const e=this.getMaxRemainingSteps(n.nextSteps);e>t&&(t=e)}return t+1}}return e.\u0275fac=function(t){return new(t||e)(s.bc(F.a),s.bc(x.a),s.bc(w.a))},e.\u0275prov=s.Nb({token:e,factory:e.\u0275fac}),e})(),Co=(()=>{class e{constructor(e){this.renewalLapseNavigationService=e}ngOnInit(){}onCancelButtonClick(){this.renewalLapseNavigationService.exitSurvey()}continue(){this.renewalLapseNavigationService.navigateToNextStep()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(wo))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-survey-invitation-popup"]],decls:26,vars:0,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"heading-alpha"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"row"],[1,"col-md-12","mb-4"],[1,"badge","badge-status","badge-status-danger"],[1,"icon","icon-functional"],[1,"mb-4"],[1,"heading-delta","DinBold"],["type","button",1,"btn","btn-icon","btn-icon-highlight","mt-3",3,"click"],[1,"icon","icon-functional","icon-arrow"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2,"You've opted out of auto renewal"),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.onCancelButtonClick()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"div",5),s.Xb(8,"div",6),s.Xb(9,"span",7),s.Sb(10,"span",8),s.Lc(11," Automatic renewal "),s.Xb(12,"strong"),s.Lc(13,"OFF"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"p",9),s.Xb(15,"strong"),s.Lc(16,"You\u2019ve successfully opted out of your automatic renewal."),s.Wb(),s.Lc(17," You can switch your automatic renewal back on at any time within the Auto renewal settings in Your Account. "),s.Wb(),s.Sb(18,"hr"),s.Xb(19,"h2",10),s.Lc(20,"We'd love to hear from you!"),s.Wb(),s.Xb(21,"p"),s.Lc(22,"We really value the feedback of our customers and would like to ask some quick questions about your decision to opt out of automatically renewing your policy. It'll take less than a minute and your feedback will help us improve our products and the service we provide our customers"),s.Wb(),s.Xb(23,"button",11),s.fc("click",function(){return t.continue()}),s.Lc(24,"Take our survey"),s.Sb(25,"span",12),s.Wb(),s.Wb())},styles:[".badge[_ngcontent-%COMP%]{font-weight:400}"]}),e})();function Wo(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",16),s.Xb(2,"form",17),s.Xb(3,"div",18),s.Xb(4,"div",19),s.Xb(5,"div",20),s.Xb(6,"label",21),s.Lc(7," Please tell us why you wish to opt out of your auto renewal *"),s.Wb(),s.Wb(),s.Xb(8,"div"),s.Xb(9,"span",22),s.Lc(10,"(maximum 50 characters)"),s.Wb(),s.Wb(),s.Sb(11,"br"),s.Xb(12,"input",23),s.fc("ngModelChange",function(t){return s.Ec(e),s.ic().otherReasonComment=t}),s.Wb(),s.Sb(13,"app-validation-message",24),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()}if(2&e){const e=s.ic();s.Ab(2),s.pc("formGroup",e.commentSectionFormGroup),s.Ab(10),s.pc("ngModel",e.otherReasonComment),s.Ab(1),s.pc("control",e.otherReason)}}let Xo=(()=>{class e{constructor(e,t){this.renewalLapseNavigationService=e,this.fb=t}ngOnInit(){this.commentSectionFormGroup=this.createCommentSectionForm(),this.lapseReasonArray=[{key:yo.Lapse1,value:"Cheaper quote elsewhere"},{key:yo.Lapse2,value:"Don't need car insurance anymore"},{key:yo.Lapse3,value:"Poor claims service"},{key:yo.Lapse4,value:"Poor customer service"},{key:yo.Lapse5,value:"I couldn't do what I wanted online"},{key:yo.Lapse6,value:"Fees and charges are too high"},{key:yo.Lapse7,value:"Other"},{key:yo.Lapse8,value:"I would prefer to renew myself"}],this.surveyProgressPercentage=this.renewalLapseNavigationService.surveyProgressPercentage()}get otherReason(){return this.commentSectionFormGroup.get("otherReason")}get lapseReasons(){return yo}get hasNextSteps(){return this.selectedReason!==yo.Lapse1&&this.selectedReason!==yo.Lapse6&&this.selectedReason!==yo.Lapse7&&this.selectedReason!==yo.Lapse8}getLapseDescription(e){return this.lapseReasonArray.find(t=>t.key===e).value}setSelectedReason(e){this.selectedReason=yo[yo[e.target.value]],this.renewalLapseNavigationService.lapseSurvey.lapseReason=yo[yo[e.target.value]]}onCancelButtonClick(){this.renewalLapseNavigationService.exitSurvey()}continue(){this.renewalLapseNavigationService.lapseSurvey.otherReason=this.otherReasonComment,this.renewalLapseNavigationService.navigateToNextStep()}createCommentSectionForm(){return this.fb.group({otherReason:["",[Mn.B.required]]})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(wo),s.Rb(Mn.e))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-opt-out-reason-popup"]],decls:51,vars:37,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"heading-alpha"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"mb-4"],[1,"form-check"],["type","radio","name","optOutReason",1,"form-check-input",3,"value","id","change"],[1,"form-check-label",3,"for"],[4,"ngIf"],[1,"row","justify-content-end"],[1,"col-lg-4","align-self-center","px-5","px-lg-0"],[3,"currentValue","maxValue"],[1,"col-lg-4","pt-3","pt-lg-0"],["type","button",1,"btn","btn-icon","btn-icon-highlight","float-right",3,"disabled","click"],[1,"icon","icon-functional","icon-arrow"],[1,"comment-section"],[3,"formGroup"],[1,"form-group","mb-4",2,"border-left","5px solid rgb(128,0,128)"],[1,"col-12","p-0","position-relative",2,"margin-left","20px"],[1,"row","m-0","align-items-center","justify-content-between"],["for","otherReason",1,"heading-epsilon","form-question"],[1,"font-weight-bold"],["id","otherReason","maxlength","50","placeholder","Enter your comments here...","formControlName","otherReason","autocomplete","off",1,"form-control","ng-touched",2,"width","80%",3,"ngModel","ngModelChange"],["defaultMessage","Please provide your comments",3,"control"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2,"Why did you wish to opt out of your auto renewal?"),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.onCancelButtonClick()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"p",5),s.Lc(8," Please select the most applicable option: "),s.Wb(),s.Xb(9,"div",6),s.Xb(10,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(11,"label",8),s.Lc(12),s.Wb(),s.Wb(),s.Xb(13,"div",6),s.Xb(14,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(15,"label",8),s.Lc(16),s.Wb(),s.Wb(),s.Xb(17,"div",6),s.Xb(18,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(19,"label",8),s.Lc(20),s.Wb(),s.Wb(),s.Xb(21,"div",6),s.Xb(22,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(23,"label",8),s.Lc(24),s.Wb(),s.Wb(),s.Xb(25,"div",6),s.Xb(26,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(27,"label",8),s.Lc(28),s.Wb(),s.Wb(),s.Xb(29,"div",6),s.Xb(30,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(31,"label",8),s.Lc(32),s.Wb(),s.Wb(),s.Xb(33,"div",6),s.Xb(34,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(35,"label",8),s.Lc(36),s.Wb(),s.Wb(),s.Xb(37,"div",6),s.Xb(38,"input",7),s.fc("change",function(e){return t.setSelectedReason(e)}),s.Wb(),s.Xb(39,"label",8),s.Lc(40),s.Wb(),s.Wb(),s.Sb(41,"br"),s.Jc(42,Wo,14,3,"ng-container",9),s.Sb(43,"hr"),s.Xb(44,"div",10),s.Xb(45,"div",11),s.Sb(46,"app-progress-bar",12),s.Wb(),s.Xb(47,"div",13),s.Xb(48,"button",14),s.fc("click",function(){return t.continue()}),s.Lc(49),s.Sb(50,"span",15),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(10),s.qc("value",t.lapseReasons.Lapse1),s.qc("id",t.lapseReasons.Lapse1),s.Ab(1),s.qc("for",t.lapseReasons.Lapse1),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse1)),s.Ab(2),s.qc("value",t.lapseReasons.Lapse2),s.qc("id",t.lapseReasons.Lapse2),s.Ab(1),s.qc("for",t.lapseReasons.Lapse2),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse2)),s.Ab(2),s.qc("value",t.lapseReasons.Lapse4),s.qc("id",t.lapseReasons.Lapse4),s.Ab(1),s.qc("for",t.lapseReasons.Lapse4),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse4)),s.Ab(2),s.qc("value",t.lapseReasons.Lapse3),s.qc("id",t.lapseReasons.Lapse3),s.Ab(1),s.qc("for",t.lapseReasons.Lapse3),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse3)),s.Ab(2),s.qc("value",t.lapseReasons.Lapse6),s.qc("id",t.lapseReasons.Lapse6),s.Ab(1),s.qc("for",t.lapseReasons.Lapse6),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse6)),s.Ab(2),s.qc("value",t.lapseReasons.Lapse5),s.qc("id",t.lapseReasons.Lapse5),s.Ab(1),s.qc("for",t.lapseReasons.Lapse5),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse5)),s.Ab(2),s.qc("value",t.lapseReasons.Lapse8),s.qc("id",t.lapseReasons.Lapse8),s.Ab(1),s.qc("for",t.lapseReasons.Lapse8),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse8)),s.Ab(2),s.qc("value",t.lapseReasons.Lapse7),s.qc("id",t.lapseReasons.Lapse7),s.Ab(1),s.qc("for",t.lapseReasons.Lapse7),s.Ab(1),s.Mc(t.getLapseDescription(t.lapseReasons.Lapse7)),s.Ab(2),s.pc("ngIf",7===t.selectedReason),s.Ab(4),s.pc("currentValue",t.surveyProgressPercentage)("maxValue",100),s.Ab(2),s.pc("disabled",!t.selectedReason||t.selectedReason===t.lapseReasons.Lapse7&&!t.commentSectionFormGroup.valid?"disabled":null),s.Ab(1),s.Nc(" ",t.hasNextSteps?"Next":"Submit"," "))},directives:[r.p,K,Mn.C,Mn.s,Mn.j,Mn.b,Mn.m,Mn.r,Mn.h,Di.a],styles:[""]}),e})();var So=n("gskI"),Lo=n("FkFS");function ko(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div"),s.Xb(2,"h4",14),s.Lc(3,"Or speak to us on web chat"),s.Wb(),s.Wb(),s.Xb(4,"div"),s.Xb(5,"button",15),s.fc("click",function(){return s.Ec(e),s.ic().openChatWindow()}),s.Lc(6,"Chat now "),s.Wb(),s.Wb(),s.Ub()}if(2&e){const e=s.ic();s.Ab(5),s.pc("disabled",e.webChatAvailable?null:"disabled")}}function Po(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",21),s.Xb(1,"div"),s.Xb(2,"h5",22),s.Lc(3,"Preferred Contact Number"),s.Wb(),s.Wb(),s.Xb(4,"div",23),s.Xb(5,"input",24),s.fc("ngModelChange",function(t){return s.Ec(e),s.ic(3).phoneNumber=t}),s.Wb(),s.Xb(6,"button",25),s.fc("click",function(){return s.Ec(e),s.ic(3).savePhoneNumber()}),s.Lc(7,"Save"),s.Wb(),s.Wb(),s.Sb(8,"app-validation-message",26),s.Wb()}if(2&e){const e=s.ic(3);s.Ab(5),s.pc("ngModel",e.phoneNumber),s.Ab(1),s.pc("disabled",e.callBackFormGroup.valid?null:"disabled"),s.Ab(2),s.pc("control",e.contactNumber)}}function Mo(e,t){if(1&e&&(s.Xb(0,"form",19),s.Jc(1,Po,9,3,"div",20),s.Wb()),2&e){const e=s.ic(2);s.pc("formGroup",e.callBackFormGroup),s.Ab(1),s.pc("ngIf",e.isCallbackConfirmed)}}function Ao(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",16),s.Xb(1,"h4",8),s.Lc(2,"Request a callback"),s.Wb(),s.Xb(3,"div",8),s.Lc(4,"If you prefer, we can call you on the number that's registered on your policy. "),s.Wb(),s.Xb(5,"button",17),s.fc("click",function(){return s.Ec(e),s.ic().callback()}),s.Lc(6,"Request a callback "),s.Wb(),s.Jc(7,Mo,2,2,"form",18),s.Wb()}if(2&e){const e=s.ic();s.Ab(7),s.pc("ngIf",e.isCallbackConfirmed)}}let Oo=(()=>{class e{constructor(e,t,n,i,o){this.renewalLapseNavigationService=e,this.accountSettingsService=t,this.fb=n,this.chatWorkingHoursService=i,this.egainWebChatService=o,this.renewalsChatEndpoint=1006}ngOnInit(){this.callBackFormGroup=this.createCallBackSectionForm(),this.accountSettingsService.getContactDetails$().subscribe(e=>{this.phoneNumber=e.primaryPhoneNumber}),this.callbackRequestEnabled=E.a.settings.client.callbackRequestEnabled,this.webChatEnabled=E.a.settings.chat.chatSupplier===N.e.EGain,this.chatWorkingHoursService.isChatCurrentlyAvailableForDepartment$(this.chatWorkingHoursService.renewalsTeamName).subscribe(e=>{this.webChatAvailable=e})}onCancelButtonClick(){this.renewalLapseNavigationService.exitSurvey()}get contactNumber(){return this.callBackFormGroup.get("contactNumber")}callback(){this.isCallbackConfirmed=!0}savePhoneNumber(){this.renewalLapseNavigationService.lapseSurvey.callbackPhoneNumber=this.phoneNumber,this.renewalLapseNavigationService.saveCallbackAndNavigateToNextStep(this.phoneNumber)}openChatWindow(){this.egainWebChatService.openChatWidget("lapsed-journey",this.renewalsChatEndpoint)}createCallBackSectionForm(){return this.fb.group({contactNumber:["",Mn.B.compose(io.j)]})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(wo),s.Rb(F.a),s.Rb(Mn.e),s.Rb(So.a),s.Rb(Lo.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-we-would-like-to-speak-to-you-popup"]],decls:38,vars:2,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"row"],[1,"col-12","pb-4"],[1,"col-12","col-md-6","mb-4","order-md-1","mb-1"],[1,"mb-3"],["href","tel:03330432062",1,"text-underline"],[4,"ngIf"],[1,"mt-3","mb-1"],[1,"mb-1"],["class","col-12 col-md-6 mb-2 order-md-2",4,"ngIf"],[1,"mt-3","mb-3"],["type","button",1,"btn","btn-icon",3,"disabled","click"],[1,"col-12","col-md-6","mb-2","order-md-2"],["type","button",1,"btn","btn-icon",3,"click"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["class","input-group",4,"ngIf"],[1,"input-group"],[1,"mt-3","mb-2"],[1,"row","m-0","mt-2"],["blockInputValue","","allowedRegExp","[^0-9]","type","tel","inputmode","numeric","id","contactNumber","formControlName","contactNumber",1,"form-control","sessioncamexclude","col-7",2,"height","fit-content",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-icon","btn-icon-highlight","col-4","ml-3",2,"padding-right","0%","padding-left","inherit",3,"disabled","click"],["defaultMessage","Please enter a valid contact number.",3,"control"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2,"We'd like to speak to you"),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.onCancelButtonClick()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"div",5),s.Xb(8,"div",6),s.Lc(9," Thank you for taking the time to complete our survey. "),s.Sb(10,"br"),s.Sb(11,"br"),s.Lc(12," We really value you as a customer, so we'd love to discuss your renewal price and see if we can "),s.Xb(13,"b"),s.Lc(14,"match or beat the quote"),s.Wb(),s.Lc(15," you were given elsewhere, or "),s.Xb(16,"b"),s.Lc(17,"see what discounts are available."),s.Wb(),s.Wb(),s.Wb(),s.Xb(18,"div",5),s.Xb(19,"div",7),s.Xb(20,"div"),s.Xb(21,"h4",8),s.Lc(22,"Call our renewals team"),s.Wb(),s.Wb(),s.Xb(23,"div"),s.Xb(24,"a",9),s.Lc(25,"0333 043 2062"),s.Wb(),s.Wb(),s.Jc(26,ko,7,1,"ng-container",10),s.Xb(27,"div",11),s.Xb(28,"h5"),s.Lc(29,"Opening hours:"),s.Wb(),s.Wb(),s.Xb(30,"div",12),s.Lc(31,"Monday - Friday: 8am to 8pm "),s.Wb(),s.Xb(32,"div",12),s.Lc(33,"Saturday: 9am to 5pm "),s.Wb(),s.Xb(34,"div",12),s.Xb(35,"b"),s.Lc(36,"Sunday: 10am to 2pm"),s.Wb(),s.Wb(),s.Wb(),s.Jc(37,Ao,8,1,"div",13),s.Wb(),s.Wb()),2&e&&(s.Ab(26),s.pc("ngIf",t.webChatEnabled),s.Ab(11),s.pc("ngIf",t.callbackRequestEnabled))},directives:[r.p,Mn.C,Mn.s,Mn.j,Zi.a,Mn.b,Mn.r,Mn.h,Di.a],encapsulation:2}),e})(),Io=(()=>{class e{constructor(e,t){this.renewalLapseNavigationService=e,this.accountSettingsService=t}ngOnInit(){this.phoneNumber=this.renewalLapseNavigationService.lapseSurvey.callbackPhoneNumber}onCancelButtonClick(){this.renewalLapseNavigationService.exitSurvey()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(wo),s.Rb(F.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-callback-confirmed-popup"]],decls:18,vars:1,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"row"],[1,"col"],[1,"row","ml-2","mr-2","align-items-center"],[1,"col-1","col-md-1","my-4","p-0"],[1,"icon","icon-roundel","marketing-preferences-icon","icon-fuchsia-pink","icon-contact"],[1,"col-10","col-md-10","my-4"],[1,"font-weight-bold",3,"innerHTML"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2,"Thank you, we'll call you back"),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.onCancelButtonClick()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"div",5),s.Xb(8,"div",6),s.Xb(9,"div",7),s.Xb(10,"div",8),s.Sb(11,"span",9),s.Wb(),s.Xb(12,"div",10),s.Xb(13,"span"),s.Lc(14,"Thank you, your callback request has been confirmed. We will be in touch shortly on "),s.Xb(15,"span",11),s.Lc(16,"contactNumber"),s.Wb(),s.Lc(17," to discuss your renewal price."),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(15),s.pc("innerHTML",t.phoneNumber,s.Fc))},encapsulation:2}),e})();var xo=function(e){return e[e.Lapse2_0=200]="Lapse2_0",e[e.Lapse2_1=201]="Lapse2_1",e[e.Lapse2_2=202]="Lapse2_2",e[e.Lapse2_3=203]="Lapse2_3",e[e.Lapse3_1=301]="Lapse3_1",e[e.Lapse3_2=302]="Lapse3_2",e[e.Lapse3_3=303]="Lapse3_3",e[e.Lapse3_4=304]="Lapse3_4",e[e.Lapse3_5=305]="Lapse3_5",e[e.Lapse4_1=401]="Lapse4_1",e[e.Lapse4_2=402]="Lapse4_2",e[e.Lapse4_3=403]="Lapse4_3",e[e.Lapse4_4=404]="Lapse4_4",e[e.Lapse4_5=405]="Lapse4_5",e[e.Lapse5_1=501]="Lapse5_1",e[e.Lapse5_2=502]="Lapse5_2",e[e.Lapse5_3=503]="Lapse5_3",e[e.Lapse5_4=504]="Lapse5_4",e[e.Lapse5_5=505]="Lapse5_5",e[e.Lapse5_6=506]="Lapse5_6",e[e.Lapse5_7=507]="Lapse5_7",e}({});function Ro(e,t){if(1&e&&(s.Xb(0,"div"),s.Xb(1,"p"),s.Lc(2,"To confirm, we will no longer automatically renew your policy and it will expire on the "),s.Sb(3,"span",12),s.jc(4,"nthDate"),s.Lc(5," if we don't hear from you. You can easily renew your policy online in Your Account before this date or if you'd prefer to speak to someone, you can speak to our friendly Renewals team over the phone or on web chat. "),s.Wb(),s.Xb(6,"p"),s.Lc(7," You can easily switch your automatic renewal back on any time within Your Account."),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(3),s.pc("innerHTML",s.kc(4,1,e.expiryDate),s.Fc)}}function Do(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",19),s.Xb(1,"input",20),s.fc("ngModelChange",function(t){return s.Ec(e),s.ic(3).emailConsentChecked=t}),s.Wb(),s.Xb(2,"label",21),s.Lc(3,"Please tick this box to receive news and offers from 1st CENTRAL, including a \xa350 welcome back discount when you reinsure with us"),s.Wb(),s.Wb()}if(2&e){const e=s.ic(3);s.Ab(1),s.pc("ngModel",e.emailConsentChecked)}}function _o(e,t){1&e&&(s.Xb(0,"div",22),s.Sb(1,"span",23),s.Xb(2,"span",24),s.Lc(3,"Thank you for signing up"),s.Wb(),s.Wb())}function To(e,t){if(1&e){const e=s.Yb();s.Xb(0,"p",25),s.Xb(1,"button",26),s.fc("click",function(){return s.Ec(e),s.ic(3).signUpToEmails()}),s.Lc(2,"Sign up"),s.Wb(),s.Wb()}if(2&e){const e=s.ic(3);s.Ab(1),s.pc("disabled",e.emailConsentChecked?null:"disabled")}}function qo(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"p"),s.Lc(2,"We really value you as a customer and would love to see you come back to us. Sign up to our emails to receive a quote and an exclusive \xa350 discount when your renewal is due next year. By signing up to this offer, we\u2019ll use the data you\u2019ve already provided us and send you a quote by email. We may use third party providers to carry out a soft credit search which won\u2019t affect your credit score. "),s.Wb(),s.Xb(3,"div",14),s.Sb(4,"span",15),s.Wb(),s.Jc(5,Do,4,1,"div",16),s.Jc(6,_o,4,0,"div",17),s.Jc(7,To,3,1,"p",18),s.Ub()),2&e){const e=s.ic(2);s.Ab(5),s.pc("ngIf",!e.emailConsentConfirmed),s.Ab(1),s.pc("ngIf",e.emailConsentConfirmed),s.Ab(1),s.pc("ngIf",!e.emailConsentConfirmed)}}function Eo(e,t){1&e&&(s.Vb(0),s.Xb(1,"p"),s.Lc(2,"We really value you as a customer and would love to see you come back to us in the future. We\u2019ll email you a quote with an exclusive \xa350 discount when your renewal is due next year. We\u2019ll use the data you\u2019ve already provided us and send you a quote by email. We may use third party providers to carry out a soft credit search, which won\u2019t affect your credit score. "),s.Wb(),s.Xb(3,"div",14),s.Sb(4,"span",15),s.Wb(),s.Xb(5,"div",22),s.Sb(6,"span",23),s.Xb(7,"span",27),s.Lc(8,"We'll email you your quote and exclusive \xa350 discount"),s.Wb(),s.Wb(),s.Ub())}function No(e,t){if(1&e&&(s.Xb(0,"div",13),s.Jc(1,qo,8,3,"ng-container",9),s.Jc(2,Eo,9,0,"ng-container",9),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("ngIf",!e.marketingConsent),s.Ab(1),s.pc("ngIf",e.marketingConsent)}}function Fo(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",19),s.Xb(1,"input",20),s.fc("ngModelChange",function(t){return s.Ec(e),s.ic(3).emailConsentChecked=t}),s.Wb(),s.Xb(2,"label",21),s.Lc(3,"Please tick this box to receive news and offers from 1st CENTRAL, including a \xa350 welcome back discount when you reinsure with us"),s.Wb(),s.Wb()}if(2&e){const e=s.ic(3);s.Ab(1),s.pc("ngModel",e.emailConsentChecked)}}function jo(e,t){1&e&&(s.Xb(0,"div",29),s.Sb(1,"span",23),s.Xb(2,"span",27),s.Lc(3,"Thank you for signing up"),s.Wb(),s.Wb())}function Jo(e,t){if(1&e){const e=s.Yb();s.Xb(0,"p",25),s.Xb(1,"button",26),s.fc("click",function(){return s.Ec(e),s.ic(3).signUpToEmails()}),s.Lc(2,"Sign up"),s.Wb(),s.Wb()}if(2&e){const e=s.ic(3);s.Ab(1),s.pc("disabled",e.emailConsentChecked?null:"disabled")}}function Uo(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"p"),s.Lc(2,"We really value you as a customer and would love to see you come back to us. Sign up to our emails to receive information about our products and special offers for returning customers. "),s.Wb(),s.Xb(3,"div",14),s.Sb(4,"span",15),s.Wb(),s.Jc(5,Fo,4,1,"div",16),s.Jc(6,jo,4,0,"div",28),s.Jc(7,Jo,3,1,"p",18),s.Ub()),2&e){const e=s.ic(2);s.Ab(5),s.pc("ngIf",!e.emailConsentConfirmed),s.Ab(1),s.pc("ngIf",e.emailConsentConfirmed),s.Ab(1),s.pc("ngIf",!e.emailConsentConfirmed)}}function Bo(e,t){1&e&&(s.Vb(0),s.Xb(1,"p"),s.Lc(2,"We really value you as a customer and would love to see you come back to us in the future. We'll email you an exclusive \xa350 discount to welcome you back to us as a returning customer. "),s.Wb(),s.Xb(3,"div",14),s.Sb(4,"span",15),s.Wb(),s.Xb(5,"div",29),s.Sb(6,"span",23),s.Xb(7,"span",27),s.Lc(8,"We'll email you your exclusive \xa350 discount"),s.Wb(),s.Wb(),s.Ub())}function Vo(e,t){if(1&e&&(s.Xb(0,"div",13),s.Jc(1,Uo,8,3,"ng-container",9),s.Jc(2,Bo,9,0,"ng-container",9),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("ngIf",!e.marketingConsent),s.Ab(1),s.pc("ngIf",e.marketingConsent)}}function Yo(e,t){if(1&e&&(s.Xb(0,"div"),s.Xb(1,"p"),s.Lc(2,"We'll be sorry to see you go but we'll use your feedback to help improve our service. To confirm, we'll no longer automatically renew your policy and it'll expire on the "),s.Sb(3,"span",12),s.jc(4,"nthDate"),s.Lc(5," if we don't hear from you."),s.Wb(),s.Xb(6,"p"),s.Lc(7,"You can easily renew your policy online in Your Account before this date, or if you'd prefer to speak to someone, you can speak to our friendly Renewals team over the phone or on web chat."),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(3),s.pc("innerHTML",s.kc(4,1,e.expiryDate),s.Fc)}}function $o(e,t){1&e&&s.Sb(0,"hr")}var Ho=function(e){return e[e.NoAutomaticRenewal=0]="NoAutomaticRenewal",e[e.DiscountEmail=1]="DiscountEmail",e[e.Goodbye=2]="Goodbye",e[e.DiscountEmailForCheaperQuoteElsewhere=3]="DiscountEmailForCheaperQuoteElsewhere",e}({});let Qo=(()=>{class e{constructor(e){this.renewalLapseNavigationService=e,this.adobeTrackingPrefix="thankYouForYourFeedback",this.expiryDate=new Date,this.screenType=Ho.DiscountEmail,this.screenTypes=Ho,this.emailConsentChecked=!1,this.emailConsentConfirmed=!1}get marketingConsent(){return this.renewalLapseNavigationService.lapseSurvey.marketingConsent}ngOnInit(){this.screenType=this.getScreenType()}getScreenType(){switch(this.renewalLapseNavigationService.lapseSurvey.lapseReason){case yo.Lapse1:return Ho.DiscountEmailForCheaperQuoteElsewhere;case yo.Lapse2:return this.renewalLapseNavigationService.lapseSurvey.lapseSubReason===xo.Lapse2_1?Ho.NoAutomaticRenewal:Ho.DiscountEmail;case yo.Lapse3:case yo.Lapse4:case yo.Lapse5:case yo.Lapse6:return Ho.Goodbye;case yo.Lapse7:case yo.Lapse8:return Ho.NoAutomaticRenewal}return Ho.DiscountEmail}signUpToEmails(){this.renewalLapseNavigationService.saveMarketingConsent(!0),this.emailConsentConfirmed=!0}onCancelButtonClick(){this.renewalLapseNavigationService.exitSurvey()}continue(){this.renewalLapseNavigationService.navigateToNextStep()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(wo))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-thank-you-for-your-feedback"]],inputs:{adobeTrackingPrefix:"adobeTrackingPrefix",expiryDate:"expiryDate"},decls:18,vars:6,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"row"],[1,"col",3,"ngSwitch"],[4,"ngSwitchCase"],["class","row ml-2 mr-2 align-items-center",4,"ngSwitchCase"],[4,"ngIf"],["type","button",1,"btn","btn-icon","btn-icon-highlight","mt-3","ml-2",3,"click"],[1,"icon","icon-functional","icon-arrow"],[1,"font-weight-bold",3,"innerHTML"],[1,"row","ml-2","mr-2","align-items-center"],[1,"col-1","col-md-1","my-4","p-0"],[1,"icon","icon-roundel","marketing-preferences-icon","icon-fuchsia-pink","icon-newsletter"],["class","form-check col-10 col-md-10 my-4 ml-3",4,"ngIf"],["class","col-10 col-md-10 my-4 ml-3 list list-icons d-flex",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"form-check","col-10","col-md-10","my-4","ml-3"],["type","checkbox","id","email-toggle","name","email-toggle",1,"form-check-input",3,"ngModel","ngModelChange"],["for","email-toggle",1,"font-weight-bold"],[1,"col-10","col-md-10","my-4","ml-3","list","list-icons","d-flex"],[1,"list-item","list-icon","list-icon-tick"],[1,"pl-md-1","pl-xs-1","pl-sm-1","font-weight-bold"],[1,"mt-2"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"pl-3","font-weight-bold"],["class","col-10 col-md-10 my-4 ml-3 list list-icons",4,"ngIf"],[1,"col-10","col-md-10","my-4","ml-3","list","list-icons"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2,"Thank you for your feedback!"),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.onCancelButtonClick()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"div",5),s.Xb(8,"div",6),s.Jc(9,Ro,8,3,"div",7),s.Jc(10,No,3,2,"div",8),s.Jc(11,Vo,3,2,"div",8),s.Jc(12,Yo,8,3,"div",7),s.Wb(),s.Wb(),s.Jc(13,$o,1,0,"hr",9),s.Xb(14,"div"),s.Xb(15,"button",10),s.fc("click",function(){return t.continue()}),s.Lc(16,"Return to Your Account"),s.Sb(17,"span",11),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(8),s.pc("ngSwitch",t.screenType),s.Ab(1),s.pc("ngSwitchCase",t.screenTypes.NoAutomaticRenewal),s.Ab(1),s.pc("ngSwitchCase",t.screenTypes.DiscountEmailForCheaperQuoteElsewhere),s.Ab(1),s.pc("ngSwitchCase",t.screenTypes.DiscountEmail),s.Ab(1),s.pc("ngSwitchCase",t.screenTypes.Goodbye),s.Ab(1),s.pc("ngIf",t.screenType!==t.screenTypes.Goodbye&&t.screenType!==t.screenTypes.NoAutomaticRenewal))},directives:[r.r,r.s,r.p,Mn.a,Mn.r,Mn.u],pipes:[G.a],styles:["@media (max-width:575px){.icon[_ngcontent-%COMP%]{width:2.5rem}.list-icons[_ngcontent-%COMP%]   .list-icon[_ngcontent-%COMP%]:before{top:.1rem}}@media (max-width:767px){.icon[_ngcontent-%COMP%]{width:2.5rem}.list-icons[_ngcontent-%COMP%]   .list-icon[_ngcontent-%COMP%]:before{top:.1rem}}@media (min-width:768px){.icon[_ngcontent-%COMP%]{top:.1rem}}.list-icons[_ngcontent-%COMP%]   .list-icon[_ngcontent-%COMP%]{top:0}"]}),e})();function Ko(e,t){switch(e){case yo.Lapse2:return t?[{key:xo.Lapse2_2,value:"In 1 to 6 months time"},{key:xo.Lapse2_3,value:"In 7 months time or longer"}]:[{key:xo.Lapse2_0,value:"Yes, I'll be looking to replace my car in the future"},{key:xo.Lapse2_1,value:"No, I'm not looking to replace my car"}];case yo.Lapse3:return[{key:xo.Lapse3_1,value:"It took too long to receive my settlement"},{key:xo.Lapse3_2,value:"The settlement offer was too low"},{key:xo.Lapse3_3,value:"The replacement or repairs to my car took too long"},{key:xo.Lapse3_4,value:"I didn't feel supported when making my claim"},{key:xo.Lapse3_5,value:"I wasn't kept up to date with my claim"}];case yo.Lapse4:return[{key:xo.Lapse4_1,value:"The service I received when completing a change wasn't helpful"},{key:xo.Lapse4_2,value:"The service I received at renewal wasn't helpful"},{key:xo.Lapse4_3,value:"I had to wait too long when contacting you"},{key:xo.Lapse4_4,value:"I had difficulty receiving my documents and communications from you"},{key:xo.Lapse4_5,value:"The service I received when asking a general query wasn't helpful"}];case yo.Lapse5:return[{key:xo.Lapse5_1,value:"I couldn't find my policy documentation"},{key:xo.Lapse5_2,value:"I couldn't amend my policy details"},{key:xo.Lapse5_3,value:"I couldn't change my vehicle"},{key:xo.Lapse5_4,value:"I couldn't renew my policy"},{key:xo.Lapse5_5,value:"I couldn't cancel my policy"},{key:xo.Lapse5_6,value:"I couldn't add a temporary vehicle or driver"},{key:xo.Lapse5_7,value:"Other"}];default:return null}}function Go(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",12),s.Xb(1,"input",13),s.fc("change",function(t){return s.Ec(e),s.ic().setSelectedSubReason(t)}),s.Wb(),s.Xb(2,"label",14),s.Lc(3),s.Wb(),s.Wb()}if(2&e){const e=t.$implicit;s.Ab(1),s.qc("value",e.key),s.qc("id",e.key),s.Ab(1),s.qc("for",e.key),s.Ab(1),s.Mc(e.value)}}let zo=(()=>{class e{constructor(e){this.renewalLapseNavigationService=e,this.lapse2Details=!1,this.lapseSubReasonArray=Ko(e.lapseReason(),this.lapse2Details),this.title=this.renewalLapseNavigationService.currentTitle,this.surveyProgressPercentage=this.renewalLapseNavigationService.surveyProgressPercentage()}get lastSurveyStep(){return!!(this.renewalLapseNavigationService.currentStep===vo.DoYouPlanToReplaceCar&&this.selectedSubReason&&this.selectedSubReason===xo.Lapse2_1||this.renewalLapseNavigationService.currentStep===vo.WhenYouPlanToReplaceCar||this.renewalLapseNavigationService.currentStep===vo.PoorCustomerServiceReason||this.renewalLapseNavigationService.currentStep===vo.PoorClaimsServiceReason||this.renewalLapseNavigationService.currentStep===vo.MissingOnlineChange)}ngOnInit(){}setSelectedSubReason(e){this.selectedSubReason=xo[xo[e.target.value]],this.renewalLapseNavigationService.lapseSurvey.lapseSubReason=xo[xo[e.target.value]]}onCancelButtonClick(){this.renewalLapseNavigationService.exitSurvey()}continue(){this.selectedSubReason===xo.Lapse2_0&&(this.selectedSubReason=null,this.renewalLapseNavigationService.lapseSurvey.lapseSubReason=null,this.lapse2Details=!0,this.title="When do you plan to replace your car?"),this.renewalLapseNavigationService.navigateToNextStep(),this.lapseSubReasonArray=Ko(this.renewalLapseNavigationService.lapseReason(),this.lapse2Details),this.surveyProgressPercentage=this.renewalLapseNavigationService.surveyProgressPercentage()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(wo))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-opt-out-subreason-popup"]],decls:16,vars:6,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],["class","form-check",4,"ngFor","ngForOf"],[1,"row","justify-content-end"],[1,"col-lg-4","align-self-center","px-5","px-lg-0"],[3,"currentValue","maxValue"],[1,"col-lg-4","pt-3","pt-lg-0"],["type","button",1,"btn","btn-icon","btn-icon-highlight","float-right",3,"disabled","click"],[1,"icon","icon-functional","icon-arrow"],[1,"form-check"],["type","radio","name","subreason",1,"form-check-input",3,"value","id","change"],[1,"form-check-label",3,"for"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h3",1),s.Lc(2),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.onCancelButtonClick()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Jc(7,Go,4,4,"div",5),s.Sb(8,"hr"),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Sb(11,"app-progress-bar",8),s.Wb(),s.Xb(12,"div",9),s.Xb(13,"button",10),s.fc("click",function(){return t.continue()}),s.Lc(14),s.Sb(15,"span",11),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(2),s.Mc(t.title),s.Ab(5),s.pc("ngForOf",t.lapseSubReasonArray),s.Ab(4),s.pc("currentValue",t.surveyProgressPercentage)("maxValue",100),s.Ab(2),s.pc("disabled",t.selectedSubReason?null:"disabled"),s.Ab(1),s.Mc(t.lastSurveyStep?"Submit":"Next"))},directives:[r.o,K],styles:[""]}),e})();function Zo(e,t){1&e&&s.Sb(0,"app-survey-invitation-popup")}function ec(e,t){1&e&&s.Sb(0,"app-opt-out-reason-popup")}function tc(e,t){1&e&&s.Sb(0,"app-we-would-like-to-speak-to-you-popup")}function nc(e,t){1&e&&s.Sb(0,"app-callback-confirmed-popup")}function ic(e,t){if(1&e&&s.Sb(0,"app-thank-you-for-your-feedback",3),2&e){const e=s.ic();s.pc("expiryDate",e.expiryDate)}}function oc(e,t){1&e&&s.Sb(0,"app-opt-out-subreason-popup")}let cc=(()=>{class e{constructor(e){this.renewalLapseNavigationService=e,this.expiryDate=new Date,this.renewalLapseStep=vo}get currentStep(){return this.renewalLapseNavigationService.currentStep}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(wo))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-renewal-lapse-popup"]],inputs:{expiryDate:"expiryDate"},decls:7,vars:7,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"expiryDate",4,"ngSwitchCase"],[3,"expiryDate"]],template:function(e,t){1&e&&(s.Vb(0,0),s.Jc(1,Zo,1,0,"app-survey-invitation-popup",1),s.Jc(2,ec,1,0,"app-opt-out-reason-popup",1),s.Jc(3,tc,1,0,"app-we-would-like-to-speak-to-you-popup",1),s.Jc(4,nc,1,0,"app-callback-confirmed-popup",1),s.Jc(5,ic,1,1,"app-thank-you-for-your-feedback",2),s.Jc(6,oc,1,0,"app-opt-out-subreason-popup",1),s.Ub()),2&e&&(s.pc("ngSwitch",t.currentStep),s.Ab(1),s.pc("ngSwitchCase",t.renewalLapseStep.TakeOurSurvey),s.Ab(1),s.pc("ngSwitchCase",t.renewalLapseStep.WhyDidYouOptedOut),s.Ab(1),s.pc("ngSwitchCase",t.renewalLapseStep.WeWouldLikeToSpeakToYou),s.Ab(1),s.pc("ngSwitchCase",t.renewalLapseStep.CallbackConfirmed),s.Ab(1),s.pc("ngSwitchCase",t.renewalLapseStep.ThankYouForYourFeedback),s.Ab(1),s.pc("ngSwitchCase",t.currentStep===t.renewalLapseStep.DoYouPlanToReplaceCar||t.currentStep===t.renewalLapseStep.WhenYouPlanToReplaceCar||t.currentStep===t.renewalLapseStep.PoorCustomerServiceReason||t.currentStep===t.renewalLapseStep.PoorClaimsServiceReason||t.currentStep===t.renewalLapseStep.MissingOnlineChange?t.currentStep:""))},directives:[r.r,r.s,Co,Xo,Oo,Io,Qo,zo],encapsulation:2}),e})(),ac=(()=>{class e{constructor(e){this.modalRef=e,this.confirmedPopupCloseEvent=new s.n}onConfirmButtonClick(){this.confirmedPopupCloseEvent.emit(!0),this.modalRef.hide()}onCancelButtonClick(){this.confirmedPopupCloseEvent.emit(!1),this.modalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(a.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-confirm-opt-out-renewal-popup"]],decls:28,vars:0,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"row","d-flex","align-middle","pb-3"],[1,"col-1"],[1,"icon","icon-green","icon-functional","icon-small","icon-tick"],[1,"col-10","col-sm-11"],[1,"pl-4","pl-lg-2"],[1,"icon","icon-functional","icon-green","icon-small","icon-tick"],[1,"heading-delta","DinBold"],[1,"d-flex","align-items-start"],["type","button",1,"btn","btn-primary","btn-icon","my-2","mr-3",3,"click"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2,"Your renewal settings"),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.onCancelButtonClick()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"div",5),s.Xb(8,"div",6),s.Sb(9,"span",7),s.Wb(),s.Xb(10,"div",8),s.Xb(11,"p",9),s.Lc(12,"By choosing to automatically renew, it gives you added peace of mind by not having to worry about driving uninsured next year if you forget to renew your policy."),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",5),s.Xb(14,"div",6),s.Sb(15,"span",10),s.Wb(),s.Xb(16,"div",8),s.Xb(17,"p",9),s.Lc(18,"All you'll need to do come renewal time is to check your details are still correct and then leave the rest to us. We'll renew your policy for you and send you a confirmation email to confirm you're all set for another year."),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"p"),s.Lc(20," If you'd prefer to turn your automatic renewal off, you will have to let us know you want to renew next year. We will give you adequate notice of your renewal quote, please check the details are correct and if you'd like to renew your policy, you would need to do this online or by phone before your renewal date, otherwise your policy will expire. "),s.Wb(),s.Xb(21,"h2",11),s.Lc(22,"Still want to opt out?"),s.Wb(),s.Xb(23,"div",12),s.Xb(24,"button",13),s.fc("click",function(){return t.onConfirmButtonClick()}),s.Lc(25," Yes "),s.Wb(),s.Xb(26,"button",13),s.fc("click",function(){return t.onCancelButtonClick()}),s.Lc(27,"No"),s.Wb(),s.Wb(),s.Wb())},styles:[""]}),e})();function sc(e,t){if(1&e&&s.Sb(0,"span",4),2&e){const e=s.ic();s.pc("innerHtml",e.toggleSwitchModel.value?e.toggleSwitchModel.onText:e.toggleSwitchModel.offText,s.Fc)}}let rc=(()=>{class e{constructor(){this.valueChanged=new s.n}onSwitch(e){this.valueChanged.emit(e.target.checked)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Lb({type:e,selectors:[["app-toggle-switch"]],inputs:{disabled:"disabled",toggleSwitchModel:"toggleSwitchModel"},outputs:{valueChanged:"valueChanged"},decls:5,vars:3,consts:[[1,"toggle-switch"],["type","checkbox","id","toggle",1,"checkbox",3,"ngModel","disabled","ngModelChange","change"],["for","toggle",1,"switch"],[3,"innerHtml",4,"ngIf"],[3,"innerHtml"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"input",1),s.fc("ngModelChange",function(e){return t.toggleSwitchModel.value=e})("change",function(e){return t.onSwitch(e)}),s.Wb(),s.Xb(2,"label",2),s.Sb(3,"span"),s.Wb(),s.Jc(4,sc,1,1,"span",3),s.Wb()),2&e&&(s.Ab(1),s.pc("ngModel",t.toggleSwitchModel.value)("disabled",t.disabled),s.Ab(3),s.pc("ngIf",t.toggleSwitchModel.onText&&t.toggleSwitchModel.offText))},directives:[Mn.a,Mn.r,Mn.u,r.p],styles:['.toggle-switch[_ngcontent-%COMP%]{padding:1rem 0;display:inline-block}.toggle-switch[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{margin:0 1em 0 0;position:relative;display:inline-block;width:70px;height:30px;background-color:#a3a3a3;border-radius:20px;border:1px solid #a3a3a3;padding-left:14px;padding-top:4px;font-size:15px;color:#fff;cursor:pointer}.toggle-switch[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;border-radius:50%;background-color:#fff;top:4px;left:44px;transition:all .3s}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%] + .switch[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{content:"No"}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + .switch[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:after{content:"Yes"}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + .switch[_ngcontent-%COMP%]:after{left:4px}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + .switch[_ngcontent-%COMP%]{background-color:#0ba88d;padding-left:31px;padding-top:4px;border:1px solid #0ba88d}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{opacity:0;position:absolute}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{border-color:#0ba88d;box-shadow:0 0 .5rem 0 #0ba88d;border-radius:20px}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:disabled + .switch[_ngcontent-%COMP%]{background-color:#d0d0ce;border:1px solid #d0d0ce;cursor:auto}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:disabled + .switch[_ngcontent-%COMP%]:after{background-color:#a3a3a3}.toggle-switch[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:disabled + .switch[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{color:#a3a3a3}']}),e})();function lc(e,t){if(1&e&&s.Sb(0,"app-alert",11),2&e){const e=s.ic();s.pc("content",e.statusMessage)}}function bc(e,t){1&e&&s.Sb(0,"div")}function dc(e,t){if(1&e&&(s.Xb(0,"div",5),s.Xb(1,"div",1),s.Sb(2,"app-alert",11),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(2),s.pc("content",e.disabledMessage)}}function uc(e,t){if(1&e&&(s.Xb(0,"div",5),s.Xb(1,"div",12),s.Xb(2,"span",13),s.Sb(3,"span",14),s.Lc(4," Automatic renewal "),s.Xb(5,"strong"),s.Lc(6,"ON"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",5),s.Xb(8,"div",6),s.Lc(9," We'll make it as simple as we can to get you ready for another year of care free driving, by automatically renewing your cover on the "),s.Sb(10,"strong",15),s.jc(11,"nthDate"),s.Lc(12,". "),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(10),s.pc("innerHtml",s.kc(11,1,e.date),s.Fc)}}function pc(e,t){if(1&e&&(s.Xb(0,"div",5),s.Xb(1,"div",12),s.Xb(2,"span",16),s.Sb(3,"span",14),s.Lc(4," Automatic renewal "),s.Xb(5,"strong"),s.Lc(6,"OFF"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",5),s.Xb(8,"div",6),s.Lc(9," Your policy will expire on the "),s.Sb(10,"strong",15),s.jc(11,"nthDate"),s.Lc(12," and won't automatically renew if we don't hear from you. You can easily switch it on at any time. "),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(10),s.pc("innerHtml",s.kc(11,1,e.date),s.Fc)}}let hc=(()=>{class e{constructor(e,t,n,i,o,c,a,s){this.route=e,this.loadingOverlay=t,this.policyService=n,this.modalService=i,this.bsModalService=o,this.messageService=c,this.autoRenewalOptInToggleService=a,this.renewalLapseNavigatorService=s,this.renewalsLapseJourneyEnabled=!1}set renewalSelected(e){this.toggleSwitch={value:e,onText:"I wish to auto-renew",offText:"I do not wish to auto-renew"}}ngOnInit(){this.disabledMessage={type:"danger",heading:"It's time to renew",description:'You cannot change your auto renewal status with less than 24 hours to go before your renewal date. If you need to make any changes please call us on <a href="tel:03330432056" class=\text-underline">0333 043 2056</a>'},this.renewalsLapseJourneyEnabled=E.a.settings.client.renewalsLapseJourneyEnabled,this.policyService.checkAutoRenewal$(this.route.snapshot.queryParams.policyId).subscribe(e=>{e||(this.disabledMessage={type:"danger",heading:"It's time to renew",description:"Sorry, you can't change your auto renewal status as we don't hold valid payment details for you. You'll need to manually renew your policy this year via the link in your renewal invitation email. If you need any support with your renewal please call us on<br /><a href=\"tel:03330432055\" class=\text-underline\">0333 043 2055</a>."},this.noValidPaymentCards=!0)})}ngAfterViewInit(){this.route.fragment.subscribe(e=>{Object(Zt.q)(e)})}onAutoRenewalChanged(e,t=!1){this.loadingOverlay.show(),this.policyService.toggleAutorenewal$(this.route.snapshot.queryParams.policyId,{optIn:e,confirmed:t}).pipe(Object(S.a)(()=>{this.loadingOverlay.close()})).subscribe(t=>{var n,i,o,c;if(null===(i=null===(n=t.validationResult)||void 0===n?void 0:n.errorMessages)||void 0===i?void 0:i.find(e=>"Confirmed"===e.key))this.openConfirmationModal(e);else if(t.isSuccess){if(this.autoRenewalOptInToggleService.setOptInOutValue(e),e&&this.messageService.deletePolicyMessage(M.BackInToAutoRenewal),this.renewalSelected=e,this.statusMessage={type:"success",icon:"icon-tick",heading:e?"Automatic renewal turned on":"Automatic renewal turned off"},this.renewalsLapseJourneyEnabled&&!e&&this.renewalExtracted&&this.daysUntilEnd<=30){let e=null;this.modalService.registerModal(()=>(e=this.bsModalService.show(cc,{ignoreBackdropClick:!0,class:"modal-lg",initialState:{expiryDate:this.date}}),e)),this.renewalLapseNavigatorService.startSurvey(e)}}else(null===(c=null===(o=t.validationResult)||void 0===o?void 0:o.errorMessages)||void 0===c?void 0:c.find(e=>"OptInValidationFailed"===e.key))?(this.statusMessage={type:"danger",heading:"Automatic renewal failed to turn on",description:"Sorry, you can't change your auto renewal status as we don't hold valid payment details for you. You'll need to manually renew your policy this year via the link in your renewal invitation email. If you need any support with your renewal please call us on<br /><a href=\"tel:03330432055\" class=\text-underline\">0333 043 2055</a>."},this.hideDisabledMessage=!0,this.toggleSwitch={value:!1,onText:"I wish to auto-renew",offText:"I do not wish to auto-renew"}):this.statusMessage={type:"danger",icon:"icon-cross",heading:"An error occurred while changing automatic renewal"}})}openConfirmationModal(e){this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(ac,{ignoreBackdropClick:!0,class:"modal-lg"}),this.modalRef)),this.modalRef.content.confirmedPopupCloseEvent.subscribe(t=>{t?this.onAutoRenewalChanged(e,!0):this.renewalSelected=!e})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(x.a),s.Rb(R.e),s.Rb(Te.a),s.Rb(a.b),s.Rb(_.a),s.Rb(O),s.Rb(wo))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-auto-renewal-settings"]],inputs:{policyRenewalAllowed:"policyRenewalAllowed",noValidPaymentCards:"noValidPaymentCards",hideDisabledMessage:"hideDisabledMessage",date:"date",renewalSelected:"renewalSelected",policyIsBeforeEndDate:"policyIsBeforeEndDate",renewalExtracted:"renewalExtracted",daysUntilEnd:"daysUntilEnd"},decls:13,vars:7,consts:[["id","policy-auto-renewal-settings",1,"row"],[1,"col"],[3,"content",4,"ngIf"],[1,"d-flex","flex-column","justify-content-between"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"row"],[1,"col-md-12"],[3,"toggleSwitchModel","disabled","valueChanged"],["class","row",4,"ngIf"],["autoRenewalIsOn",""],["autoRenewalIsOff",""],[3,"content"],[1,"col-md-12","mb-4"],[1,"badge","badge-status","badge-status-success"],[1,"icon","icon-functional"],[3,"innerHtml"],[1,"badge","badge-status","badge-status-danger"]],template:function(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Jc(2,lc,1,1,"app-alert",2),s.Xb(3,"div",3),s.Jc(4,bc,1,0,"div",4),s.Xb(5,"div",5),s.Xb(6,"div",6),s.Xb(7,"app-toggle-switch",7),s.fc("valueChanged",function(e){return t.onAutoRenewalChanged(e)}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Jc(8,dc,3,1,"div",8),s.Jc(9,uc,13,3,"ng-template",null,9,s.Kc),s.Jc(11,pc,13,3,"ng-template",null,10,s.Kc)),2&e){const e=s.Ac(10),n=s.Ac(12);s.Ab(2),s.pc("ngIf",t.statusMessage),s.Ab(2),s.pc("ngIf",t.toggleSwitch.value)("ngIfThen",e)("ngIfElse",n),s.Ab(3),s.pc("toggleSwitchModel",t.toggleSwitch)("disabled",!t.policyRenewalAllowed||t.noValidPaymentCards),s.Ab(1),s.pc("ngIf",!t.policyRenewalAllowed&&t.policyIsBeforeEndDate||t.noValidPaymentCards&&!t.hideDisabledMessage)}},directives:[r.p,rc,J.a],pipes:[G.a],styles:[".badge[_ngcontent-%COMP%]{font-weight:400}@media (max-width:768px){.badge[_ngcontent-%COMP%]{white-space:normal;text-align:left}}"]}),e})();function mc(e,t){if(1&e&&s.Sb(0,"app-auto-renewal-settings",12),2&e){const e=s.ic(2);s.pc("renewalSelected",e.policyDetails.renewalAutoAcceptSelected)("policyRenewalAllowed",e.policyDetails.renewalToggleAllowed)("date",e.policyDetails.endDate)("policyIsBeforeEndDate",e.policyDetails.isBeforeEndDate)("renewalExtracted",e.policyDetails.renewalExtracted)("daysUntilEnd",e.policyDetails.daysUntilEnd)}}function gc(e,t){if(1&e&&(s.Xb(0,"div",4),s.Xb(1,"div",1),s.Xb(2,"div",5),s.Xb(3,"div",6),s.Xb(4,"div",7),s.Xb(5,"div",8),s.Xb(6,"h2",9),s.Lc(7,"Auto renewal settings"),s.Wb(),s.Sb(8,"app-policies-select-list",10),s.Jc(9,mc,1,6,"app-auto-renewal-settings",11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.ic();s.pc("hidden",!e.policyDetails),s.Ab(8),s.pc("headerClass","heading-epsilon")("selectPolicyMessage","Please select the policy you wish to view renewal settings for")("inactivePoliciesAvailable",!1)("hideForSinglePolicy",!0),s.Ab(1),s.pc("ngIf",!!e.policyDetails)}}let fc=(()=>{class e{constructor(e,t,n,i){this.scriptsManagerService=e,this.loadingOverlay=t,this.policyService=n,this.route=i,this.isRenewalEnabled=!1}ngOnInit(){this.scriptsManagerService.initialize(),this.isRenewalEnabled=E.a.settings.client.optOutOfAutoRenewalOnline,this.route.queryParams.subscribe(e=>{e.policyId&&this.getPolicyDetails(e.policyId)})}getPolicyDetails(e){this.loadingOverlay.show(),this.policyService.getPolicyDetails$(e).pipe(Object(S.a)(()=>{this.loadingOverlay.close()})).subscribe(e=>{this.policyDetails=e})}ngOnDestroy(){this.scriptsManagerService.destroy()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(D.a),s.Rb(x.a),s.Rb(I.a),s.Rb(w.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-account-settings"]],decls:17,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-md-7","col-lg-5"],[1,"mb-4"],["class","row justify-content-center",3,"hidden",4,"ngIf"],[1,"row","justify-content-center",3,"hidden"],[1,"row"],[1,"col"],[1,"panel"],[1,"panel-content"],[1,"heading-delta","DinBold","mb-4"],[3,"headerClass","selectPolicyMessage","inactivePoliciesAvailable","hideForSinglePolicy"],[3,"renewalSelected","policyRenewalAllowed","date","policyIsBeforeEndDate","renewalExtracted","daysUntilEnd",4,"ngIf"],[3,"renewalSelected","policyRenewalAllowed","date","policyIsBeforeEndDate","renewalExtracted","daysUntilEnd"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"h1",2),s.Lc(3,"Account settings"),s.Wb(),s.Wb(),s.Wb(),s.Xb(4,"div",0),s.Xb(5,"div",1),s.Sb(6,"app-contact-details"),s.Wb(),s.Wb(),s.Xb(7,"div",0),s.Xb(8,"div",1),s.Sb(9,"app-change-password"),s.Wb(),s.Wb(),s.Xb(10,"div",0),s.Xb(11,"div",1),s.Sb(12,"app-marketing-preferences"),s.Wb(),s.Wb(),s.Xb(13,"div",0),s.Xb(14,"div",1),s.Sb(15,"app-access-to-personal-details"),s.Wb(),s.Wb(),s.Jc(16,gc,10,6,"div",3)),2&e&&(s.Ab(16),s.pc("ngIf",t.isRenewalEnabled))},directives:[no,bo,mo,fo,r.p,T.a,hc],styles:[""]}),e})();var vc=n("quSY");class yc extends A.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),vc.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),vc.a.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}var wc=n("itXk");function Cc(e,t){if(1&e&&(s.Xb(0,"div"),s.Xb(1,"p",21),s.Lc(2),s.Wb(),s.Wb()),2&e){const e=s.ic(2);s.Ab(2),s.Mc(e.errorMessage)}}function Wc(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",1),s.Xb(2,"h1",2),s.Lc(3,"Change password"),s.Wb(),s.Wb(),s.Xb(4,"div",3),s.Xb(5,"form",4),s.Xb(6,"div",5),s.Xb(7,"div",6),s.Xb(8,"p"),s.Lc(9),s.Wb(),s.Wb(),s.Wb(),s.Xb(10,"div",7),s.Xb(11,"label",8),s.Lc(12,"Old password *"),s.Wb(),s.Sb(13,"input",9),s.Sb(14,"app-validation-message",10),s.Wb(),s.Xb(15,"div",7),s.Xb(16,"label",11),s.Lc(17,"New password *"),s.Wb(),s.Sb(18,"input",12),s.Sb(19,"app-validation-message",13),s.Wb(),s.Xb(20,"div",14),s.Xb(21,"label",15),s.Lc(22,"Confirm new password *"),s.Wb(),s.Sb(23,"input",16),s.Sb(24,"app-validation-message",17),s.Wb(),s.Jc(25,Cc,3,1,"div",0),s.Xb(26,"button",18),s.fc("click",function(){return s.Ec(e),s.ic().changePassword()}),s.Lc(27,"Save"),s.Sb(28,"span",19),s.Wb(),s.Xb(29,"button",20),s.fc("click",function(){return s.Ec(e),s.ic().signOut()}),s.Lc(30,"Exit"),s.Wb(),s.Wb(),s.Wb(),s.Ub()}if(2&e){const e=s.ic();s.Ab(5),s.pc("formGroup",e.changePasswordForm),s.Ab(4),s.Mc(e.passwordWording),s.Ab(5),s.pc("control",e.oldPassword),s.Ab(5),s.qc("patternMessage",e.passwordWording),s.pc("control",e.newPassword),s.Ab(5),s.pc("control",e.newPasswordConfirmation),s.Ab(1),s.pc("ngIf",e.errorMessage)}}let Xc=(()=>{class e{constructor(e,t,n,i,o){this.fb=e,this.accountSettingsService=t,this.formService=n,this.authService=i,this.loadingOverlay=o,this.passwordWording="Password must contain between 8 and 20 characters, including at least one upper and one lower case letter, one number and one special character (e.g. !?@*&). Please do not include spaces."}get oldPassword(){var e;return null===(e=this.changePasswordForm)||void 0===e?void 0:e.get("oldPassword")}get newPassword(){var e;return null===(e=this.changePasswordForm)||void 0===e?void 0:e.get("newPassword")}get newPasswordConfirmation(){var e;return null===(e=this.changePasswordForm)||void 0===e?void 0:e.get("newPasswordConfirmation")}ngOnInit(){this.accountSettingsService.getPasswordValidation$().subscribe(e=>{this.passwordRegexList=e.data,this.changePasswordForm=this.createChangePasswordForm()})}changePassword(){this.formService.validateForm(this.changePasswordForm)&&this.formService.submitForm(this.changePasswordForm,this.accountSettingsService.changePassword$(this.changePasswordForm.value)).pipe(Object(co.a)(e=>e.isSuccess?this.authService.getCurrent({invalidateCache:!0}).pipe(Object(zn.a)(()=>e)):Object(oo.a)(e))).subscribe(e=>{this.success=e.isSuccess,this.success&&(this.passwordChanged$.next(),this.passwordChanged$.complete()),this.errorMessage=e.data})}signOut(){this.loadingOverlay.show(),this.authService.signOut().subscribe(e=>{e.isSuccess?window.location.href="/customer/login/accountlogin":window.location.reload()})}createChangePasswordForm(){return this.fb.group({oldPassword:["",Mn.B.required],newPassword:["",[Mn.B.required,Object(io.s)(this.passwordRegexList)]],newPasswordConfirmation:["",Mn.B.required]},{updateOn:"blur"})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Mn.e),s.Rb(F.a),s.Rb(Ii.a),s.Rb(xi.a),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-must-reset-password"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],[1,"modal-body","pb-4","pl-4","pr-4"],[3,"formGroup"],[1,"row","mb-4"],[1,"col"],[1,"form-group","mb-4"],["for","oldPassword",1,"heading-epsilon","form-question"],["id","oldPassword","type","password","formControlName","oldPassword",1,"form-control","sessioncamexclude"],["defaultMessage","Previous password is missing",3,"control"],["for","newPassword",1,"heading-epsilon","form-question"],["id","newPassword","type","password","formControlName","newPassword",1,"form-control","sessioncamexclude"],["requiredMessage","New password is missing",3,"control","patternMessage"],[1,"form-group"],["for","newPasswordConfirmation",1,"heading-epsilon","form-question"],["id","newPasswordConfirmation","type","password","formControlName","newPasswordConfirmation",1,"form-control","sessioncamexclude"],["defaultMessage","New password confirmation is missing",3,"control"],["type","button",1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3",3,"click"],[1,"icon","icon-functional","icon-arrow"],["type","button",1,"btn","btn-link","my-3",3,"click"],[1,"form-validation","form-validation-error"]],template:function(e,t){1&e&&s.Jc(0,Wc,31,7,"ng-container",0),2&e&&s.pc("ngIf",t.changePasswordForm)},directives:[r.p,Mn.C,Mn.s,Mn.j,Mn.b,Mn.r,Mn.h,Di.a],styles:[""]}),e})();var Sc=n("ROHl"),Lc=n("pLZG"),kc=n("JIr8"),Pc=n("06WG");function Mc(e,t){if(1&e&&s.Sb(0,"div",3),2&e){const e=s.ic();s.pc("innerHTML",e.htmlContent,s.Fc)}}let Ac=(()=>{class e{constructor(e){this.bsModalRef=e,this.initialState=this.bsModalRef.content}get htmlContent(){return this.initialState?this.initialState.content:""}close(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(a.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-dashboard-message"]],decls:5,vars:1,consts:[[1,"dashboardMessage"],["type","button","aria-label","Close",1,"close",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"button",1),s.fc("click",function(){return t.close()}),s.Xb(2,"span"),s.Lc(3,"\xd7"),s.Wb(),s.Wb(),s.Jc(4,Mc,1,1,"div",2),s.Wb()),2&e&&(s.Ab(4),s.pc("ngIf",t.htmlContent))},directives:[r.p],styles:[".close[_ngcontent-%COMP%]{font-size:3rem;font-weight:100;opacity:.8;color:#46154d;position:absolute;right:1.5rem;top:1.2rem}"]}),e})();var Oc=n("tk/3"),Ic=n("K8IN");let xc=(()=>{class e extends Sc.a{constructor(e,t,n,i){super(e),this.httpClient=e,this.modalService=t,this.bsModalService=n,this.popupHelper=i}setCurrentPopupToDisplay(){this.getRegisteredMessages().pipe(Object(Lc.a)(Boolean),Object(W.a)()).subscribe(()=>{this.findCurrentMessage(),this.displayMessage()})}getRegisteredMessages(){return this.registeredMessages?Object(oo.a)(this.registeredMessages):this.getPopupConfigurations$()}getPopupConfigurations$(){return this.get("configuration/customerDashboardPopup",null,null).pipe(Object(zn.a)(e=>{if(e.isSuccess)return this.registeredMessages=e.data,this.registeredMessages},Object(kc.a)(Pc.a.handleJsonResultError())))}findCurrentMessage(){if(this.registeredMessages&&this.registeredMessages.list)for(const e of this.registeredMessages.list)this.popupHelper.isPopupUnlocked("_dm_u_date_",e.id)&&(this.currentMessage=e)}displayMessage(){this.currentMessage&&(this.popupHelper.saveDisplayInStorage(this.currentMessage.reminderDuration,"_dm_u_date_",this.currentMessage.id),this.modalService.registerModal(()=>(this.dashboardMessageRef=this.bsModalService.show(Ac,{class:"modal-dialog-centered",ignoreBackdropClick:!0}),this.dashboardMessageRef)),this.dashboardMessageRef.content.initialState=this.currentMessage,this.currentMessage=null)}}return e.\u0275fac=function(t){return new(t||e)(s.bc(Oc.b),s.bc(Te.a),s.bc(a.b),s.bc(Ic.a))},e.\u0275prov=s.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Rc=n("IzEk"),Dc=n("sYjY");function _c(e,t){1&e&&s.Sb(0,"div",2)}function Tc(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",7),s.Xb(1,"h2",8),s.Lc(2,"Thank You!"),s.Wb(),s.Xb(3,"label",9),s.Lc(4,"We'll email you a reminder of your Multicar deal around 30 days before your other cars are due to renew."),s.Wb(),s.Xb(5,"div",10),s.Xb(6,"button",11),s.fc("click",function(){return s.Ec(e),s.ic(2).closePopUp()})("keydown.esc",function(){return s.Ec(e),s.ic(2).closePopUp()}),s.Lc(7,"Close "),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.ic(2);s.Ab(6),s.Cb("data-adobelaunch-id","",e.adobeTrackingPrefix,"-multicar-close-btn")}}function qc(e,t){if(1&e&&(s.Xb(0,"option",27),s.Lc(1),s.Wb()),2&e){const e=t.$implicit;s.pc("selected",e.selected)("value",e.value),s.Ab(1),s.Nc(" ",e.value," ")}}function Ec(e,t){if(1&e&&(s.Xb(0,"option",33),s.Lc(1),s.Wb()),2&e){const e=t.$implicit,n=s.ic().$implicit;s.pc("value",e.id)("selected",e.id==n.value.renewalMonth),s.Ab(1),s.Nc(" ",e.value," ")}}function Nc(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",28),s.Xb(1,"div",29),s.Xb(2,"div"),s.Xb(3,"label",30),s.Lc(4),s.Wb(),s.Xb(5,"div"),s.Xb(6,"select",31),s.fc("change",function(n){s.Ec(e);const i=t.index;return s.ic(3).onRenewalMonthChange(n.target,i)}),s.Jc(7,Ec,2,3,"option",32),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=t.index,n=s.ic(3);s.Ab(1),s.pc("formGroupName",e),s.Ab(3),s.Nc("What is the renewal month for your ",n.op.transform(e+2)," car?"),s.Ab(2),s.Cb("data-adobelaunch-id","",n.adobeTrackingPrefix,"-multicar-renewalMonth"),s.Ab(1),s.pc("ngForOf",n.renewalMonthsOptions)}}function Fc(e,t){1&e&&(s.Xb(0,"div"),s.Xb(1,"div",34),s.Xb(2,"label",9),s.Lc(3," You have already opted into email marketing. We will send a reminder at renewal with the details of the available Multicar deal."),s.Wb(),s.Wb(),s.Wb())}function jc(e,t){if(1&e&&(s.Xb(0,"div"),s.Xb(1,"div",34),s.Xb(2,"label",9),s.Lc(3," To receive a reminder at renewal with details of the available Multicar deal, please opt in to email marketing below."),s.Wb(),s.Wb(),s.Xb(4,"div",35),s.Xb(5,"label",9),s.Sb(6,"span",36),s.Xb(7,"b"),s.Lc(8,"Email"),s.Wb(),s.Sb(9,"br"),s.Lc(10,"No more than six Times a year with special offers and Information."),s.Wb(),s.Sb(11,"input",37),s.Wb(),s.Wb()),2&e){const e=s.ic(3);s.Ab(11),s.Cb("data-adobelaunch-id","",e.adobeTrackingPrefix,"-multicar-isContactByEmail")}}function Jc(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",12),s.Xb(1,"div",13),s.Xb(2,"h2",8),s.Lc(3,"Multicar reminder"),s.Wb(),s.Xb(4,"div",14),s.Xb(5,"img",15),s.fc("click",function(){return s.Ec(e),s.ic(2).closePopUp()}),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"form",16),s.Xb(7,"div",17),s.Xb(8,"label",18),s.Lc(9,"How many vehicles in your household? (including vehicle on the policy)"),s.Wb(),s.Xb(10,"div",19),s.Xb(11,"select",20),s.fc("change",function(t){return s.Ec(e),s.ic(2).onDropdownValueChange(t.target.value)}),s.Jc(12,qc,2,3,"option",21),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",17),s.Jc(14,Nc,8,4,"div",22),s.Wb(),s.Jc(15,Fc,4,0,"div",23),s.Jc(16,jc,12,1,"div",23),s.Wb(),s.Xb(17,"div",24),s.Xb(18,"button",25),s.fc("click",function(){return s.Ec(e),s.ic(2).submit()}),s.Lc(19,"Confirm"),s.Sb(20,"span",26),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.ic(2);s.Ab(6),s.pc("formGroup",e.multicarReminderForm),s.Ab(5),s.Cb("data-adobelaunch-id","",e.adobeTrackingPrefix,"-multicar-carsInHousehold"),s.Ab(1),s.pc("ngForOf",e.carsInHouseholdOptions),s.Ab(2),s.pc("ngForOf",e.multicarReminderForm.get("additionalCarsRenewalMonths").controls),s.Ab(1),s.pc("ngIf",e.isContactByEmail),s.Ab(1),s.pc("ngIf",!e.isContactByEmail),s.Ab(2),s.Cb("data-adobelaunch-id","",e.adobeTrackingPrefix,"-multicar-change-rewnwalMonths")}}function Uc(e,t){if(1&e&&(s.Xb(0,"div",3),s.Xb(1,"div",4),s.Jc(2,Tc,8,1,"div",5),s.Jc(3,Jc,21,7,"div",6),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(2),s.pc("ngIf",e.showSummary),s.Ab(1),s.pc("ngIf",!e.showSummary)}}let Bc=(()=>{class e{constructor(e,t,n){this.fb=e,this.loadingOverlayService=t,this.policyService=n,this.op=new Dc.a,this.isContactByEmail=!1,this.carsInHouseholdOptions=[{id:0,value:"1",selected:!1},{id:1,value:"2",selected:!1},{id:2,value:"3",selected:!1},{id:3,value:"4",selected:!1},{id:4,value:"5",selected:!1}],this.renewalMonthsOptions=[{id:2,value:"January"},{id:3,value:"February"},{id:4,value:"March"},{id:5,value:"April"},{id:6,value:"May"},{id:7,value:"June"},{id:8,value:"July"},{id:9,value:"August"},{id:10,value:"September"},{id:11,value:"Ocotber"},{id:12,value:"November"},{id:13,value:"December"},{id:0,value:""}],this.multicarReminderCloseEvent=new s.n,this.showMulticarReminderEvent=new s.n}ngOnInit(){this.multicarReminderForm=this.fb.group({additionalCarsRenewalMonths:this.fb.array([]),contactByEmail:["false",[Mn.B.required]],carsInHousehold:["",[Mn.B.required]]}),this.getMulticarEntityLead(),this.showMulticarReminder=!0,this.showSummary=!1}get renewalMonths(){return this.multicarReminderForm.controls.additionalCarsRenewalMonths}getMulticarEntityLead(){this.loadingOverlayService.show(),this.policyService.getMulticarEntityLead(this.policyId).subscribe(e=>{this.entityLead=e,this.multicarReminderForm.patchValue({carsInHousehold:e.additionalCarsRenewalMonths.length+1,contactByEmail:e.contactByEmail}),e.additionalCarsRenewalMonths.forEach(e=>{this.renewalMonths.push(this.fb.group({id:e.id,isRemoved:e.isRemoved,renewalMonth:e.renewalMonth}))}),this.isContactByEmail=e.contactByEmail,this.carsInHouseholdOptions[e.additionalCarsRenewalMonths.length].selected=!0,this.loadingOverlayService.close()})}submit(){if(this.multicarReminderForm.valid&&""!=this.multicarReminderForm.get("carsInHousehold").value){this.loadingOverlayService.show();const n=[];for(const e of this.renewalMonths.value)n.push({id:e.id,renewalMonth:e.renewalMonth,isRemoved:!1});if(this.renewalMonths.value.length<this.entityLead.additionalCarsRenewalMonths.length)for(var e=this.entityLead.additionalCarsRenewalMonths.length;e>=this.renewalMonths.value.length;e--){var t=this.entityLead.additionalCarsRenewalMonths[e];null!=t&&n.push({id:t.id,renewalMonth:t.renewalMonth,isRemoved:!0})}this.policyService.postMulticarEntityLead(this.policyId,{contactByEmail:this.multicarReminderForm.controls.contactByEmail.value,additionalCarsRenewalMonths:n}).subscribe(e=>{e&&(this.loadingOverlayService.close(),this.showSummary=!0)})}}closePopUp(){this.multicarReminderCloseEvent.emit()}onRenewalMonthChange(e,t){this.renewalMonths.at(t).get("renewalMonth").patchValue(e.value)}onDropdownValueChange(e){this.renewalMonths.clear();for(var t=0;t<e-1;t++){e>this.entityLead.additionalCarsRenewalMonths.length+1&&e==this.entityLead.additionalCarsRenewalMonths.length+1-t&&(this.entityLead.additionalCarsRenewalMonths[this.entityLead.additionalCarsRenewalMonths.length-t].isRemoved=!0);const n=this.fb.group({id:[""],isRemoved:["",Mn.B.required],renewalMonth:["",Mn.B.required]});let i=this.entityLead.additionalCarsRenewalMonths[t];null!=i?(n.patchValue({id:i.id,renewalMonth:i.renewalMonth,isRemoved:i.isRemoved}),this.renewalMonths.push(n)):(n.patchValue({id:null,renewalMonth:0,isRemoved:!1}),this.renewalMonths.push(n))}}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Mn.e),s.Rb(x.a),s.Rb(R.e))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-multicar-reminder"]],inputs:{policyId:"policyId",showMulticarReminderEvent:"showMulticarReminderEvent",adobeTrackingPrefix:"adobeTrackingPrefix"},outputs:{multicarReminderCloseEvent:"multicarReminderCloseEvent"},decls:2,vars:2,consts:[["class","multicar-insurance",4,"ngIf"],["class","multicar-insurance-inner bg-white container",4,"ngIf"],[1,"multicar-insurance"],[1,"multicar-insurance-inner","bg-white","container"],[1,"main-content"],["class","summary",4,"ngIf"],["class","multicarReminder",4,"ngIf"],[1,"summary"],[1,"text-secondary-purple"],[1,"form-check-label"],[1,"d-flex","justify-content-start","align-items-center","text-small"],["type","button",1,"btn","btn-icon","btn-icon-highlight",3,"click","keydown.esc"],[1,"multicarReminder"],[1,"header"],[1,"closeButton"],["src","assets/images/svg/x-cross-black.svg","alt","x","tabindex","0","role","button",1,"close-icon","p-1",3,"click"],["name","multicarReminderForm","id","multicarReminderForm",3,"formGroup"],[1,"multicar-insurance-row"],["id","multicarHeader"],[1,"carsInHousehold-select"],["formControlName","carsInHousehold","name","carsInHousehold",1,"form-control",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],["formArrayName","additionalCarsRenewalMonths",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"submit","d-flex","justify-content-start","align-items-center","text-small"],["type","button",1,"btn","btn-icon","btn-icon-highlight",3,"click"],[1,"icon","icon-functional","icon-arrow"],[3,"selected","value"],["formArrayName","additionalCarsRenewalMonths"],[3,"formGroupName"],["id","renewalMonthLabel"],[1,"form-control",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],[1,"emailReminderHeader","multicar-insurance-row"],[1,"multicar-insurance-row","emailReminder","form-check","flex-wrap","align-items-center","mb-3"],[1,"icon","icon-primary","icon-xsmall","icon-email","icon-roundel"],["type","checkbox","id","toggleDesktop","formControlName","contactByEmail","name","contactByEmail",1,"form-check-input"]],template:function(e,t){1&e&&(s.Jc(0,_c,1,0,"div",0),s.Jc(1,Uc,4,2,"div",1)),2&e&&(s.pc("ngIf",t.showMulticarReminder),s.Ab(1),s.pc("ngIf",t.showMulticarReminder))},directives:[r.p,Mn.C,Mn.s,Mn.j,Mn.A,Mn.r,Mn.h,r.o,Mn.v,Mn.D,Mn.d,Mn.k,Mn.a],styles:[".multicar-insurance[_ngcontent-%COMP%]{padding:4rem;position:fixed;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(0,0,0,.3);z-index:5000}.multicar-insurance-inner[_ngcontent-%COMP%]{width:calc(100% - 2rem);max-width:410px;height:auto;max-height:90%;overflow-y:auto;z-index:5100;position:fixed;left:50%;top:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-radius:4px;padding:2rem 1.5rem 3em 1.5em}.multicar-insurance-inner[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{z-index:100}.header[_ngcontent-%COMP%]{position:relative}.main-content[_ngcontent-%COMP%]{max-width:390px}.multicarReminder[_ngcontent-%COMP%]{max-width:320px}.multicar-insurance-inner[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.closeButton[_ngcontent-%COMP%]{position:absolute;top:7%;left:106%}.multicar-insurance-inner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1em;font-family:Justus Pro Bold Italic;font-size:2rem}.emailReminderHeader[_ngcontent-%COMP%]{margin-top:30px}.multicar-insurance-row[_ngcontent-%COMP%]{margin-bottom:1em}.emailReminder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 15px -25px -55px}.emailReminder[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;padding-left:4em;width:75%}.emailReminder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:10%;left:85%;height:1em;width:1em;border-radius:3px}.summary[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:40px;font-family:DIN Pro,sans-serif;font-weight:300;font-size:.9rem}.form-control[_ngcontent-%COMP%]{border-radius:0;padding:.3rem .75rem;font-size:14px}.submit[_ngcontent-%COMP%]{margin-top:55px}.close-icon[_ngcontent-%COMP%]{opacity:.5;height:25px}"]}),e})();function Vc(e,t){if(1&e){const e=s.Yb();s.Xb(0,"button",15),s.fc("click",function(){return s.Ec(e),s.ic().openPopUp()}),s.Lc(1," Add renewal months "),s.Wb()}}function Yc(e,t){if(1&e){const e=s.Yb();s.Xb(0,"app-multicar-reminder",16),s.fc("multicarReminderCloseEvent",function(){return s.Ec(e),s.ic().multicarReminderClosed()}),s.Wb()}if(2&e){const e=s.ic();s.pc("adobeTrackingPrefix",e.adobeTrackingPrefix)("policyId",e.policyId)}}let $c=(()=>{class e{constructor(e,t){this.modalService=e,this.bsModalService=t,this.adobeTrackingPrefix="multicarbanner"}ngOnInit(){this.showMultiCarCampaignOffering=!1}openPopUp(){this.showMultiCarCampaignOffering=!0}multicarReminderClosed(){this.showMultiCarCampaignOffering=!1}getNextQuote(){this.modalService.registerModal(()=>this.bsModalService.show(ti,{class:"modal-sm modal-dialog-centered no-border",ignoreBackdropClick:!0}))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Te.a),s.Rb(a.b))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-multicar-banner"]],inputs:{policyId:"policyId",showAddRenewalMonths:"showAddRenewalMonths"},decls:22,vars:3,consts:[[1,"d-flex","flex-column","flex-md-row","panel-content","panel-promo","rounded","banner","flex-md-wrap"],[1,"row","d-flex","flex-row","m-0","col-md-12","px-0"],[1,"col-auto","col-md-2","pl-0"],["src","../../../../assets/images/fcn21-car.png",1,"icon","icon-primary","banner-icon","icon-roundel","icon-account"],[1,"col","col-md-10","px-0"],[1,"banner-header","text-white"],[1,"row","d-flex","flex-row","my-3","col-12","px-0","mx-auto"],[1,"d-none","d-md-block","col-auto","col-md-2","px-0"],[1,"col","px-0"],[1,"text-white","banner-text"],[1,"row","d-flex","flex-row","col-12","px-0","mx-auto"],[1,"col-12","px-0"],["type","button",1,"btn","text-nowrap","mb-3","mb-md-0","banner-button",3,"click"],["type","button","class","btn text-nowrap banner-button",3,"click",4,"ngIf"],[3,"adobeTrackingPrefix","policyId","multicarReminderCloseEvent",4,"ngIf"],["type","button",1,"btn","text-nowrap","banner-button",3,"click"],[3,"adobeTrackingPrefix","policyId","multicarReminderCloseEvent"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Sb(3,"img",3),s.Wb(),s.Xb(4,"div",4),s.Xb(5,"span",5),s.Lc(6," Save \xa350 on each additional car with our Multicar deal "),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",6),s.Sb(8,"div",7),s.Xb(9,"div",8),s.Xb(10,"span",9),s.Lc(11," As an existing customer of 1"),s.Xb(12,"sup"),s.Lc(13,"st"),s.Wb(),s.Lc(14," CENTRAL, you can get a \xa350 discount for each additional vehicle you or anyone in your household insures with us directly through our website. "),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",10),s.Sb(16,"div",7),s.Xb(17,"div",11),s.Xb(18,"button",12),s.fc("click",function(){return t.getNextQuote()}),s.Lc(19," Get a Multicar quote "),s.Wb(),s.Jc(20,Vc,2,0,"button",13),s.Wb(),s.Wb(),s.Wb(),s.Jc(21,Yc,1,2,"app-multicar-reminder",14)),2&e&&(s.Ab(18),s.Cb("data-adobelaunch-id","",t.adobeTrackingPrefix,"-getaquote-btn"),s.Ab(2),s.pc("ngIf",t.showAddRenewalMonths),s.Ab(1),s.pc("ngIf",t.showMultiCarCampaignOffering))},directives:[r.p,Bc],styles:['.banner[_ngcontent-%COMP%]{background-position:0 0;position:relative;min-height:auto;overflow:hidden}.banner[_ngcontent-%COMP%]:before{background-image:url(fcn21-background.734335e7dd60b6af7ce9.png);background-position:100% 0;background-repeat:no-repeat;background-size:250%;content:"";height:100%;left:-1rem;position:absolute;top:.5rem;width:100%}.banner[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.banner[_ngcontent-%COMP%]   .banner-header[_ngcontent-%COMP%]{font-family:Din Bold,-apple-system,Arial,Helvetica Neue,sans-serif;font-size:20px;font-size:15pt;line-height:1.35}.banner[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{font-size:.85rem}@media screen and (max-width:360px){.banner[_ngcontent-%COMP%]   .banner-header[_ngcontent-%COMP%]{font-size:1.0625rem}}@media screen and (min-width:768px){.banner[_ngcontent-%COMP%]{background-position:0 0;position:relative;min-height:auto}.banner[_ngcontent-%COMP%]:before{background-size:145%;left:-3rem;top:1rem}.banner[_ngcontent-%COMP%]   .banner-icon[_ngcontent-%COMP%]{width:5rem;height:5rem;position:absolute}.banner[_ngcontent-%COMP%]   .banner-text[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (min-width:1200px){.banner[_ngcontent-%COMP%]:before{background-size:105%;left:-5rem}}']}),e})();const Hc=function(){return["/customer/quote"]},Qc=function(){return["/customer/documents"]},Kc=function(){return["/finance"]},Gc=function(e){return{policyId:e}},zc=function(){return["/customer/claimsenol"]};function Zc(e,t){if(1&e&&(s.Vb(0),s.Xb(1,"div",10),s.Xb(2,"a",11),s.Xb(3,"div",12),s.Sb(4,"span",13),s.Xb(5,"h3",14),s.Lc(6,"Quotes"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",10),s.Xb(8,"a",11),s.Xb(9,"div",12),s.Sb(10,"span",15),s.Xb(11,"h3",14),s.Lc(12,"Documents"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",10),s.Xb(14,"a",16),s.Xb(15,"div",12),s.Sb(16,"span",17),s.Xb(17,"h3",14),s.Lc(18,"Payments"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(19,"div",10),s.Xb(20,"a",11),s.Xb(21,"div",12),s.Sb(22,"span",18),s.Xb(23,"h3",14),s.Lc(24,"Claims"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()),2&e){const e=s.ic();s.Ab(2),s.pc("routerLink",s.tc(5,Hc)),s.Ab(6),s.pc("routerLink",s.tc(6,Qc)),s.Ab(6),s.pc("routerLink",s.tc(7,Kc))("queryParams",s.uc(8,Gc,e.policyId)),s.Ab(6),s.pc("routerLink",s.tc(10,zc))}}function ea(e,t){1&e&&(s.Vb(0),s.Xb(1,"div",19),s.Xb(2,"a",11),s.Xb(3,"div",20),s.Sb(4,"span",21),s.Xb(5,"h3",22),s.Lc(6,"Quotes"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(7,"div",19),s.Xb(8,"a",11),s.Xb(9,"div",20),s.Sb(10,"span",23),s.Xb(11,"h3",22),s.Lc(12,"Documents"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",19),s.Xb(14,"a",11),s.Xb(15,"div",20),s.Sb(16,"span",24),s.Xb(17,"h3",22),s.Lc(18,"Claims"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()),2&e&&(s.Ab(2),s.pc("routerLink",s.tc(3,Hc)),s.Ab(6),s.pc("routerLink",s.tc(4,Qc)),s.Ab(6),s.pc("routerLink",s.tc(5,zc)))}function ta(e,t){if(1&e&&(s.Xb(0,"div",25),s.Sb(1,"app-multicar-banner",26),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("showAddRenewalMonths",e.multicarBannerInYourAccount)("policyId",e.policyId)}}const na=function(){return["/home/getintouch"]},ia=function(){return["/customer/account/makecontactdetailschanges"]};let oa=(()=>{class e{constructor(e,t,n){this.route=e,this.policyService=t,this.overlayService=n,this.multicarBannerInYourAccount=E.a.settings.client.multicarBannerInYourAccount,this.destroyed$=new A.a}ngOnInit(){this.route.queryParams.subscribe(e=>{e.policyId&&(this.policyId=e.policyId,this.overlayService.show(),this.policyService.isPolicyOnFinance$(e.policyId).pipe(Object(Y.a)(this.destroyed$),Object(Rc.a)(1),Object(S.a)(()=>this.overlayService.close())).subscribe(e=>this.isSelectedPolicyOnFinance=e))})}get shouldShowMulticarBanner(){return this.policy&&this.policy.policyStatus&&!(this.policy.policyStatus===N.j.Cancelled.toString()||this.policy.policyStatus===N.j.Expired.toString()||this.policy.policyStatus===N.j.Lapsed.toString()||this.policy.policyStatus===N.j.NTU.toString()||this.policy.policyStatus===N.j.PendingCancellation.toString()||this.policy.endDate<=new Date)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(R.e),s.Rb(x.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-dashboard-links"]],inputs:{policy:"policy"},decls:16,vars:10,consts:[[1,"dashboard-links","row","align-items-stretch","justify-content-center"],[4,"ngIf"],["class","col-12 mt-2 mb-2",4,"ngIf"],[1,"col-12"],[1,"panel","panel-full","dashboard-button",3,"routerLink"],[1,"panel-content","d-flex","flex-row","justify-content-start","align-items-center"],[1,"icon","icon-secondary","icon-xsmall","icon-speech-bubble","icon-roundel"],[1,"dashboard-button-text","heading-gamma","ml-3","mt-0"],[1,"panel","panel-full","dashboard-button",3,"routerLink","queryParams"],[1,"icon","icon-secondary","icon-xsmall","icon-settings","icon-roundel"],[1,"col-6","col-md"],[1,"panel","dashboard-button","dashboard-button-feature",3,"routerLink"],[1,"panel-content","panel-content-reduced","d-flex","flex-column","justify-content-center","align-items-center"],[1,"icon","icon-primary","icon-quotes","icon-roundel"],[1,"dashboard-button-text","heading-gamma","heading-reduced"],[1,"icon","icon-primary","icon-documents","icon-roundel"],[1,"panel","dashboard-button","dashboard-button-feature",3,"routerLink","queryParams"],[1,"icon","icon-primary","icon-payments","icon-roundel"],[1,"icon","icon-primary","icon-claims","icon-roundel"],[1,"col-12","col-md-4"],[1,"panel-content","d-flex","flex-row","flex-md-column","justify-content-start","justify-content-md-center","align-items-center"],[1,"icon","icon-primary","icon-xsmall","icon-quotes","icon-roundel"],[1,"dashboard-button-text","heading-gamma","ml-3","ml-md-0","mt-0","mt-md-3"],[1,"icon","icon-primary","icon-xsmall","icon-documents","icon-roundel"],[1,"icon","icon-primary","icon-xsmall","icon-claims","icon-roundel"],[1,"col-12","mt-2","mb-2"],[3,"showAddRenewalMonths","policyId"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Jc(1,Zc,25,11,"ng-container",1),s.Jc(2,ea,19,6,"ng-container",1),s.Jc(3,ta,2,2,"div",2),s.Xb(4,"div",3),s.Xb(5,"a",4),s.Xb(6,"div",5),s.Sb(7,"span",6),s.Xb(8,"h3",7),s.Lc(9,"Contact"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(10,"div",3),s.Xb(11,"a",8),s.Xb(12,"div",5),s.Sb(13,"span",9),s.Xb(14,"h3",7),s.Lc(15,"Account settings"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(1),s.pc("ngIf",t.isSelectedPolicyOnFinance),s.Ab(1),s.pc("ngIf",!t.isSelectedPolicyOnFinance),s.Ab(1),s.pc("ngIf",t.shouldShowMulticarBanner),s.Ab(2),s.pc("routerLink",s.tc(6,na)),s.Ab(6),s.pc("routerLink",s.tc(7,ia))("queryParams",s.uc(8,Gc,t.policyId)))},directives:[r.p,w.j,$c],styles:[".dashboard-links[_ngcontent-%COMP%]   .panel-content-reduced[_ngcontent-%COMP%]{word-break:normal}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.hover[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:hover{background:#f8f8f8;cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.hover[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.hover[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:hover   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.focus[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:focus{background:#f8f8f8;box-shadow:0 0 .125rem .125rem rgba(11,168,141,.75),0 .25rem .5rem rgba(66,56,59,.2);cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.focus[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:focus   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.focus[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:focus   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active{background:#0ba88d;cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active   .dashboard-button-text[_ngcontent-%COMP%]{color:#fff}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active.focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active.focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus{background:#f8f8f8;cursor:pointer;text-decoration:none;box-shadow:0 0 .125rem .125rem rgba(11,168,141,.75),0 .25rem .5rem rgba(66,56,59,.2)}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active.focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active.focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active.focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active.focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).focus, .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):focus{background:#f8f8f8;cursor:pointer;text-decoration:none;box-shadow:0 0 .125rem .125rem rgba(11,168,141,.75),0 .25rem .5rem rgba(66,56,59,.2)}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).focus   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):focus   .icon[_ngcontent-%COMP%]{background-color:#0ba88d}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled).focus   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:not(:disabled):not(.disabled):focus   .dashboard-button-text[_ngcontent-%COMP%]{color:#206d63}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.disabled[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:disabled{background:#f8f8f8;cursor:pointer;text-decoration:none}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.disabled[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:disabled   .icon[_ngcontent-%COMP%]{background-color:#a3a3a3}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button.disabled[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%], .dashboard-links[_ngcontent-%COMP%]   .dashboard-button[_ngcontent-%COMP%]:disabled   .dashboard-button-text[_ngcontent-%COMP%]{color:#a3a3a3}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]{font-family:Justus Pro Bold Italic}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]   .heading-reduced[_ngcontent-%COMP%]{font-size:1.25rem}@media (max-width:420px){.dashboard-links[_ngcontent-%COMP%]   .panel-content-reduced[_ngcontent-%COMP%]{padding:1rem .5rem}}@media (min-width:768px){.icon-roundel[_ngcontent-%COMP%]{width:4rem;max-width:4rem;height:4rem}.dashboard-links[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]{font-size:1.25rem}}@media (min-width:1200px){.dashboard-links[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]:not(.panel-content-reduced)   .dashboard-button-text[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-links[_ngcontent-%COMP%]   .panel-content.panel-content-reduced[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-links[_ngcontent-%COMP%]   .panel-content.panel-content-reduced[_ngcontent-%COMP%]   .dashboard-button-text[_ngcontent-%COMP%]{font-size:1.25rem}}"]}),e})(),ca=(()=>{class e{constructor(e,t){this.modalService=e,this.bsModalService=t}ngOnInit(){}get getReferFriendClass(){return"col-md-12"}getNextQuote(){this.modalService.registerModal(()=>this.bsModalService.show(ti,{class:"modal-sm modal-dialog-centered no-border",ignoreBackdropClick:!0}))}get getAQuoteUrl(){return E.a.settings.client.getAQuoteForAdditionalCarUrl}get startRefferingUrl(){return E.a.settings.client.startRefferingUrl}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(Te.a),s.Rb(a.b))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-promo"]],inputs:{policy:"policy"},decls:14,vars:2,consts:[[1,"row","align-items-stretch","justify-content-center"],[1,"d-flex","align-items-stretch",3,"ngClass"],[1,"panel"],[1,"panel-content","panel-content-tight","p-4"],[1,"heading-delta"],[1,"panel-text","mb-4"],[1,"btn",3,"href"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"h2",4),s.Lc(5,"Refer a friend"),s.Wb(),s.Xb(6,"p",5),s.Lc(7," Refer a friend to 1"),s.Xb(8,"sup"),s.Lc(9,"ST"),s.Wb(),s.Lc(10," CENTRAL, and you'll get a \xa330 Amazon Gift Certificate if they buy a policy. Your friend gets a \xa315 Amazon Gift Certificate too. Terms and conditions apply. "),s.Wb(),s.Xb(11,"p"),s.Xb(12,"a",6),s.Lc(13,"Start referring"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(1),s.pc("ngClass",t.getReferFriendClass),s.Ab(11),s.pc("href",t.startRefferingUrl,s.Gc))},directives:[r.n],styles:[""]}),e})();function aa(e,t){1&e&&s.Tb(0)}function sa(e,t){if(1&e&&(s.Vb(0),s.Jc(1,aa,1,0,"ng-container",42),s.Ub()),2&e){const e=s.ic(2),t=s.Ac(52),n=s.Ac(54);s.Ab(1),s.pc("ngIf",e.policy.autoRenewal)("ngIfThen",t)("ngIfElse",n)}}function ra(e,t){1&e&&s.Tb(0)}function la(e,t){if(1&e&&(s.Xb(0,"div",39),s.Jc(1,sa,2,3,"ng-container",40),s.Jc(2,ra,1,0,"ng-container",41),s.Wb()),2&e){const e=s.ic(),t=s.Ac(56);s.Ab(1),s.pc("ngIf",!e.policy.renewalDeclined),s.Ab(1),s.pc("ngIf",e.policy.renewalDeclined)("ngIfThen",t)}}const ba=function(){return["/customer/account"]},da=function(e){return{policyId:e}};function ua(e,t){if(1&e&&(s.Xb(0,"p",43),s.Lc(1,"It's time to renew"),s.Wb(),s.Xb(2,"p",44),s.Lc(3,"Your policy "),s.Xb(4,"b",20),s.Lc(5),s.Wb(),s.Lc(6," is due to automatically renew on the "),s.Sb(7,"b",45),s.jc(8,"nthDate"),s.Lc(9,". "),s.Wb(),s.Xb(10,"p"),s.Lc(11,"You can easily make changes to your renewal by visiting "),s.Xb(12,"a",46),s.Lc(13,"manage your policy"),s.Wb(),s.Lc(14,"."),s.Wb(),s.Xb(15,"div",0),s.Xb(16,"div",47),s.Sb(17,"app-progress-bar",48),s.Wb(),s.Xb(18,"div",49),s.Xb(19,"b",20),s.Lc(20),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(5),s.Mc(e.policy.policyKey),s.Ab(2),s.pc("innerHTML",s.kc(8,8,e.policy.renewalStartDate),s.Fc),s.Ab(5),s.pc("routerLink",s.tc(10,ba))("queryParams",s.uc(11,da,e.policyId)),s.Ab(5),s.pc("currentValue",e.progressBarDays)("maxValue",30)("colorChangeTreshold",23),s.Ab(3),s.Nc("",e.policy.daysUntilEnd," days until your policy automatically renews")}}function pa(e,t){if(1&e&&(s.Xb(0,"p",43),s.Lc(1,"Your policy will expire"),s.Wb(),s.Xb(2,"p",44),s.Lc(3,"Your policy is due for renewal on the "),s.Sb(4,"b",45),s.jc(5,"nthDate"),s.Lc(6," but isn\u2019t set to automatically renew."),s.Wb(),s.Xb(7,"p"),s.Lc(8,"You can easily renew your policy or make changes by visiting "),s.Xb(9,"a",46),s.Lc(10,"manage your policy"),s.Wb(),s.Lc(11,"."),s.Wb(),s.Xb(12,"div",0),s.Xb(13,"div",47),s.Sb(14,"app-progress-bar",48),s.Wb(),s.Xb(15,"div",49),s.Xb(16,"b",20),s.Lc(17),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.pc("innerHTML",s.kc(5,7,e.policy.endDate),s.Fc),s.Ab(5),s.pc("routerLink",s.tc(9,ba))("queryParams",s.uc(10,da,e.policyId)),s.Ab(5),s.pc("currentValue",e.progressBarDays)("maxValue",30)("colorChangeTreshold",23),s.Ab(3),s.Nc(" ",e.policy.daysUntilEnd," days until your cover ends")}}function ha(e,t){if(1&e&&(s.Xb(0,"p",43),s.Lc(1,"Your policy will expire"),s.Wb(),s.Xb(2,"p"),s.Lc(3,"Unfortunately, based on your current details we\u2019re unable to offer you a renewal for next year. If all your details are up to date, you\u2019ll need to seek alternative insurance. If you\u2019d like to discuss this further, please call "),s.Xb(4,"a",50),s.Lc(5,"0333 043 2055"),s.Wb(),s.Lc(6,". We\u2019ll email you your No Claims Discount on the day your cover ends."),s.Wb(),s.Xb(7,"div",0),s.Xb(8,"div",47),s.Sb(9,"app-progress-bar",48),s.Wb(),s.Xb(10,"div",49),s.Xb(11,"b",20),s.Lc(12),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(9),s.pc("currentValue",e.progressBarDays)("maxValue",30)("colorChangeTreshold",23),s.Ab(3),s.Nc("",e.policy.daysUntilEnd," days until your cover ends")}}const ma=function(){return["/adjustment/home/adjustmentchanges"]};let ga=(()=>{class e{constructor(e,t,n){this.route=e,this.policyService=t,this.policyMessagesService=n,this.isPolicyLive=!1,this.isPolicyVoid=!1,this.renewalQuoteJourneyInYourAccount=E.a.settings.client.renewalQuoteJourneyInYourAccount}set policy(e){this._policyDetails=e,this.ncdYears=this._policyDetails.ncdYears,this.progressBarDays=this._policyDetails.daysUntilEnd>30?1:30-this._policyDetails.daysUntilEnd+1}get policyId(){return this.route.snapshot.queryParams.policyId}get policy(){return this._policyDetails}ngOnInit(){this.policyMessagesService.policyAdjustmentLocked$.subscribe(e=>{this.policyChangesLocked=e}),this.route.queryParams.subscribe(e=>{e.policyId&&(this.policyService.isPolicyLive$(e.policyId).subscribe(e=>{this.isPolicyLive=e}),this.policyService.isPolicyVoid$(e.policyId).subscribe(e=>{this.isPolicyVoid=e}))})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(w.a),s.Rb(R.e),s.Rb(_.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-policy-details"]],inputs:{policy:"policy"},decls:57,vars:27,consts:[[1,"row"],[1,"col"],[1,"panel","mt-0","mt-md-3"],[1,"panel-content","panel-promo","text-reversed","py-md-3"],[1,"row","banner-content"],[1,"col","col-auto","pr-0","pr-lg-3"],[1,"icon","icon-primary","icon-medium","icon-roundel","icon-account"],[1,"col","d-md-flex","d-lg-flex","panel-promo-cta"],[1,"heading-delta","text-white","my-md-0","mr-md-3","pr-3","pr-lg-3"],["type","button",1,"btn","text-nowrap","mr-lg-n-2",3,"routerLink","queryParams","disabled"],[1,"panel-content"],[1,"row","justify-content-end","align-items-start"],[1,"col-12","col-md-5","mb-4","order-md-1"],[3,"status"],[1,"DinMedium"],[1,"col-12","col-md-7","order-md-0","pr-md-0"],[1,"row","icon-content-label","mb-4","mb-md-0"],[1,"col","col-auto","h-100"],[1,"icon","icon-secondary","icon-large","icon-hire-car"],[1,"col","d-flex","flex-column"],[1,"heading-epsilon"],[1,"mb-0","mb-md-2","text-small"],[1,"mt-auto"],[1,"badge","badge-reg-plate",3,"innerHTML"],[1,"col-12","col-md-5","mb-4","order-md-2"],[1,"heading-epsilon","mb-1"],[3,"innerHTML"],[1,"row","align-items-start"],[1,"col-12","col-md-5","order-md-1","mb-4","mb-md-0"],[3,"isPolicyLive","isPolicyVoid","ncdYears"],[1,"col-12","col-md-7","order-md-0","mt-md-5"],["appInfoTooltip","Here you can get a quote for, or make changes to your policy, as well as view details of your cover."],[1,"row","flex-wrap","align-items-center","m-0"],["type","button",1,"btn",3,"routerLink","queryParams"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","mr-2","mr-xl-0"],["class","panel-content panel-highlight pt-4",4,"ngIf"],["autoRenewalTemplate",""],["manualRenewalTemplate",""],["declinedRenewalTemplate",""],[1,"panel-content","panel-highlight","pt-4"],[4,"ngIf"],[4,"ngIf","ngIfThen"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"heading-delta"],[1,"mb-0"],[1,"heading-epsilon",3,"innerHTML"],[1,"text-underline","font-weight-normal",3,"routerLink","queryParams"],[1,"col-md-5","pb-1","pr-md-0"],[3,"currentValue","maxValue","colorChangeTreshold"],[1,"col-md-7"],["href","tel:03330432055"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"div",4),s.Xb(5,"div",5),s.Xb(6,"p"),s.Sb(7,"span",6),s.Wb(),s.Wb(),s.Xb(8,"div",7),s.Xb(9,"p",8),s.Lc(10," Save money when you make changes online in Your Account "),s.Wb(),s.Xb(11,"button",9),s.Lc(12,"Make a change"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(13,"div",10),s.Xb(14,"div",11),s.Xb(15,"div",12),s.Sb(16,"app-status-badge",13),s.Xb(17,"p",14),s.Lc(18),s.Wb(),s.Wb(),s.Xb(19,"div",15),s.Xb(20,"div",16),s.Xb(21,"div",17),s.Xb(22,"p"),s.Sb(23,"span",18),s.Wb(),s.Wb(),s.Xb(24,"div",19),s.Xb(25,"h2",20),s.Lc(26,"Your car"),s.Wb(),s.Xb(27,"p",21),s.Lc(28),s.Wb(),s.Xb(29,"p",22),s.Sb(30,"span",23),s.jc(31,"regFormat"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(32,"div",24),s.Xb(33,"h2",25),s.Lc(34,"Policy start and end date"),s.Wb(),s.Xb(35,"p"),s.Sb(36,"span",26),s.jc(37,"nthDate"),s.Lc(38," - "),s.Sb(39,"span",26),s.jc(40,"nthDate"),s.Wb(),s.Wb(),s.Wb(),s.Xb(41,"div",27),s.Xb(42,"div",28),s.Sb(43,"app-no-claims-discount",29),s.Wb(),s.Xb(44,"div",30),s.Xb(45,"div",31),s.Xb(46,"div",32),s.Xb(47,"button",33),s.Lc(48,"Manage your policy"),s.Wb(),s.Sb(49,"span",34),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Jc(50,la,3,3,"div",35),s.Wb(),s.Wb(),s.Wb(),s.Jc(51,ua,21,13,"ng-template",null,36,s.Kc),s.Jc(53,pa,18,12,"ng-template",null,37,s.Kc),s.Jc(55,ha,13,4,"ng-template",null,38,s.Kc)),2&e&&(s.Ab(11),s.pc("routerLink",s.tc(21,ma))("queryParams",s.uc(22,da,t.policyId))("disabled",t.policyChangesLocked),s.Ab(5),s.pc("status",t.policy.policyStatus),s.Ab(2),s.Mc(t.policy.policyKey),s.Ab(10),s.Mc(t.policy.vehicleModel),s.Ab(2),s.pc("innerHTML",s.kc(31,15,t.policy.vehicleRegistration),s.Fc),s.Ab(6),s.pc("innerHTML",s.kc(37,17,t.policy.startDate),s.Fc),s.Ab(3),s.pc("innerHTML",s.kc(40,19,t.policy.endDate),s.Fc),s.Ab(4),s.pc("isPolicyLive",t.isPolicyLive)("isPolicyVoid",t.isPolicyVoid)("ncdYears",t.ncdYears),s.Ab(4),s.pc("routerLink",s.tc(24,ba))("queryParams",s.uc(25,da,t.policyId)),s.Ab(3),s.pc("ngIf",t.renewalQuoteJourneyInYourAccount&&t.isPolicyLive&&t.policy.renewalExtracted))},directives:[w.h,$.a,_e,H.a,r.p,w.j,K],pipes:[ye.a,G.a],styles:[".info-box[_ngcontent-%COMP%]:after, .info-box[_ngcontent-%COMP%]:before{left:1rem}@media (max-width:320px){.icon-content-label[_ngcontent-%COMP%]   .heading-epsilon[_ngcontent-%COMP%]{margin-bottom:0}.icon-content-label[_ngcontent-%COMP%]   .text-small[_ngcontent-%COMP%]{font-size:.85rem}}@media (min-width:768px){.icon-content-label[_ngcontent-%COMP%]{height:97px}.banner-content[_ngcontent-%COMP%]{max-height:80px}}@media (min-width:992px){.icon-content-label[_ngcontent-%COMP%]{height:104px}}"]}),e})();const fa=["passwordChangedConfirmationModal"],va=function(e){return{"mb-4":e}};function ya(e,t){if(1&e&&(s.Xb(0,"div",2),s.Xb(1,"p",7),s.Lc(2),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("ngClass",s.uc(2,va,!(e.messages&&e.messages.length))),s.Ab(1),s.Nc(" Welcome back ",e.dashboardPolicyDetails.customerName,"! ")}}function wa(e,t){if(1&e&&(s.Xb(0,"div",2),s.Sb(1,"app-messages",8),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.pc("messages",e.messages)}}function Ca(e,t){if(1&e&&s.Sb(0,"app-policy-details",4),2&e){const e=s.ic();s.pc("policy",e.dashboardPolicyDetails)}}function Wa(e,t){if(1&e){const e=s.Yb();s.Xb(0,"button",9),s.fc("click",function(){return s.Ec(e),s.ic().confirmationModalRef.hide()}),s.Xb(1,"span",10),s.Lc(2,"\xd7"),s.Wb(),s.Wb(),s.Sb(3,"app-alert",11)}if(2&e){const e=s.ic();s.Ab(3),s.pc("content",e.passwordChangedMessageModel)}}let Xa=(()=>{class e{constructor(e,t,n,i,o,c,a,s,r,l){this.policyService=e,this.route=t,this.loadingOverlay=n,this.titleService=i,this.scriptsManagerService=o,this.dashboardMessageService=c,this.policyMessagesService=a,this.authenticationService=s,this.bsModalService=r,this.modalService=l,this.passwordChangedMessageModel={type:"success",icon:"icon-tick",heading:"Thank you for updating your password"},this.dashboardInitialized$=new yc,this.wasPasswordChanged=!1,this.titleService.setTitle("Dashboard")}ngOnInit(){this.route.queryParams.subscribe(e=>{e.policyId&&this.getDashboardPolicyDetails()}),Object(wc.a)([this.authenticationService.getCurrent().pipe(Object(W.a)()),this.policyMessagesService.policyMessages$,this.dashboardInitialized$]).subscribe(([e,t])=>{this.messages=t.filter(e=>!e.policyKey||e.type===M.OutstandingPayment||e.type===M.UnsignedCreditAgreement||e.type===M.UnpaidPrevalidatedMTA||e.type===M.MissingDrivingLicenceNumber||e.type===M.Renewal||e.type===M.ManualRenewal||e.type===M.ChangesUnavailable||e.type===M.BackInToAutoRenewal||e.type===M.CustomerCantMakeChangesAfterCFSLock),e.mustResetPassword&&!this.wasPasswordChanged?this.openChangePasswordModal():this.dashboardMessageService.setCurrentPopupToDisplay()}),this.changesLocked=this.policyMessagesService.policyAdjustmentLocked$.pipe(Object(X.a)())}ngOnDestroy(){this.scriptsManagerService.destroy()}getDashboardPolicyDetails(){this.loadingOverlay.show(),this.policyService.getDashboardPolicyDetails$(this.route.snapshot.queryParams.policyId).pipe(Object(zn.a)(e=>{this.dashboardPolicyDetails=e,this.scriptsManagerService.initializeDashboard(e)}),Object(S.a)(()=>{this.loadingOverlay.close(),this.dashboardInitialized$.next(!0),this.dashboardInitialized$.complete()})).toPromise()}openChangePasswordModal(){const e={ignoreBackdropClick:!0,keyboard:!1,initialState:{passwordChanged$:new A.a}};e.initialState.passwordChanged$.subscribe(()=>{this.wasPasswordChanged=!0,this.passwordChangeModalRef.hide(),this.openPasswordChangedConfirmationModal()}),this.modalService.registerModal(()=>(this.passwordChangeModalRef=this.bsModalService.show(Xc,e),this.passwordChangeModalRef))}openPasswordChangedConfirmationModal(){this.modalService.registerModal(()=>(this.confirmationModalRef=this.bsModalService.show(this.passwordChangedConfirmationModal,{class:"password-change-confirmation"}),this.confirmationModalRef)),this.confirmationModalRef.onHide.pipe(Object(W.a)()).subscribe(()=>{this.dashboardMessageService.setCurrentPopupToDisplay()})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(I.a),s.Rb(w.a),s.Rb(x.a),s.Rb(C.d),s.Rb(D.a),s.Rb(xc),s.Rb(_.a),s.Rb(xi.a),s.Rb(a.b),s.Rb(Te.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){if(1&e&&s.Sc(fa,1),2&e){let e;s.zc(e=s.gc())&&(t.passwordChangedConfirmationModal=e.first)}},decls:16,vars:5,consts:[[1,"row","justify-content-center"],["class","col-md-10 col-lg-8",4,"ngIf"],[1,"col-md-10","col-lg-8"],[3,"policy",4,"ngIf"],[3,"policy"],[1,"mb-2"],["passwordChangedConfirmationModal",""],[1,"heading-welcome","sessioncamhidetext",3,"ngClass"],[3,"messages"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"content"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Jc(1,ya,3,4,"div",1),s.Jc(2,wa,2,1,"div",1),s.Xb(3,"div",2),s.Xb(4,"h1"),s.Lc(5,"Your policy"),s.Wb(),s.Sb(6,"app-policies-select-list"),s.Wb(),s.Xb(7,"div",2),s.Jc(8,Ca,1,1,"app-policy-details",3),s.Wb(),s.Xb(9,"div",2),s.Sb(10,"app-dashboard-links",4),s.Sb(11,"hr",5),s.Wb(),s.Xb(12,"div",2),s.Sb(13,"app-promo",4),s.Wb(),s.Wb(),s.Jc(14,Wa,4,1,"ng-template",null,6,s.Kc)),2&e&&(s.Ab(1),s.pc("ngIf",t.dashboardPolicyDetails),s.Ab(1),s.pc("ngIf",t.messages&&t.messages.length),s.Ab(6),s.pc("ngIf",t.dashboardPolicyDetails),s.Ab(2),s.pc("policy",t.dashboardPolicyDetails),s.Ab(3),s.pc("policy",t.dashboardPolicyDetails))},directives:[r.p,T.a,oa,ca,r.n,B,ga,J.a],styles:[""]}),e})();function Sa(e,t){if(1&e&&(s.Vb(0),s.Lc(1),s.jc(2,"date"),s.Ub()),2&e){const e=s.ic(2).$implicit;s.Ab(1),s.Nc(" ",s.lc(2,1,e.transactionDate,"dd/MM/yyyy, HH:mm:ss")," ")}}function La(e,t){if(1&e&&(s.Xb(0,"p"),s.Jc(1,Sa,3,4,"ng-container",11),s.Wb()),2&e){const e=s.ic().$implicit,t=s.Ac(8);s.Ab(1),s.pc("ngIf",e.transactionDate)("ngIfElse",t)}}function ka(e,t){1&e&&s.Lc(0,"-")}function Pa(e,t){if(1&e&&(s.Xb(0,"div"),s.Lc(1),s.Wb()),2&e){const e=t.$implicit;s.Ab(1),s.Nc(" + ",e," ")}}function Ma(e,t){if(1&e&&(s.Vb(0),s.Jc(1,Pa,2,1,"div",18),s.Ub()),2&e){const e=s.ic().$implicit;s.Ab(1),s.pc("ngForOf",e.ancillariesAdded)}}function Aa(e,t){if(1&e&&(s.Xb(0,"div"),s.Lc(1),s.Wb()),2&e){const e=t.$implicit;s.Ab(1),s.Nc(" - ",e," ")}}function Oa(e,t){if(1&e&&(s.Vb(0),s.Jc(1,Aa,2,1,"div",18),s.Ub()),2&e){const e=s.ic().$implicit;s.Ab(1),s.pc("ngForOf",e.ancillariesRemoved)}}function Ia(e,t){if(1&e&&(s.Vb(0),s.Lc(1),s.jc(2,"date"),s.jc(3,"date"),s.Ub()),2&e){const e=s.ic().$implicit;s.Ab(1),s.Oc(" ",s.lc(2,2,e.startDate,"dd/MM/yyyy")," until ",s.lc(3,5,e.endDate,"dd/MM/yyyy, HH:mm:ss")," ")}}function xa(e,t){if(1&e&&(s.Lc(0),s.jc(1,"date")),2&e){const e=s.ic().$implicit;s.Mc(s.lc(1,1,e.startDate,"dd/MM/yyyy"))}}function Ra(e,t){if(1&e&&(s.Xb(0,"div",6),s.Xb(1,"div",7),s.Xb(2,"div",8),s.Xb(3,"div",9),s.Xb(4,"h2",10),s.Lc(5,"Transaction date"),s.Wb(),s.Jc(6,La,2,2,"p",11),s.Jc(7,ka,1,0,"ng-template",null,12,s.Kc),s.Wb(),s.Xb(9,"div",13),s.Xb(10,"h2",10),s.Lc(11,"Description"),s.Wb(),s.Sb(12,"span",14),s.Jc(13,Ma,2,1,"ng-container",4),s.Jc(14,Oa,2,1,"ng-container",4),s.Wb(),s.Xb(15,"div",15),s.Xb(16,"h2",10),s.Lc(17,"Start date"),s.Wb(),s.Xb(18,"p"),s.Jc(19,Ia,4,8,"ng-container",11),s.Wb(),s.Jc(20,xa,2,4,"ng-template",null,16,s.Kc),s.Wb(),s.Xb(22,"div",17),s.Xb(23,"h2",10),s.Lc(24,"Price"),s.Wb(),s.Xb(25,"p"),s.Lc(26),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=t.$implicit,n=s.Ac(8),i=s.Ac(21),o=s.ic(2);s.Ab(6),s.pc("ngIf",e.transactionDate)("ngIfElse",n),s.Ab(6),s.pc("innerHTML",e.description,s.Fc),s.Ab(1),s.pc("ngIf",e.ancillariesAdded),s.Ab(1),s.pc("ngIf",e.ancillariesRemoved),s.Ab(5),s.pc("ngIf",o.isTempOrForeignPolicy(e.description))("ngIfElse",i),s.Ab(7),s.Mc(e.price)}}function Da(e,t){if(1&e&&(s.Vb(0),s.Jc(1,Ra,27,8,"div",5),s.Ub()),2&e){const e=t.ngIf;s.Ab(1),s.pc("ngForOf",e)}}const _a=function(){return["/customer/account"]},Ta=function(e){return{policyId:e}};let qa=(()=>{class e{constructor(e,t,n,i){this.policyService=e,this.route=t,this.loadingOverlay=n,this.scriptsManagerService=i}get policyId(){return this.route.snapshot.queryParams.policyId}ngOnInit(){this.route.queryParams.subscribe(e=>{e.policyId&&(this.scriptsManagerService.initialize(),this.getPolicyActivitySummary())})}ngOnDestroy(){this.scriptsManagerService.destroy()}getPolicyActivitySummary(){this.loadingOverlay.show(),this.policyActivitySummary$=this.policyService.getPolicyActivitySummary$(this.route.snapshot.queryParams.policyId).pipe(Object(S.a)(()=>this.loadingOverlay.close()))}isTempOrForeignPolicy(e){return!(!e.includes("Temp")&&!e.includes("Foreign"))}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(I.a),s.Rb(w.a),s.Rb(x.a),s.Rb(D.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-policy-activity"]],decls:11,vars:8,consts:[[1,"link-back",3,"routerLink","queryParams"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-8"],[1,"mb-4"],[4,"ngIf"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[1,"panel-content"],[1,"row"],[1,"col-6","col-md-4"],[1,"heading-epsilon","mb-2"],[4,"ngIf","ngIfElse"],["noTransactionDate",""],[1,"col-6","col-md-3"],[3,"innerHTML"],[1,"col-6","col-md-3","mt-3","mt-md-0"],["plainStartDate",""],[1,"col-6","col-md-2","mt-3","mt-md-0"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(s.Xb(0,"a",0),s.Lc(1,"< Back to your policy"),s.Wb(),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"h1",3),s.Lc(5,"Policy activity"),s.Wb(),s.Wb(),s.Xb(6,"div",2),s.Sb(7,"app-policies-select-list"),s.Wb(),s.Xb(8,"div",2),s.Jc(9,Da,2,1,"ng-container",4),s.jc(10,"async"),s.Wb(),s.Wb()),2&e&&(s.pc("routerLink",s.tc(5,_a))("queryParams",s.uc(6,Ta,t.policyId)),s.Ab(9),s.pc("ngIf",s.kc(10,3,t.policyActivitySummary$)))},directives:[w.j,T.a,r.p,r.o],pipes:[r.b,r.f],styles:[""]}),e})();var Ea=n("xHok");function Na(e,t){if(1&e){const e=s.Yb();s.Xb(0,"form",3),s.fc("ngSubmit",function(){return s.Ec(e),s.ic().savePassword()}),s.Xb(1,"h1"),s.Lc(2,"Account recovery"),s.Wb(),s.Xb(3,"div",4),s.Xb(4,"div",5),s.Xb(5,"h2",6),s.Lc(6,"Now choose a new password:"),s.Wb(),s.Xb(7,"ul",7),s.Xb(8,"li",8),s.Lc(9,"Between 8 & 20 characters in length"),s.Wb(),s.Xb(10,"li",8),s.Lc(11,"Must include at least one upper and one lower case letter, one number and one special character (e.g. !?@*&)"),s.Wb(),s.Xb(12,"li",8),s.Lc(13,"Do not include spaces"),s.Wb(),s.Wb(),s.Wb(),s.Xb(14,"div",9),s.Xb(15,"div",10),s.Xb(16,"div",11),s.Xb(17,"div",12),s.Xb(18,"label",13),s.Lc(19," New password "),s.Wb(),s.Xb(20,"span",14),s.fc("click",function(){return s.Ec(e),s.ic().togglePasswordInputType()}),s.Lc(21,"Show/hide password"),s.Wb(),s.Wb(),s.Sb(22,"input",15),s.Sb(23,"app-validation-message",16),s.Wb(),s.Wb(),s.Xb(24,"div",10),s.Xb(25,"div",17),s.Xb(26,"div",18),s.Xb(27,"button",19),s.Lc(28,"Save password"),s.Sb(29,"span",20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.ic();s.pc("formGroup",e.resetPasswordForm),s.Ab(22),s.pc("type",e.fieldTextType?"text":"password"),s.Ab(1),s.qc("patternMessage",e.passwordWording),s.pc("control",e.password)}}let Fa=(()=>{class e{constructor(e,t,n,i,o,c,a,s,r){this.fb=t,this.router=n,this.route=i,this.applicationLoaderService=o,this.accountService=c,this.authenticationService=a,this.formService=s,this.scriptsManagerService=r,this.formSubmitted=!1,this.passwordWording="Password must contain between 8 and 20 characters, including at least one upper and one lower case letter, one number and one special character (e.g. !?@*&). Please do not include spaces.",this._destroyed$=new A.a,e.setTitle("Reset password")}get password(){return this.resetPasswordForm.get("password")}ngOnInit(){this.scriptsManagerService.initialize(),this.applicationLoaderService.setLoading(!0),this.accountService.getPasswordValidation$().pipe(Object(S.a)(()=>{this.applicationLoaderService.setLoading(!1)})).subscribe(e=>Object(q.a)(this,void 0,void 0,function*(){if(this.token=this.route.snapshot.queryParams.token,!this.token)return yield this.router.navigate(["/"]);this.resetPasswordForm=this.fb.group({password:[null,[Mn.B.required,Object(io.s)(e.data)]]},{updateOn:"blur"})}))}ngOnDestroy(){this.scriptsManagerService.destroy(),this._destroyed$.next(),this._destroyed$.complete()}savePassword(){this.formSubmitted=!0;const e={Password:this.resetPasswordForm.get("password").value,Token:this.token};this.formService.validateForm(this.resetPasswordForm),this.formService.submitForm(this.resetPasswordForm,this.accountService.resetPassword(e)).pipe(Object(co.a)(e=>e.isSuccess?this.authenticationService.getCurrent({invalidateCache:!0}).pipe(Object(zn.a)(()=>e)):Object(oo.a)(e))).subscribe(e=>Object(q.a)(this,void 0,void 0,function*(){e.isSuccess?(this.authenticationService.signInFromToken(e.data.token,!0),yield this.router.navigate(["/customer/dashboard"])):Object(Zt.s)(e.validationResult,this.resetPasswordForm)}))}togglePasswordInputType(){this.fieldTextType=!this.fieldTextType}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(C.d),s.Rb(Mn.e),s.Rb(w.g),s.Rb(w.a),s.Rb(Ea.a),s.Rb(zi.a),s.Rb(xi.a),s.Rb(Ii.a),s.Rb(D.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-account-reset"]],decls:3,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-lg-8"],["appFormSubmitted","",3,"formGroup","ngSubmit",4,"ngIf"],["appFormSubmitted","",3,"formGroup","ngSubmit"],[1,"panel","flex-lg-row","pb-4","flex-nowrap","pb-lg-0"],[1,"col-12","col-lg-4","panel-highlight","py-4","mb-3","order-lg-2","mb-lg-0"],[1,"mb-3"],[1,"list","list-icons","list-condensed","ml-2"],[1,"list-item","list-icon","list-icon-tick"],[1,"col-12","p-0","col-lg-8","order-lg-1","py-lg-4","pl-lg-3"],[1,"col-12"],[1,"form-group"],[1,"row","m-0","justify-content-between","align-items-center"],["for","password",1,"heading-epsilon","form-question","m-0"],[1,"btn","btn-link","toggle-password",3,"click"],["formControlName","password",1,"form-control","sessioncamexclude",3,"type"],["requiredMessage","New password is missing",3,"control","patternMessage"],[1,"row","no-gutters"],[1,"col-12","d-flex","justify-content-start","p-0"],["type","submit",1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3"],[1,"icon","icon-functional","icon-arrow"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Jc(2,Na,30,4,"form",2),s.Wb(),s.Wb()),2&e&&(s.Ab(2),s.pc("ngIf",t.resetPasswordForm))},directives:[r.p,Mn.C,Mn.s,Mn.j,Mn.b,Mn.r,Mn.h,Di.a],styles:[".list-condensed[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{-ms-flex:1 1 100%;flex:1 1 100%;margin-top:.5em}@media (max-width:350px){.toggle-password[_ngcontent-%COMP%]{font-size:.85rem}}"]}),e})();var ja=n("3XJX"),Ja=n("6I3D");function Ua(e,t){if(1&e){const e=s.Yb();s.Xb(0,"button",36),s.fc("click",function(){return s.Ec(e),s.ic().continueClaim()}),s.Lc(1," Continue my claim "),s.Sb(2,"span",10),s.Wb()}}function Ba(e,t){1&e&&(s.Xb(0,"div"),s.Xb(1,"button",37),s.Lc(2," View your claims "),s.Sb(3,"span",10),s.Wb(),s.Wb()),2&e&&(s.Ab(1),s.pc("routerLink","/customer/claimshistory"))}function Va(e,t){1&e&&(s.Vb(0),s.Xb(1,"p"),s.Lc(2,"Great news! You're covered for windscreen and glass damage! If you need to make a claim you can book your car in for repair here, or by giving us a call on "),s.Xb(3,"a",38),s.Lc(4,"0333 043 2012"),s.Wb(),s.Lc(5,"."),s.Wb(),s.Ub())}function Ya(e,t){1&e&&(s.Xb(0,"p"),s.Lc(1,"While you might not have windscreen and glass cover, it doesn't mean we can't help you out if your car needs to be repaired. Simply book your car in for repair here and select 'pay for the work', or give us a call on 0333 043 2012 and we'll be happy to help."),s.Wb())}function $a(e,t){if(1&e&&(s.Xb(0,"div",39),s.Xb(1,"div",17),s.Xb(2,"div",25),s.Xb(3,"h2",40),s.Lc(4,"Lost or stolen keys"),s.Wb(),s.Xb(5,"p"),s.Lc(6,"If you need to make a claim for lost or stolen keys, don't worry, just give us a call on "),s.Xb(7,"a",41),s.Lc(8,"0333 241 3390"),s.Wb(),s.Lc(9," and we'll help get you back on the road."),s.Wb(),s.Xb(10,"div",32),s.Xb(11,"a",35),s.Lc(12," Get in touch "),s.Sb(13,"span",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(11),s.pc("href",e.keyAssistCoverHelpLink,s.Gc)}}function Ha(e,t){1&e&&(s.Xb(0,"p"),s.Lc(1," If your vehicle\u2019s broken down, simply get in touch on "),s.Xb(2,"a",43),s.Lc(3,"0330 159 8714"),s.Wb(),s.Lc(4," if you\u2019re in the UK, or "),s.Xb(5,"a",44),s.Lc(6,"00 33 472 43 52 55"),s.Wb(),s.Lc(7," if you\u2019re somewhere else in Europe, and we\u2019ll send someone to come help. "),s.Wb())}function Qa(e,t){1&e&&(s.Xb(0,"p"),s.Lc(1," If your vehicle\u2019s broken down, simply get in touch on "),s.Xb(2,"a",43),s.Lc(3,"0330 159 8714"),s.Wb(),s.Lc(4," and we\u2019ll send someone to come help. "),s.Wb())}function Ka(e,t){if(1&e&&s.Jc(0,Qa,5,0,"p",12),2&e){const e=s.ic(2);s.pc("ngIf",null!==e.highestRacBreakdownLevel)}}function Ga(e,t){if(1&e&&(s.Xb(0,"div",39),s.Xb(1,"div",17),s.Xb(2,"div",25),s.Xb(3,"h2",19),s.Lc(4,"Breakdown assistance"),s.Wb(),s.Jc(5,Ha,8,0,"p",20),s.Jc(6,Ka,1,1,"ng-template",null,42,s.Kc),s.Xb(8,"div",32),s.Xb(9,"a",35),s.Lc(10," Get in touch "),s.Sb(11,"span",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.Ac(7),t=s.ic();s.Ab(5),s.pc("ngIf",4===t.highestRacBreakdownLevel)("ngIfElse",e),s.Ab(4),s.pc("href",t.breakdownAssistanceHelpLink,s.Gc)}}const za=function(){return["/customer/account"]},Za=function(e){return{policyId:e}};let es=(()=>{class e{constructor(e,t,n,i,o,c,a,s){this.loadingOverlayService=e,this.scriptsManagerService=t,this.claimsService=n,this.policyService=i,this.router=o,this.route=c,this.titleService=a,this.formBuilder=s,this.titleService.setTitle("Claims")}get policyId(){return this.route.snapshot.queryParams.policyId}get liveChatUrl(){return`${E.a.settings.client.firstCentralAskAQuestionUrl}content/PROD-6848/Do-you-offer-live-chat`}get keyAssistCoverHelpLink(){return`${E.a.settings.client.firstCentralAskAQuestionUrl}content/PROD-7582/How-do-I-claim-on-Key-Assist-Cover`}get breakdownAssistanceHelpLink(){return`${E.a.settings.client.firstCentralAskAQuestionUrl}content/PROD-7563/How-do-I-contact-the-breakdown-company`}get updateClaimHelpLink(){return`${E.a.settings.client.firstCentralAskAQuestionUrl}content/PROD-7675/How-can-I-get-an-update-on-my-claim`}get uninsuredDriverPromiseHelpLink(){return`${E.a.settings.client.firstCentralAskAQuestionUrl}content/PROD-7670/What-does-your-Uninsured-Driver-Promise-mean`}get FAQForm(){return this.askQuestionForm.controls}ngOnInit(){this.scriptsManagerService.initialize(),this.loadingOverlayService.show(),this.isClaimSummaryEnabled=E.a.settings.client.enolClaimSummaryEnabled,this.askQuestionForm=this.formBuilder.group({questionSearchItem:[""]}),Object(L.a)([this.claimsService.getCustomerSummary$(),this.policyService.getCoverPropertiesStatus$()]).pipe(Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(([e,t])=>{this.isAnyOngoingWorkflow=e.isAnyOngoingWorkflow,this.hasWindscreenCover=t.hasWindscreenCover,this.hasBreakdownCover=t.hasBreakdownCover,this.hasKeyAssistCover=t.hasKeyAssistCover,this.highestRacBreakdownLevel=t.highestRacBreakdownLevel})}ngOnDestroy(){this.scriptsManagerService.destroy()}redirectStartClaim(){this.router.navigate(this.isAnyOngoingWorkflow?["enol/draft-claim"]:["enol/incident-details/before-we-start"])}searchForQuestion(){let e=E.a.settings.client.firstCentralAskAQuestionUrl;this.FAQForm.questionSearchItem.value&&(e=`${E.a.settings.client.firstCentralAskAQuestionUrl}search/`+encodeURIComponent(this.FAQForm.questionSearchItem.value)),window.open(e,"_blank")}continueClaim(){this.loadingOverlayService.show(),this.claimsService.continueWorkflow$().pipe(Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(e=>{if(e.isSuccess&&e.data.lastCompletedStep){const t=Object(Ja.a)(e.data.lastCompletedStep);this.router.navigate(["/enol/"+t])}else this.router.navigate(["enol/incident-details/before-we-start"])})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(x.a),s.Rb(D.a),s.Rb(o.a),s.Rb(R.e),s.Rb(w.g),s.Rb(w.a),s.Rb(C.d),s.Rb(Mn.e))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-claims-enol"]],decls:101,vars:14,consts:[[1,"row","justify-content-center"],[1,"col","col-md-10","col-xl-9"],[1,"mb-4"],[1,"row","mb-lg-3"],[1,"col-12","d-flex","flex-column"],[1,"panel","make-a-claim"],[1,"panel-content","row","mx-1","justify-content-between"],[1,"col-12","col-md-5","d-flex","flex-column","p-0"],[1,"mt-2"],[1,"btn","btn-primary","btn-icon","btn-icon-highlight","mt-2","mb-3",3,"click"],[1,"icon","icon-functional","icon-arrow"],["class","btn btn-primary btn-icon btn-icon-highlight mb-3",3,"click",4,"ngIf"],[4,"ngIf"],[1,"col-12","col-md-6","d-flex","flex-column","p-0","justify-content-center"],[1,"embed-container","container-short"],["allowfullscreen","","frameborder","0","mozallowfullscreen","","height","240","width","100%","src","https://www.youtube.com/embed/yS2D8gJP6iw","webkitallowfullscreen","",1,"short"],[1,"col-12","col-xl","d-flex","flex-column"],[1,"panel"],[1,"panel-content"],[1,"heading-delta","DinBold"],[4,"ngIf","ngIfElse"],["noWindscreen",""],["target","_blank","href"," https://www.autowindscreens.co.uk/booking/vehicle/?utm_source=your_account&utm_medium=online&utm_campaign=claims",1,"btn","btn-primary","btn-icon","btn-icon-highlight","mt-3","no-icon","pl-4"],["class","col-12 col-md d-flex flex-column",4,"ngIf"],[1,"col-12","col-md-6","d-flex","flex-column"],[1,"panel-content","d-flex","flex-column"],[1,"d-flex","flex-row",3,"formGroup"],[1,"searchIcon"],["src","../../../assets/images/icons/search-glass.svg",3,"click"],["type","text","type","text","formControlName","questionSearchItem","placeholder","Ask a question",1,"form-control","pl-5",3,"keyup.enter"],["type","button",1,"btn",3,"routerLink","queryParams"],["href","tel:03330432022"],[1,"mt-auto"],["target","_blank",1,"btn","btn-primary","btn-icon","btn-icon-highlight","no-icon",3,"href"],[1,"panel","bg-gray"],["target","_blank",1,"btn","btn-primary","btn-icon","btn-icon-highlight","mt-3","no-icon",3,"href"],[1,"btn","btn-primary","btn-icon","btn-icon-highlight","mb-3",3,"click"],[1,"btn","btn-primary","btn-icon","btn-icon-highlight","mb-3",3,"routerLink"],["href","tel:03330432012"],[1,"col-12","col-md","d-flex","flex-column"],[1,"heading-delta","DinBold","w-75"],["href","tel:03332413390"],["notEuropeanBreakdownLevel",""],["href","tel:03301598714"],["href","tel:0033472435255"]],template:function(e,t){if(1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"h1",2),s.Lc(3,"Claims"),s.Wb(),s.Wb(),s.Wb(),s.Xb(4,"div",0),s.Xb(5,"div",1),s.Xb(6,"div",3),s.Xb(7,"div",4),s.Xb(8,"div",5),s.Xb(9,"div",6),s.Xb(10,"div",7),s.Xb(11,"h2",8),s.Lc(12,"Make a claim"),s.Wb(),s.Xb(13,"p"),s.Lc(14,"Make, continue and check on the status of your claim "),s.Wb(),s.Xb(15,"div"),s.Xb(16,"button",9),s.fc("click",function(){return t.redirectStartClaim()}),s.Lc(17,"Register new claim "),s.Sb(18,"span",10),s.Wb(),s.Wb(),s.Xb(19,"div"),s.Jc(20,Ua,3,0,"button",11),s.Wb(),s.Jc(21,Ba,4,1,"div",12),s.Wb(),s.Xb(22,"div",13),s.Xb(23,"div",14),s.Sb(24,"iframe",15),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"div",3),s.Xb(26,"div",16),s.Xb(27,"div",17),s.Xb(28,"div",18),s.Xb(29,"h2",19),s.Lc(30,"Windscreen and glass damage"),s.Wb(),s.Jc(31,Va,6,0,"ng-container",20),s.Jc(32,Ya,2,0,"ng-template",null,21,s.Kc),s.Xb(34,"a",22),s.Lc(35,"Book online"),s.Sb(36,"span",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Jc(37,$a,14,1,"div",23),s.Jc(38,Ga,12,3,"div",23),s.Wb(),s.Xb(39,"div",3),s.Xb(40,"div",24),s.Xb(41,"div",17),s.Xb(42,"div",25),s.Xb(43,"h2",19),s.Lc(44,"Ask a question"),s.Wb(),s.Xb(45,"p"),s.Lc(46,"We have an extensive set of FAQs - why not try asking a question before getting in touch?"),s.Wb(),s.Xb(47,"form",26),s.Xb(48,"div",27),s.Xb(49,"img",28),s.fc("click",function(){return t.searchForQuestion()}),s.Wb(),s.Wb(),s.Xb(50,"input",29),s.fc("keyup.enter",function(){return t.searchForQuestion()}),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",24),s.Xb(52,"div",17),s.Xb(53,"div",18),s.Xb(54,"h2",19),s.Lc(55,"What am I covered for?"),s.Wb(),s.Xb(56,"p"),s.Lc(57," If you want to know what you're covered for, select the button below for a summary of your insurance cover. "),s.Wb(),s.Xb(58,"button",30),s.Lc(59,"View my policy"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(60,"div",3),s.Xb(61,"div",24),s.Xb(62,"div",17),s.Xb(63,"div",25),s.Xb(64,"h2",19),s.Lc(65,"Discuss a claim"),s.Wb(),s.Xb(66,"p"),s.Lc(67," If you\u2019ve got a question about an existing claim one of our agents will be happy to help. Just give us a call on "),s.Xb(68,"a",31),s.Lc(69,"0333 043 2022"),s.Wb(),s.Lc(70," and we\u2019ll be happy to discuss your claim. "),s.Wb(),s.Xb(71,"div",32),s.Xb(72,"a",33),s.Lc(73," Get in touch "),s.Sb(74,"span",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(75,"div",24),s.Xb(76,"div",34),s.Xb(77,"div",18),s.Xb(78,"h2",19),s.Lc(79,"Our claims promise"),s.Wb(),s.Xb(80,"p"),s.Lc(81," Unlike many insurers, if the accident wasn't your fault, when your claim\u2019s closed, your premium won\u2019t increase. If you\u2019re not sure whether it was your fault, give us a call and let us take the stress out of your claim. "),s.Wb(),s.Xb(82,"a",35),s.Lc(83," Get in touch "),s.Sb(84,"span",10),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(85,"div",3),s.Xb(86,"div",4),s.Xb(87,"div",34),s.Xb(88,"div",18),s.Xb(89,"h2",19),s.Lc(90,"Our Approved Repairers"),s.Wb(),s.Xb(91,"p"),s.Lc(92," We choose our Approved Repairers carefully to make sure you get the best service possible and are confident that your vehicle is in safe hands. "),s.Wb(),s.Xb(93,"p"),s.Lc(94," So if you need to make a claim for your repairs, we'll keep you in the loop throughout the whole process, ensuring you get regular updates on how the repairs are progressing and when they\u2019re expected to finish. "),s.Wb(),s.Xb(95,"p"),s.Lc(96," There\u2019s no need to worry about being left without a vehicle, as not only will our Approved Repairers collect your vehicle from you and deliver your vehicle back once the repairs are complete, we\u2019ll also organise a replacement vehicle while the repairs are being completed, so you can get on with what matters. "),s.Wb(),s.Xb(97,"p"),s.Lc(98," All our repairs are guaranteed for five years, because we're confident in the skill of our teams in delivering the quality of work that\u2019ll get your vehicle working good as new. "),s.Wb(),s.Xb(99,"p"),s.Lc(100," Our network is extensive and reaches across the UK, including Northern Ireland and the Isle of Wight, so no matter where you are, one of our Approved Repairers shouldn\u2019t be too far away. "),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=s.Ac(33);s.Ab(20),s.pc("ngIf",t.isAnyOngoingWorkflow),s.Ab(1),s.pc("ngIf",t.isClaimSummaryEnabled),s.Ab(10),s.pc("ngIf",t.hasWindscreenCover)("ngIfElse",e),s.Ab(6),s.pc("ngIf",t.hasKeyAssistCover),s.Ab(1),s.pc("ngIf",t.hasBreakdownCover),s.Ab(9),s.pc("formGroup",t.askQuestionForm),s.Ab(11),s.pc("routerLink",s.tc(11,za))("queryParams",s.uc(12,Za,t.policyId)),s.Ab(14),s.pc("href",t.updateClaimHelpLink,s.Gc),s.Ab(10),s.pc("href",t.uninsuredDriverPromiseHelpLink,s.Gc)}},directives:[r.p,Mn.C,Mn.s,Mn.j,Mn.b,Mn.r,Mn.h,w.h],styles:[".searchIcon[_ngcontent-%COMP%]{cursor:pointer;position:absolute;left:3em;width:35px;padding-top:5px}h2[_ngcontent-%COMP%]{font-size:20px;font-size:1.2rem;line-height:1.5;font-family:Din Bold}.make-a-claim[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:16rem}.embed-container[_ngcontent-%COMP%]{position:relative;padding-bottom:15rem;height:0;overflow:hidden;max-width:100%}.embed-container[_ngcontent-%COMP%]   embed[_ngcontent-%COMP%], .embed-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]:not(.short), .embed-container[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}@media (min-width:768px){h2[_ngcontent-%COMP%]:not([class^=heading-]){font-size:1.75rem;line-height:1.25;font-family:Justus Pro Bold Italic}.embed-container[_ngcontent-%COMP%]{max-width:480px;padding-bottom:20rem}.embed-container.container-short[_ngcontent-%COMP%]{padding-bottom:15rem}}"]}),e})();var ts=n("dz2n"),ns=n("tkaF"),is=n("SX+u"),os=n("NuG2"),cs=n("4CjN"),as=n("rHOx"),ss=n("MODb"),rs=function(e){return e[e.Unknown=0]="Unknown",e[e.Split=1]="Split",e[e.Fault=2]="Fault",e[e.NonFault=3]="NonFault",e[e.NotApplicable=4]="NotApplicable",e}({}),ls=n("wY0m"),bs=n("1hA4");let ds=(()=>{class e{constructor(e){this.modalRef=e}ngOnChanges(){this.note=this.modalRef.content.note}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(a.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-claim-note-details"]],features:[s.yb],decls:13,vars:5,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[1,"border-top","pt-2","text-small"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.modalRef.hide()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"p"),s.Lc(8),s.Wb(),s.Xb(9,"p",5),s.Lc(10,"Message sent: "),s.Sb(11,"span",6),s.jc(12,"nthDate"),s.Wb(),s.Wb()),2&e&&(s.Ab(2),s.Mc(t.note.subject),s.Ab(6),s.Mc(t.note.message),s.Ab(3),s.pc("innerHTML",s.kc(12,3,t.note.sentDate),s.Fc))},pipes:[G.a],styles:[".modal-body[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]{word-break:break-word}"]}),e})(),us=(()=>{class e{constructor(e,t,n,i){this.modalRef=e,this.fb=t,this.formService=n,this.claimsService=i,this.onCloseSource$=new A.a,this.onClose$=this.onCloseSource$.asObservable().pipe()}get subject(){return this.noteForm.get("subject")}get message(){return this.noteForm.get("message")}ngOnInit(){this.noteForm=this.fb.group({subject:["",[Mn.B.maxLength(200),Mn.B.required]],message:["",[Mn.B.maxLength(2e3)]]})}onSubmit(){if(!this.formService.validateForm(this.noteForm))return;const e=this.noteForm.value;e.claimNumber=this.claimNumber,e.claimId=this.claimId,e.policyKey=this.policyKey;const t=this.claimsService.addNote$(e);this.formService.submitForm(this.noteForm,t).subscribe(e=>{e.isSuccess&&(this.onCloseSource$.next(e.data),this.modalRef.hide())})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(a.a),s.Rb(Mn.e),s.Rb(Ii.a),s.Rb(o.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-claim-note-form"]],decls:24,vars:3,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-4"],["for","subject",1,"heading-epsilon","form-question"],["id","subject","type","text","formControlName","subject",1,"form-control"],["defaultMessage","Please provide the subject.","maxMessage","Subject can't exceed 200 characters.",3,"control"],["for","message",1,"heading-epsilon","form-question"],["id","message","type","text","formControlName","message",1,"form-control"],["maxMessage","Message can't exceed 2000 characters.",3,"control"],["type","submit",1,"btn","btn-primary","btn-icon","btn-icon-highlight","mr-3"],[1,"icon","icon-functional","icon-arrow"],["href","#",3,"click"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"h1",1),s.Lc(2,"Add note"),s.Wb(),s.Xb(3,"button",2),s.fc("click",function(){return t.modalRef.hide()}),s.Xb(4,"span",3),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",4),s.Xb(7,"form",5),s.fc("ngSubmit",function(){return t.onSubmit()}),s.Xb(8,"div",6),s.Xb(9,"label",7),s.Lc(10,"Subject"),s.Wb(),s.Sb(11,"input",8),s.Sb(12,"app-validation-message",9),s.Wb(),s.Xb(13,"div",6),s.Xb(14,"label",10),s.Lc(15,"Message"),s.Wb(),s.Sb(16,"textarea",11),s.Sb(17,"app-validation-message",12),s.Wb(),s.Xb(18,"div"),s.Xb(19,"button",13),s.Lc(20,"Add "),s.Sb(21,"span",14),s.Wb(),s.Xb(22,"a",15),s.fc("click",function(){return t.modalRef.hide(),!1}),s.Lc(23,"Cancel"),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e&&(s.Ab(7),s.pc("formGroup",t.noteForm),s.Ab(5),s.pc("control",t.subject),s.Ab(5),s.pc("control",t.message))},directives:[Mn.C,Mn.s,Mn.j,Mn.b,Mn.r,Mn.h,Di.a],styles:[""]}),e})();var ps=n("9Vyb"),hs=n("TGKs"),ms=n("wOsm"),gs=n("C4IG");const fs=function(e,t){return{incidentType:e,incidentCauseType:t}};function vs(e,t){if(1&e&&s.Sb(0,"span",1),2&e){const e=s.ic();s.pc("incidentData",s.vc(1,fs,e.incidentType,e.incidentCauseType))}}let ys=(()=>{class e{constructor(){this.showIcon=!0}ngOnInit(){this.handleIncidentIcon()}handleIncidentIcon(){switch(this.incidentType){case ms.e.Accident:switch(this.incidentCauseType){case ms.b.WaterImmersionDamage:case ms.b.Weather:this.iconName="waterweather";break;case ms.b.AccidentCausedByVehicleDefect:this.iconName="mechanical";break;default:this.iconName="accident"}break;case ms.e.Theft:this.iconName="theft";break;case ms.e.Vandalism:this.iconName="vandalism";break;case ms.e.WaterWeather:this.iconName="waterweather";break;case ms.e.Fire:this.iconName="fire";break;case ms.e.Key:this.iconName="key";break;case ms.e.Glass:this.iconName="glass";break;case ms.e.Mechanical:this.iconName="mechanical";break;default:this.iconName="",this.showIcon=!1}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Lb({type:e,selectors:[["app-incident-icon"]],inputs:{incidentType:"incidentType",incidentCauseType:"incidentCauseType"},decls:1,vars:1,consts:[["class","icon icon-functional","appEnolIncidentIcon","",3,"incidentData",4,"ngIf"],["appEnolIncidentIcon","",1,"icon","icon-functional",3,"incidentData"]],template:function(e,t){1&e&&s.Jc(0,vs,1,4,"span",0),2&e&&s.pc("ngIf",t.showIcon)},directives:[r.p,gs.a],styles:[".icon-functional[_ngcontent-%COMP%]{max-width:6rem;width:6rem}@media (max-width:575px){.icon-functional[_ngcontent-%COMP%]{max-width:5rem}}"]}),e})();var ws=n("kjr3"),Cs=n("YyUd"),Ws=n("/Rv7"),Xs=n("Lrpa");function Ss(e,t){if(1&e&&(s.Xb(0,"p",42),s.Lc(1),s.jc(2,"getValueByKey"),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.Nc(" ",s.lc(2,1,e.claim.vehicleDetails.model,e.vehicleModels)," ")}}function Ls(e,t){if(1&e&&(s.Xb(0,"p",43),s.Lc(1),s.Wb()),2&e){const e=s.ic();s.Ab(1),s.Oc("",e.claim.driverDetails.firstName," ",e.claim.driverDetails.surname,"")}}function ks(e,t){1&e&&(s.Xb(0,"p",43),s.Lc(1,"Vehicle unattended"),s.Wb())}function Ps(e,t){if(1&e&&(s.Xb(0,"div",29),s.Xb(1,"h3",18),s.Lc(2,"Claim reported date"),s.Wb(),s.Xb(3,"p"),s.Sb(4,"span",30),s.jc(5,"nthDate"),s.Wb(),s.Wb()),2&e){const e=s.ic();s.pc("ngClass",e.showNCD?"col-md-4":"col-md-6 col-lg-4"),s.Ab(4),s.pc("innerHTML",s.kc(5,2,e.claim.reportedDate),s.Fc)}}function Ms(e,t){1&e&&s.Sb(0,"div",44)}function As(e,t){1&e&&s.Sb(0,"span",45)}function Os(e,t){1&e&&s.Sb(0,"div",44)}function Is(e,t){if(1&e&&(s.Xb(0,"div",46),s.Xb(1,"h3",18),s.Lc(2,"No claims discount before renewal"),s.Wb(),s.Xb(3,"p"),s.Lc(4),s.jc(5,"singularPlural"),s.Wb(),s.Wb()),2&e){const e=s.ic();s.Ab(4),s.Oc("",e.claim.ncdYears," ",s.lc(5,2,e.claim.ncdYears,"year"),"")}}function xs(e,t){if(1&e&&(s.Xb(0,"div",47),s.Xb(1,"div",48),s.Xb(2,"h3",18),s.Lc(3,"No claims discount after renewal"),s.Wb(),s.Xb(4,"div"),s.Sb(5,"span",45),s.Wb(),s.Wb(),s.Xb(6,"p"),s.Lc(7),s.jc(8,"singularPlural"),s.Wb(),s.Sb(9,"div",36),s.Wb()),2&e){const e=s.ic();s.pc("appInfoTooltip",e.ncdAfterRenewalTooltip),s.Ab(7),s.Oc("",e.claim.ncdYearsRenewal," ",s.lc(8,3,e.claim.ncdYearsRenewal,"year"),"")}}function Rs(e,t){if(1&e&&(s.Xb(0,"div",49),s.Xb(1,"div",33),s.Xb(2,"h3",18),s.Lc(3,"Settlement amount"),s.Wb(),s.Sb(4,"span",45),s.Wb(),s.Xb(5,"p",50),s.Lc(6),s.jc(7,"focusCurrency"),s.Wb(),s.Sb(8,"div",36),s.Wb()),2&e){const e=s.ic();s.pc("ngClass",e.showNCD?"col-md-4":"col-md-6 col-lg-4"),s.Ab(6),s.Mc(s.mc(7,2,e.claim.totalIncurred,"GBP","1.0-2"))}}function Ds(e,t){if(1&e&&(s.Xb(0,"div",2),s.Xb(1,"div",52),s.Sb(2,"span",53),s.Wb(),s.Xb(3,"div",25),s.Xb(4,"div",59),s.Xb(5,"div",25),s.Xb(6,"p",18),s.Lc(7),s.jc(8,"withoutExtension"),s.Wb(),s.Xb(9,"p"),s.Lc(10),s.Wb(),s.Wb(),s.Xb(11,"div",60),s.Xb(12,"a",61),s.Lc(13,"View"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=t.$implicit,n=s.ic(3);s.Ab(7),s.Mc(s.kc(8,3,e.name)),s.Ab(3),s.Mc(e.description),s.Ab(2),s.pc("href",n.viewUploadedFile(e),s.Gc)}}function _s(e,t){if(1&e&&(s.Vb(0),s.Jc(1,Ds,14,5,"div",58),s.Ub()),2&e){const e=s.ic(2);s.Ab(1),s.pc("ngForOf",e.uploadedFiles)}}function Ts(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",2),s.Xb(1,"div",62),s.Xb(2,"button",57),s.fc("click",function(){return s.Ec(e),s.ic(2).showAllUploadedAttachements()}),s.Lc(3,"Show me all uploaded attachments"),s.Wb(),s.Wb(),s.Wb()}}function qs(e,t){if(1&e&&(s.Xb(0,"div",2),s.Xb(1,"div",52),s.Sb(2,"span",53),s.Wb(),s.Xb(3,"div",25),s.Xb(4,"div",59),s.Xb(5,"div",25),s.Xb(6,"p",18),s.Lc(7),s.jc(8,"withoutExtension"),s.Wb(),s.Xb(9,"p"),s.Lc(10),s.Wb(),s.Wb(),s.Xb(11,"div",60),s.Xb(12,"a",61),s.Lc(13,"View"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&e){const e=t.$implicit,n=s.ic(4);s.Ab(7),s.Mc(s.kc(8,3,e.name)),s.Ab(3),s.Mc(e.description),s.Ab(2),s.pc("href",n.viewUploadedFile(e),s.Gc)}}function Es(e,t){if(1&e&&(s.Vb(0),s.Jc(1,qs,14,5,"div",58),s.Ub()),2&e){const e=s.ic(3);s.Ab(1),s.pc("ngForOf",e.allAttachements)}}function Ns(e,t){1&e&&(s.Xb(0,"p"),s.Lc(1," You haven't uploaded any attachments for this claim. "),s.Wb())}function Fs(e,t){if(1&e&&(s.Vb(0),s.Jc(1,Es,2,1,"ng-container",40),s.Jc(2,Ns,2,0,"p",40),s.Ub()),2&e){const e=s.ic(2);s.Ab(1),s.pc("ngIf",e.allAttachements.length>0),s.Ab(1),s.pc("ngIf",!e.allAttachements.length&&!e.uploadedFiles.length)}}function js(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",2),s.Xb(2,"div",25),s.Sb(3,"hr"),s.Wb(),s.Wb(),s.Jc(4,_s,2,1,"ng-container",40),s.Jc(5,Ts,4,0,"div",51),s.Jc(6,Fs,3,2,"ng-container",40),s.Xb(7,"div",2),s.Xb(8,"div",52),s.Sb(9,"span",53),s.Wb(),s.Xb(10,"div",25),s.Xb(11,"h3",54),s.Lc(12,"Upload evidence"),s.Wb(),s.Xb(13,"p",55),s.Lc(14,"If you have any evidence to support your claim, please upload it here. If you have any CCTV or dash cam footage, please send it to "),s.Xb(15,"a",56),s.Lc(16,"policyholderclaims@1stcentral.co.uk"),s.Wb(),s.Lc(17," with your claim number in the subject line."),s.Wb(),s.Xb(18,"button",57),s.fc("click",function(){s.Ec(e);const t=s.ic(),n=s.Ac(71);return t.openUploaderModal(n)}),s.Lc(19,"Upload"),s.Wb(),s.Wb(),s.Wb(),s.Ub()}if(2&e){const e=s.ic();s.Ab(4),s.pc("ngIf",e.uploadedFiles.length>0),s.Ab(1),s.pc("ngIf",!e.showAllAttachements),s.Ab(1),s.pc("ngIf",e.showAllAttachements)}}function Js(e,t){if(1&e){const e=s.Yb();s.Xb(0,"li",69),s.Xb(1,"a",70),s.fc("click",function(){s.Ec(e);const n=t.$implicit;return s.ic(3).showNoteDetails(n),!1}),s.Lc(2),s.Wb(),s.Wb()}if(2&e){const e=t.$implicit;s.Ab(2),s.Nc(" ",e.subject," ")}}function Us(e,t){if(1&e&&(s.Xb(0,"ul",67),s.Jc(1,Js,3,1,"li",68),s.Wb()),2&e){const e=s.ic(2);s.Ab(1),s.pc("ngForOf",e.claim.notes)}}function Bs(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",2),s.Xb(2,"div",25),s.Sb(3,"hr"),s.Wb(),s.Wb(),s.Xb(4,"div",63),s.Xb(5,"div",64),s.Xb(6,"div",33),s.Xb(7,"h3",18),s.Lc(8,"Additional notes for your claims handler"),s.Wb(),s.Sb(9,"span",45),s.Wb(),s.Sb(10,"div",36),s.Jc(11,Us,2,1,"ul",65),s.Xb(12,"div"),s.Xb(13,"button",66),s.fc("click",function(){return s.Ec(e),s.ic().addNote()}),s.Lc(14,"Add note"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Ub()}if(2&e){const e=s.ic();s.Ab(11),s.pc("ngIf",e.claim.notes.length)}}function Vs(e,t){if(1&e){const e=s.Yb();s.Vb(0),s.Xb(1,"div",2),s.Xb(2,"div",25),s.Sb(3,"hr"),s.Wb(),s.Wb(),s.Xb(4,"div",4),s.Xb(5,"div",71),s.Xb(6,"button",72),s.fc("click",function(){return s.Ec(e),s.ic().continueClaim()}),s.Lc(7,"Continue registering claim "),s.Wb(),s.Xb(8,"a",73),s.fc("click",function(){return s.Ec(e),s.ic().discardClaim(),!1}),s.Lc(9,"Discard claim"),s.Wb(),s.Wb(),s.Wb(),s.Ub()}}function Ys(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",74),s.Xb(1,"h1",75),s.Lc(2,"File upload"),s.Wb(),s.Xb(3,"button",76),s.fc("click",function(){return s.Ec(e),s.ic().modalRef.hide()}),s.Xb(4,"span",77),s.Lc(5,"\xd7"),s.Wb(),s.Wb(),s.Wb(),s.Xb(6,"div",78),s.Xb(7,"app-file-uploader",79),s.fc("fileUploaded",function(t){return s.Ec(e),s.ic().onFileUploaded(t)}),s.Wb(),s.Wb()}if(2&e){const e=s.ic();s.Ab(7),s.pc("modalRef",e.modalRef)("uploaderSettings",e.uploaderSettings)}}const $s=function(e){return{"mt-auto":e}};let Hs=(()=>{class e{constructor(e,t,n,i,o,c){this.loadingOverlayService=e,this.modalService=t,this.bsModalService=n,this.claimsService=i,this.evidenceDocumentService=o,this.router=c,this.liabilityType=rs,this.claimStatus=ls.a,this.showAllAttachements=!1,this.uploadedFiles=[],this.allAttachements=[],this.currentDate=new Date,this.destroy$=new A.a}ngOnInit(){this.getClaimTitle(),this.handlePolicyStatus(),this.handleLiabilityType(),this.handleNCDVisibility(),this.countNCDClaims(),this.handleNCDAfterRenewalTooltip(),this.handleSettlementVisibility(),this.uploaderSettings={pathToApi:this.evidenceDocumentService.getUploadUrl(),additionalParameter:{claimNumber:this.claim.claimNumber,claimId:this.claim.claimId,fileSourcePage:ps.a.ClaimSummary}},this.isSettlementAmountEnabled=k.a.settings.client.enolClaimSummarySettlementAmountEnabled}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openUploaderModal(e){this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(e,{ignoreBackdropClick:!0}),this.modalRef))}showNoteDetails(e){this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(ds,{ignoreBackdropClick:!0,initialState:{note:e}}),this.modalRef))}addNote(){this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(us,{ignoreBackdropClick:!0,initialState:{claimNumber:this.claim.claimNumber,claimId:this.claim.claimId,policyKey:this.claim.policyDetails.policyKey}}),this.modalRef)),this.modalRef.content.onClose$.pipe(Object(Y.a)(this.destroy$)).subscribe(e=>{this.claim.notes.push(e)})}continueClaim(){this.loadingOverlayService.show(),this.claimsService.continueWorkflow$().pipe(Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(e=>{if(e.isSuccess&&e.data.lastCompletedStep){const t=Object(Ja.a)(e.data.lastCompletedStep);this.router.navigate(["/enol/"+t])}else this.router.navigate(["enol/incident-details/before-we-start"])})}discardClaim(){this.modalService.registerModal(()=>(this.modalRef=this.bsModalService.show(bs.a,{ignoreBackdropClick:!0}),this.modalRef))}onFileUploaded(e){this.uploadedFiles.push(e)}viewUploadedFile(e){return this.evidenceDocumentService.getDownloadUrl(e.id)}showAllUploadedAttachements(){this.loadingOverlayService.show(),this.evidenceDocumentService.getEvidences$(this.claim.claimNumber).pipe(Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(e=>{e.isSuccess&&this.loadAllUploadedAttachements(e.data),this.showAllAttachements=!0})}loadAllUploadedAttachements(e){e&&e.forEach(e=>{this.uploadedFiles.some(t=>t.id===e.documentId)||this.allAttachements.push({id:e.documentId,name:e.name,description:e.documentType})})}getClaimTitle(){switch(this.claim.incidentType){case as.a.Accident:switch(this.claim.incidentCauseType){case ss.a.WaterImmersionDamage:this.claimTitle="Water claim";break;case ss.a.Weather:this.claimTitle="Weather claim";break;case ss.a.AccidentCausedByVehicleDefect:this.claimTitle="Mechanical claim";break;default:this.claimTitle="Accident claim"}break;case as.a.Theft:switch(this.claim.incidentCauseType){case ss.a.AttemptedTheftOfInsuredVehicle:this.claimTitle="Attempted theft claim";break;case ss.a.TheftFromInsuredVehicle:this.claimTitle="Theft from claim";break;default:this.claimTitle="Theft of claim"}break;case as.a.Fire:this.claimTitle="Fire claim";break;case as.a.Vandalism:this.claimTitle="Vandalism claim";break;default:this.claimTitle="Incident claim"}}handlePolicyStatus(){const e=new Date(this.claim.policyDetails.policyStartDate),t=new Date(this.claim.policyDetails.policyEndDate);this.policyStatus=e>this.currentDate||t<this.currentDate?N.j.Lapsed:N.j.Live}handleLiabilityType(){switch(this.claim.liabilityType){case rs.NotApplicable:this.faultStatus="n/a";break;case rs.NonFault:this.faultStatus="Non Fault";break;default:this.faultStatus=rs[this.claim.liabilityType]}}handleNCDVisibility(){this.showNCD=!this.claim.wasRenewalPurchased&&this.claim.policyDetails.status!==N.j.Expired&&this.claim.workflowSubmitted}handleNCDAfterRenewalTooltip(){this.affectedNCDClaimsCount>=2&&!this.claim.ncdProtected&&(this.ncdAfterRenewalTooltip="You have had two or more claims where we have been unable to recover costs,       your No Claims Discount will reduce to zero years at renewal."),1!==this.affectedNCDClaimsCount||this.claim.ncdProtected||(this.ncdAfterRenewalTooltip="We have not been able to recover the cost of your claim,       your No Claims Discount will reduce at renewal."),this.affectedNCDClaimsCount>=1&&this.claim.ncdProtected&&(this.ncdAfterRenewalTooltip="We've not been able to recover the cost of your claim,       however as you chose to protect your No Claims Discount, it will remain the same number of years at renewal."),0===this.affectedNCDClaimsCount&&this.notAffectedNCDClaimsCount>=1&&(this.ncdAfterRenewalTooltip="Your No Claims Discount is not impacted by this claim,       your No Claims Discount years will increase at renewal."),1!==this.affectedNCDClaimsCount||1!==this.notAffectedNCDClaimsCount||this.claim.ncdProtected||(this.ncdAfterRenewalTooltip="We've not been able to recover the cost of all of your claims,       your No Claims Discount years will reduce at renewal."),1===this.affectedNCDClaimsCount&&1===this.notAffectedNCDClaimsCount&&this.claim.ncdProtected&&(this.ncdAfterRenewalTooltip="We've not been able to recover the cost of all of your claims,       as you chose to protect your No Claims Discount, it will remain the same number of years at renewal."),this.claim.notificationOnly&&(this.ncdAfterRenewalTooltip+=" You are still required to declare this incident to any future insurer regardless of who was to blame."),this.ncdAfterRenewalTooltip+="<br>NCD may change due to following reasons:       <ul><li>New evidence presented</li>      <li>Liability acceptance</li>      <li>Claim being made against the policy</li>      <li> Where a recovery has been successfully or unsuccessfully made</li></ul>      For more information about your NCD, head to the Documents section in Your Account       and select your Policy Wording and scroll down to section 5 where you'll be able to find out more about your NCD."}handleSettlementVisibility(){const e=k.a.settings.client.enolClaimSummarySettlementAmountVisibleBeforeRenewalDays,t=new Date(this.claim.policyDetails.policyEndDate);t.setDate(t.getDate()-e),t.setHours(0,0,0),t<=new Date((new Date).setHours(0,0,0))&&!this.claim.wasRenewalPurchased&&this.claim.claimStatus!==ls.a.Closed&&(this.showSettlement=!0)}countNCDClaims(){this.affectedNCDClaimsCount=this.claims.filter(e=>{if(this.claim.policyDetails.policyKey===e.policyDetails.policyKey)return!0===e.affectedNCD}).length,this.notAffectedNCDClaimsCount=this.claims.filter(e=>{if(this.claim.policyDetails.policyKey===e.policyDetails.policyKey)return!1===e.affectedNCD}).length}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(x.a),s.Rb(Te.a),s.Rb(a.b),s.Rb(o.a),s.Rb(hs.a),s.Rb(w.g))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-single-claim"]],inputs:{claim:"claim",vehicleModels:"vehicleModels",claims:"claims"},decls:72,vars:32,consts:[[1,"panel","single-claim"],[1,"panel-content"],[1,"row","mb-4"],[1,"col-12","col-md-6","mb-3","mb-md-0"],[1,"row"],[1,"col-auto","pr-0","pr-sm-2"],[1,"heading-delta"],[1,"col-auto"],[3,"claimStatus"],[1,"font-weight-bold","mt-1"],[1,"col-12","col-md-6"],[1,"row","justify-content-start"],[3,"status"],[1,"row","mb-2","mb-md-4"],[1,"row","icon-content-label","mb-4","mb-md-0"],[1,"col","col-auto","h-100"],[3,"incidentType","incidentCauseType"],[1,"col","d-flex","flex-column"],[1,"heading-epsilon"],["class","mb-0 mb-md-2 text-small",4,"ngIf"],[3,"ngClass"],[1,"badge","badge-reg-plate",3,"innerHTML"],[1,"row","icon-content-label","align-items-start"],[1,"col","col-auto","mr-3","mr-sm-4","mr-md-0"],[1,"icon","icon-secondary","icon-medium","icon-profile"],[1,"col"],[1,"heading-epsilon","mb-1"],["class","sessioncamhidetext",4,"ngIf"],["class","col-12 mb-3",3,"ngClass",4,"ngIf"],[1,"col-12","mb-3",3,"ngClass"],[3,"innerHTML"],["class","w-100",4,"ngIf"],["appInfoTooltip","Where a claim is registered as 'fault', this means we'll not be able to recover any costs for your claim.\n        Where it is registered as 'split', we may recover part of the costs for your claim.",1,"col-12","mb-3",3,"ngClass"],[1,"d-flex"],["class","icon icon-functional icon-seagull icon-info-point inline-info-icon","alt","i",4,"ngIf"],[1,"mb-0"],[1,"custom-info-box-parent"],["class","col-12 col-md-4 mb-3",4,"ngIf"],["class","col-12 col-md-4 mb-3",3,"appInfoTooltip",4,"ngIf"],["class","col-12 mb-3","appInfoTooltip","This is your up-to-date settlement figure, which may include some or all of the following:\n        <ul><li>Payments made for your own vehicle damage/theft settlement</li>\n          <li>Vehicle recovery and storage</li>\n          <li>Third-party vehicle or property damage</li>\n          <li>Vehicle hire</li>\n          <li>Third-party or passenger personal injury</li>\n          <li>Loss of earnings or expenses incurred by any other party and legal fees/costs investigating or defending a claim</li></ul>",3,"ngClass",4,"ngIf"],[4,"ngIf"],["uploadFilesModal",""],[1,"mb-0","mb-md-2","text-small"],[1,"sessioncamhidetext"],[1,"w-100"],["alt","i",1,"icon","icon-functional","icon-seagull","icon-info-point","inline-info-icon"],[1,"col-12","col-md-4","mb-3"],[1,"col-12","col-md-4","mb-3",3,"appInfoTooltip"],[1,"d-flex","align-items-start"],["appInfoTooltip","This is your up-to-date settlement figure, which may include some or all of the following:\n        <ul><li>Payments made for your own vehicle damage/theft settlement</li>\n          <li>Vehicle recovery and storage</li>\n          <li>Third-party vehicle or property damage</li>\n          <li>Vehicle hire</li>\n          <li>Third-party or passenger personal injury</li>\n          <li>Loss of earnings or expenses incurred by any other party and legal fees/costs investigating or defending a claim</li></ul>",1,"col-12","mb-3",3,"ngClass"],[1,"no-wrap"],["class","row mb-4",4,"ngIf"],[1,"col-auto","pr-0"],[1,"icon","icon-primary","icon-xsmall","icon-roundel","icon-file-white"],[1,"heading-epsilon","mt-2"],[1,"mt-2"],["href","mailto:policyholderclaims@1stcentral.co.uk"],[1,"btn","btn-primary",3,"click"],["class","row mb-4",4,"ngFor","ngForOf"],[1,"row","flex-column","flex-md-row","justify-content-row-between"],[1,"col-auto","mt-3","mt-md-0"],["target","_blank",1,"btn","btn-primary","no-icon",3,"href"],[1,"col","show-all-attachments"],[1,"row","notes"],["appInfoTooltip","You can type a note or question here for our claims handlers to view, and if required, they'll respond to you within 1 working day.",1,"col"],["class","list list-condensed mb-0",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],[1,"list","list-condensed","mb-0"],["class","list-item mb-1",4,"ngFor","ngForOf"],[1,"list-item","mb-1"],["href","#",3,"click"],[1,"col","d-flex","flex-column","flex-sm-row","align-items-start","align-items-sm-center"],[1,"btn","btn-primary","mr-sm-3",3,"click"],["href","#",1,"mt-3","mt-sm-0",3,"click"],[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[3,"modalRef","uploaderSettings","fileUploaded"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"div",3),s.Xb(4,"div",4),s.Xb(5,"div",5),s.Xb(6,"h2",6),s.Lc(7),s.Wb(),s.Wb(),s.Xb(8,"div",7),s.Sb(9,"app-status-badge",8),s.Xb(10,"p",9),s.Lc(11),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(12,"div",10),s.Xb(13,"div",11),s.Xb(14,"div",5),s.Xb(15,"h2",6),s.Lc(16,"Policy Number"),s.Wb(),s.Wb(),s.Xb(17,"div",7),s.Sb(18,"app-status-badge",12),s.Xb(19,"p",9),s.Lc(20),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(21,"div",13),s.Xb(22,"div",10),s.Xb(23,"div",14),s.Xb(24,"div",15),s.Sb(25,"app-incident-icon",16),s.Wb(),s.Xb(26,"div",17),s.Xb(27,"h3",18),s.Lc(28,"Vehicle registration"),s.Wb(),s.Jc(29,Ss,3,4,"p",19),s.Xb(30,"p",20),s.Sb(31,"span",21),s.jc(32,"regFormat"),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(33,"div",10),s.Xb(34,"div",22),s.Xb(35,"div",23),s.Xb(36,"p"),s.Sb(37,"span",24),s.Wb(),s.Wb(),s.Xb(38,"div",25),s.Xb(39,"h3",26),s.Lc(40,"Driver"),s.Wb(),s.Jc(41,Ls,2,2,"p",27),s.Jc(42,ks,2,0,"p",27),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(43,"div",2),s.Xb(44,"div",25),s.Sb(45,"hr"),s.Wb(),s.Wb(),s.Xb(46,"div",4),s.Jc(47,Ps,6,4,"div",28),s.Xb(48,"div",29),s.Xb(49,"h3",18),s.Lc(50,"Claim incident date"),s.Wb(),s.Xb(51,"p"),s.Sb(52,"span",30),s.jc(53,"nthDate"),s.Wb(),s.Wb(),s.Jc(54,Ms,1,0,"div",31),s.Xb(55,"div",32),s.Xb(56,"div",33),s.Xb(57,"h3",18),s.Lc(58," Liability status "),s.Wb(),s.Jc(59,As,1,0,"span",34),s.Wb(),s.Xb(60,"p",35),s.Lc(61),s.Wb(),s.Sb(62,"div",36),s.Wb(),s.Jc(63,Os,1,0,"div",31),s.Jc(64,Is,6,5,"div",37),s.Jc(65,xs,10,6,"div",38),s.Jc(66,Rs,9,6,"div",39),s.Wb(),s.Jc(67,js,20,3,"ng-container",40),s.Jc(68,Bs,15,1,"ng-container",40),s.Jc(69,Vs,10,0,"ng-container",40),s.Wb(),s.Wb(),s.Jc(70,Ys,8,2,"ng-template",null,41,s.Kc)),2&e&&(s.Ab(7),s.Mc(t.claimTitle),s.Ab(2),s.pc("claimStatus",t.claim.claimStatus),s.Ab(2),s.Mc(t.claim.claimNumber),s.Ab(7),s.pc("status",t.policyStatus),s.Ab(2),s.Mc(t.claim.policyDetails.policyKey),s.Ab(5),s.pc("incidentType",t.claim.incidentType)("incidentCauseType",t.claim.incidentCauseType),s.Ab(4),s.pc("ngIf",!t.claim.isICEClaim),s.Ab(1),s.pc("ngClass",s.uc(30,$s,!t.claim.isICEClaim)),s.Ab(1),s.pc("innerHTML",s.kc(32,26,t.claim.vehicleDetails.registration),s.Fc),s.Ab(10),s.pc("ngIf",!t.claim.vehicleDetails.vehicleUnattended),s.Ab(1),s.pc("ngIf",t.claim.vehicleDetails.vehicleUnattended),s.Ab(5),s.pc("ngIf",!t.claim.isICEClaim),s.Ab(1),s.pc("ngClass",t.showNCD?"col-md-4":"col-md-6 col-lg-4"),s.Ab(4),s.pc("innerHTML",s.kc(53,28,t.claim.incidentDate),s.Fc),s.Ab(2),s.pc("ngIf",!t.showNCD&&!t.claim.isICEClaim),s.Ab(1),s.pc("ngClass",t.showNCD?"col-md-4":"col-md-6 col-lg-4"),s.Ab(4),s.pc("ngIf",t.claim.liabilityType===t.liabilityType.Fault||t.claim.liabilityType===t.liabilityType.Split),s.Ab(2),s.Mc(t.faultStatus),s.Ab(2),s.pc("ngIf",t.claim.isICEClaim),s.Ab(1),s.pc("ngIf",t.showNCD),s.Ab(1),s.pc("ngIf",t.showNCD),s.Ab(1),s.pc("ngIf",!t.claim.isICEClaim&&t.isSettlementAmountEnabled&&t.showSettlement),s.Ab(1),s.pc("ngIf",t.claim.claimStatus!==t.claimStatus.Closed&&t.claim.workflowSubmitted),s.Ab(1),s.pc("ngIf",!t.claim.isICEClaim&&t.claim.claimStatus!==t.claimStatus.Closed&&t.claim.workflowSubmitted),s.Ab(1),s.pc("ngIf",!t.claim.workflowSubmitted&&!t.claim.isICEClaim))},directives:[$.a,ys,r.p,r.n,H.a,r.o,ws.a],pipes:[ye.a,G.a,Cs.a,Ws.a,z.a,Xs.a],styles:[".single-claim[_ngcontent-%COMP%]   .inline-info-icon[_ngcontent-%COMP%]{margin-top:-7px}.single-claim[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]:after, .single-claim[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]:before{left:1rem}.single-claim[_ngcontent-%COMP%]   .icon-file-white[_ngcontent-%COMP%]{width:3rem}.single-claim[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]   .list-condensed[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{-ms-flex:1 1 100%;flex:1 1 100%}.single-claim[_ngcontent-%COMP%]   .show-all-attachments[_ngcontent-%COMP%]{margin-left:3.35rem}@media (max-width:420px){.single-claim[_ngcontent-%COMP%]   .show-all-attachments[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}"]}),e})();function Qs(e,t){1&e&&(s.Xb(0,"p"),s.Lc(1,"Continue and check on the status of your claim"),s.Wb())}function Ks(e,t){if(1&e&&(s.Xb(0,"option",13),s.Lc(1),s.Wb()),2&e){const e=t.$implicit;s.pc("value",e),s.Ab(1),s.Nc(" ",e," ")}}function Gs(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",6),s.Xb(1,"div",7),s.Xb(2,"span",8),s.Lc(3,"Choose a policy for which you want to see your claims"),s.Wb(),s.Xb(4,"div",9),s.Xb(5,"select",10),s.fc("change",function(t){return s.Ec(e),s.ic().onFilterChange(t.target.value)}),s.Xb(6,"option",11),s.Lc(7,"All"),s.Wb(),s.Jc(8,Ks,2,2,"option",12),s.Wb(),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=s.ic();s.Ab(8),s.pc("ngForOf",e.listOfPolicies)}}function zs(e,t){if(1&e&&s.Sb(0,"app-single-claim",18),2&e){const e=t.$implicit,n=s.ic(3);s.pc("claims",n.allClaims)("claim",e)("vehicleModels",n.vehicleModels)}}function Zs(e,t){if(1&e&&(s.Vb(0),s.Jc(1,zs,1,3,"app-single-claim",17),s.Ub()),2&e){const e=s.ic(2);s.Ab(1),s.pc("ngForOf",e.filteredClaims)}}function er(e,t){1&e&&(s.Xb(0,"p"),s.Lc(1,"You haven't made a claim on any of your 1"),s.Xb(2,"sup"),s.Lc(3,"ST"),s.Wb(),s.Lc(4," CENTRAL policies."),s.Wb())}function tr(e,t){if(1&e&&(s.Xb(0,"div",1),s.Xb(1,"div",14),s.Jc(2,Zs,2,1,"ng-container",15),s.Jc(3,er,5,0,"ng-template",null,16,s.Kc),s.Wb(),s.Wb()),2&e){const e=s.Ac(4),t=s.ic();s.Ab(2),s.pc("ngIf",(null==t.allClaims?null:t.allClaims.length)>0)("ngIfElse",e)}}const nr=function(){return["/customer/claimsenol"]};let ir=(()=>{class e{constructor(e,t,n,i,o,c){this.loadingOverlayService=e,this.scriptsManagerService=t,this.titleService=n,this.claimsService=i,this.lookupService=o,this.localStorage=c,this.titleService.setTitle("Your Claims History")}ngOnInit(){this.scriptsManagerService.initialize(),this.loadingOverlayService.show();const e=!(!0===this.localStorage.get(os.a.CLAIMS_SUMMARY_WAS_VISTIED_KEY));this.localStorage.set(os.a.CLAIMS_SUMMARY_WAS_VISTIED_KEY,!0),Object(L.a)({claimsSummary:this.claimsService.getClaimsSummary$(e),vehicleModels:this.lookupService.marketListLookup$(ns.a.VehicleModel)}).pipe(Object(zt.a)(e=>{e.claimsSummary.claims.sort((e,t)=>Number(new Date(t.incidentDate))-Number(new Date(e.incidentDate)))}),Object(S.a)(()=>this.loadingOverlayService.close())).subscribe(e=>{this.allClaims=e.claimsSummary.claims,this.filteredClaims=e.claimsSummary.claims,this.listOfPolicies=e.claimsSummary.policyKeys,this.listOfPoliciesCount=this.listOfPolicies.length,this.vehicleModels=e.vehicleModels.map(e=>{var t;return{key:e.key,value:null===(t=e.value)||void 0===t?void 0:t.trim()}})})}onFilterChange(e){this.filteredClaims=e?this.allClaims.filter(t=>t.policyDetails.policyKey===e):this.allClaims}get loadingFinalized(){return!this.loadingOverlayService.isOverlayDisplayed()}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(x.a),s.Rb(D.a),s.Rb(C.d),s.Rb(o.a),s.Rb(cs.a),s.Rb(is.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-claims-history"]],decls:9,vars:5,consts:[[1,"link-back",3,"routerLink"],[1,"row","justify-content-center"],[1,"col-12","col-md-10","col-xl-9","mb-4"],[4,"ngIf"],["class","col-12 col-md-10 col-xl-9",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"col-12","col-md-10","col-xl-9"],[1,"d-flex","flex-column","flex-sm-row","align-items-sm-center"],[1,"mr-3"],[1,"select-container","filters"],[1,"dropdown-menu",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col","col-md-10","col-xl-9"],[4,"ngIf","ngIfElse"],["noClaims",""],[3,"claims","claim","vehicleModels",4,"ngFor","ngForOf"],[3,"claims","claim","vehicleModels"]],template:function(e,t){1&e&&(s.Xb(0,"a",0),s.Lc(1,"< Back to claims"),s.Wb(),s.Xb(2,"div",1),s.Xb(3,"div",2),s.Xb(4,"h1"),s.Lc(5,"Your Claims History"),s.Wb(),s.Jc(6,Qs,2,0,"p",3),s.Wb(),s.Jc(7,Gs,9,1,"div",4),s.Wb(),s.Jc(8,tr,5,2,"div",5)),2&e&&(s.pc("routerLink",s.tc(4,nr)),s.Ab(6),s.pc("ngIf",(null==t.allClaims?null:t.allClaims.length)>0),s.Ab(1),s.pc("ngIf",(null==t.allClaims?null:t.allClaims.length)>0&&t.listOfPoliciesCount>1),s.Ab(1),s.pc("ngIf",t.loadingFinalized))},directives:[w.j,r.p,Mn.v,Mn.D,r.o,Hs],styles:[".filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-position:95% 50%}"]}),e})(),or=(()=>{class e{constructor(e){this.router=e}canActivate(e,t){return!!E.a.settings.client.enolClaimSummaryEnabled||(this.router.navigate(["/customer/claimsenol"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(s.bc(w.g))},e.\u0275prov=s.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var cr=n("EeOk");const ar=[{path:"",component:ja.a,children:[{path:"",redirectTo:"login/accountlogin"},{path:"login/accountlogin",component:Ji},{path:"login/accountrecovery",component:Qi},{path:"account",component:Kt,canActivate:[Ki.a]},{path:"account/makecontactdetailschanges",component:fc,canActivate:[Ki.a,cr.a]},{path:"account/resetaccount",component:Fa},{path:"documents",component:Qn,canActivate:[Ki.a,cr.a]},{path:"quote",component:Ai,canActivate:[Ki.a,cr.a]},{path:"dashboard",component:Xa,canActivate:[Ki.a]},{path:"policy",component:Qt,canActivate:[Ki.a,cr.a]},{path:"policyactivity",component:qa,canActivate:[Ki.a,cr.a]},{path:"claims",redirectTo:"claimsenol"},{path:"claimsenol",component:es,canActivate:[Ki.a,cr.a,ts.a]},{path:"claimshistory",component:ir,canActivate:[Ki.a,cr.a,or]}]}];let sr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({imports:[[w.k.forChild(ar)],w.k]}),e})();var rr=n("dPUr"),lr=n("gu9Q"),br=n("Ns8M"),dr=n("1bTp");let ur=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({providers:[lr.a,ni.a,zi.a,Ui.a,j.a,tn.a,nn.a,i.c,i.a,o.a,br.a,O,wo,{provide:dr.a,useValue:rr.a}],imports:[[y.a,sr,f.forRoot(),c.b.forRoot(),a.c.forChild(),v.a]]}),e})()},hkZp:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("fXoL"),o=n("K3ix"),c=n("tyNb"),a=n("ofXK");function s(e,t){1&e&&(i.Xb(0,"p"),i.Lc(1," Just to let you know, as you currently have an open claim you will be charged your full years premium until the outcome of your claim has been established. You may incur fees for cancelling your policy, these fees are applicable whether you choose to cancel online or call us. "),i.Wb())}function r(e,t){1&e&&(i.Xb(0,"p"),i.Lc(1,"Just to let you know, you may incur fees for cancelling your policy. These fees are applicable whether you choose to cancel online or call us."),i.Wb())}let l=(()=>{class e{constructor(e,t,n){this.modalRef=e,this.route=t,this.router=n}startCancellation(){this.router.navigate(["/cancellation/reason"],{queryParams:{policyId:this.route.snapshot.queryParams.policyId,reason:this.cancellationReason}}),this.modalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(o.a),i.Rb(c.a),i.Rb(c.g))},e.\u0275cmp=i.Lb({type:e,selectors:[["app-cancellation-popup"]],decls:16,vars:2,consts:[[1,"modal-header","pt-4","pl-4","pr-4","pb-0","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pb-4","pl-4","pr-4"],[4,"ngIf","ngIfElse"],["noClaimsMessage",""],[1,"d-flex","flex-column","flex-sm-row","align-items-sm-center","align-items-start"],["type","button",1,"btn","btn-primary","btn-icon","btn-icon-highlight","my-3","mr-3",3,"click"],[1,"icon","icon-functional","icon-arrow"],["href","#",3,"click"]],template:function(e,t){if(1&e&&(i.Xb(0,"div",0),i.Xb(1,"h1",1),i.Lc(2,"Wait a minute"),i.Wb(),i.Xb(3,"button",2),i.fc("click",function(){return t.modalRef.hide()}),i.Xb(4,"span",3),i.Lc(5,"\xd7"),i.Wb(),i.Wb(),i.Wb(),i.Xb(6,"div",4),i.Jc(7,s,2,0,"p",5),i.Jc(8,r,2,0,"ng-template",null,6,i.Kc),i.Xb(10,"div",7),i.Xb(11,"button",8),i.fc("click",function(){return t.startCancellation()}),i.Lc(12," Continue "),i.Sb(13,"span",9),i.Wb(),i.Xb(14,"a",10),i.fc("click",function(){return t.modalRef.hide(),!1}),i.Lc(15,"I've changed my mind"),i.Wb(),i.Wb(),i.Wb()),2&e){const e=i.Ac(9);i.Ab(7),i.pc("ngIf",t.anyClaimsOnPolicy)("ngIfElse",e)}},directives:[a.p],styles:[""]}),e})()},mbIT:function(e,t,n){"use strict";t.isArray=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},n3uD:function(e,t,n){"use strict";var i=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}}},ozli:function(e,t,n){"use strict";var i=n("zfKp");t.subscribeToObservable=function(e){return function(t){var n=e[i.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},"p//D":function(e,t,n){"use strict";t.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber},poJ0:function(e,t,n){"use strict";var i=n("VKeD");t.subscribeToIterable=function(e){return function(t){for(var n=e[i.iterator]();;){var o=void 0;try{o=n.next()}catch(c){return t.error(c),t}if(o.done){t.complete();break}if(t.next(o.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},wjEo:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=n("FWf1"),c=n("Q1FS"),a=n("6qA3"),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return i(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(o.Subscriber);t.SimpleInnerSubscriber=s;var r=function(e){function t(t,n,i){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return i(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(o.Subscriber);t.ComplexInnerSubscriber=r;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(o.Subscriber);t.SimpleOuterSubscriber=l;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.notifyNext=function(e,t,n,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(o.Subscriber);t.ComplexOuterSubscriber=b,t.innerSubscribe=function(e,t){if(!t.closed){if(e instanceof c.Observable)return e.subscribe(t);var n;try{n=a.subscribeTo(e)(t)}catch(i){t.error(i)}return n}}},yRPT:function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},yoF8:function(e,t,n){"use strict";t.identity=function(e){return e}},yx2s:function(e,t,n){"use strict";var i=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof i.Subscriber?t:null}return!0}},"zB/H":function(e,t,n){"use strict";var i=n("mbIT"),o=n("GMZp"),c=n("pshJ"),a=n("LBXl");function s(e){return e.reduce(function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)},[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,l=this._unsubscribe,b=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var d=0;d<n.length;++d)n[d].remove(this);if(c.isFunction(l)){r&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){t=h instanceof a.UnsubscriptionError?s(h.errors):[h]}}if(i.isArray(b)){d=-1;for(var u=b.length;++d<u;){var p=b[d];if(o.isObject(p))try{p.unsubscribe()}catch(h){t=t||[],h instanceof a.UnsubscriptionError?t=t.concat(s(h.errors)):t.push(h)}}}if(t)throw new a.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var c=this._subscriptions;return null===c?this._subscriptions=[n]:c.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},zfKp:function(e,t,n){"use strict";t.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()}}]);